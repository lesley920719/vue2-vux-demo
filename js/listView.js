webpackJsonp([13],{

/***/ 350:
/***/ (function(module, exports, __webpack_require__) {

eval("var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  __webpack_require__(681)\n}\nvar Component = __webpack_require__(4)(\n  /* script */\n  __webpack_require__(467),\n  /* template */\n  __webpack_require__(642),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-1b910784\",\n  /* moduleIdentifier (server only) */\n  null\n)\nComponent.options.__file = \"E:\\\\lesley\\\\lesley920719\\\\vue2-vux-demo\\\\src\\\\pages\\\\demo\\\\listView.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] listView.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (true) {(function () {\n  var hotAPI = __webpack_require__(0)\n  hotAPI.install(__webpack_require__(1), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-1b910784\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-1b910784\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nmodule.exports = Component.exports\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzUwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL2RlbW8vbGlzdFZpZXcudnVlP2ZiYzMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGRpc3Bvc2VkID0gZmFsc2VcbmZ1bmN0aW9uIGluamVjdFN0eWxlIChzc3JDb250ZXh0KSB7XG4gIGlmIChkaXNwb3NlZCkgcmV0dXJuXG4gIHJlcXVpcmUoXCIhIXZ1ZS1zdHlsZS1sb2FkZXIhY3NzLWxvYWRlcj97XFxcIm1pbmltaXplXFxcIjpmYWxzZSxcXFwic291cmNlTWFwXFxcIjp0cnVlfSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc3R5bGUtY29tcGlsZXIvaW5kZXg/e1xcXCJ2dWVcXFwiOnRydWUsXFxcImlkXFxcIjpcXFwiZGF0YS12LTFiOTEwNzg0XFxcIixcXFwic2NvcGVkXFxcIjp0cnVlLFxcXCJoYXNJbmxpbmVDb25maWdcXFwiOnRydWV9IS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dXgtbG9hZGVyL3NyYy9hZnRlci1sZXNzLWxvYWRlci5qcyFsZXNzLWxvYWRlcj97J21vZGlmeVZhcnMnOnsndGhlbWUnOicjMzMzMzMzJywndGhlbWUtYmxhY2snOicjMDAwMDAwJywndGhlbWUtc2Vjb25kYXJ5JzonIzU4NTg1OCcsJ3RoZW1lLXJlZCc6JyNFNDM2NEYnLCd0aGVtZS1iZyc6JyNlZWVlZWUnLCd0aGVtZS1saW5lYXItZ3JhZGllbnQnOidsaW5lYXItZ3JhZGllbnQoLTkwZGVnLCAjZWI0NzZhIDAlLCAjZWI0NzZhIDEwMCUpJywnaGVhZGVyLWhlaWdodCc6JzAuODhyZW0nLCdwYWdlLXNwYWNlJzonMC4yNHJlbScsJ3RoZW1lLXByaW1hcnknOicjMmQ4Y2YwJywndGhlbWUtbGlnaHQtcHJpbWFyeSc6JyM1Y2FkZmYnLCd0aGVtZS1kYXJrLXByaW1hcnknOicjMmI4NWU0JywndGhlbWUtaW5mbyc6JyMyZGI3ZjUnLCd0aGVtZS1zdWNjZXNzJzonIzE5YmU2YicsJ3RoZW1lLXdhcm5pbmcnOicjZmY5OTAwJywndGhlbWUtZXJyb3InOicjZWQ0MDE0JywndGV4dC10aXRsZSc6JyMxNzIzM2QnLCd0ZXh0LWNvbnRlbnQnOicjNTE1YTZlJywnc3ViLWNvbG9yJzonIzgwODY5NScsJ2J0bi1kaXNhYmxlZCc6JyNjNWM4Y2UnLCdib3JkZXItY29sb3InOicjZGNkZWUyJywnZGl2aWRlci1jb2xvcic6JyNlOGVhZWMnLCdiYWNrZ3JvdW5kLWNvbG9yJzonI2Y4ZjhmOScsJ3RoZW1lLWJkJzonI0IzQjNCMycsJ2NvbG9yRGlzYWJsZWQnOicjQjhCOEI4JywndGhlbWVUZXh0JzonIzQxNDE0MScsJ2NvbG9yTm9ybWFsJzonIzQxNDE0MScsJ3RoZW1lLW5vcm1hbCc6JyM2RjZGNkYnLCd0aGVtZUdyZXknOicjOTk5JywnY29sb3JMaWdodCc6JyM5OTknLCd0aGVtZS10aXAnOicjQzJDMkMyJywndGhlbWVXYXJuJzonI0ZGM0IzMCcsJ3N3aXBlci1pbmRpY2F0b3ItYWN0aXZlLWNvbG9yJzonQHRoZW1lJywnZGF0ZXRpbWUtaGVhZGVyLWl0ZW0tY2FuY2VsLWZvbnQtY29sb3InOidAdGhlbWUnLCdkYXRldGltZS1oZWFkZXItaXRlbS1jb25maXJtLWZvbnQtY29sb3InOidAdGhlbWUnLCdwb3B1cC1waWNrZXItaGVhZGVyLXRleHQtY29sb3InOidAdGhlbWUnLCdkaWFsb2ctYnV0dG9uLXRleHQtcHJpbWFyeS1jb2xvcic6J0B0aGVtZScsJ3RhYi10ZXh0LWRpc2FibGVkLWNvbG9yJzonI2RkZCcsJ3RhYi10ZXh0LWRlZmF1bHQtY29sb3InOicjNjY2JywndGFiLXRleHQtYWN0aXZlLWNvbG9yJzonQHRoZW1lJywndGFiLWJhci1hY3RpdmUtY29sb3InOidAdGhlbWUnfSwnc291cmNlTWFwJzp0cnVlfSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnV4LWxvYWRlci9zcmMvc3R5bGUtbG9hZGVyLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXN0eWxlcyZpbmRleD0wIS4vbGlzdFZpZXcudnVlXCIpXG59XG52YXIgQ29tcG9uZW50ID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvY29tcG9uZW50LW5vcm1hbGl6ZXJcIikoXG4gIC8qIHNjcmlwdCAqL1xuICByZXF1aXJlKFwiISFiYWJlbC1sb2FkZXIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1eC1sb2FkZXIvc3JjL3NjcmlwdC1sb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9c2NyaXB0JmluZGV4PTAhLi9saXN0Vmlldy52dWVcIiksXG4gIC8qIHRlbXBsYXRlICovXG4gIHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlci9pbmRleD97XFxcImlkXFxcIjpcXFwiZGF0YS12LTFiOTEwNzg0XFxcIixcXFwiaGFzU2NvcGVkXFxcIjp0cnVlfSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnV4LWxvYWRlci9zcmMvYmVmb3JlLXRlbXBsYXRlLWNvbXBpbGVyLWxvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnV4LWxvYWRlci9zcmMvdGVtcGxhdGUtbG9hZGVyLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi9saXN0Vmlldy52dWVcIiksXG4gIC8qIHN0eWxlcyAqL1xuICBpbmplY3RTdHlsZSxcbiAgLyogc2NvcGVJZCAqL1xuICBcImRhdGEtdi0xYjkxMDc4NFwiLFxuICAvKiBtb2R1bGVJZGVudGlmaWVyIChzZXJ2ZXIgb25seSkgKi9cbiAgbnVsbFxuKVxuQ29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJFOlxcXFxsZXNsZXlcXFxcbGVzbGV5OTIwNzE5XFxcXHZ1ZTItdnV4LWRlbW9cXFxcc3JjXFxcXHBhZ2VzXFxcXGRlbW9cXFxcbGlzdFZpZXcudnVlXCJcbmlmIChDb21wb25lbnQuZXNNb2R1bGUgJiYgT2JqZWN0LmtleXMoQ29tcG9uZW50LmVzTW9kdWxlKS5zb21lKGZ1bmN0aW9uIChrZXkpIHtyZXR1cm4ga2V5ICE9PSBcImRlZmF1bHRcIiAmJiBrZXkuc3Vic3RyKDAsIDIpICE9PSBcIl9fXCJ9KSkge2NvbnNvbGUuZXJyb3IoXCJuYW1lZCBleHBvcnRzIGFyZSBub3Qgc3VwcG9ydGVkIGluICoudnVlIGZpbGVzLlwiKX1cbmlmIChDb21wb25lbnQub3B0aW9ucy5mdW5jdGlvbmFsKSB7Y29uc29sZS5lcnJvcihcIlt2dWUtbG9hZGVyXSBsaXN0Vmlldy52dWU6IGZ1bmN0aW9uYWwgY29tcG9uZW50cyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIHRlbXBsYXRlcywgdGhleSBzaG91bGQgdXNlIHJlbmRlciBmdW5jdGlvbnMuXCIpfVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkgeyhmdW5jdGlvbiAoKSB7XG4gIHZhciBob3RBUEkgPSByZXF1aXJlKFwidnVlLWhvdC1yZWxvYWQtYXBpXCIpXG4gIGhvdEFQSS5pbnN0YWxsKHJlcXVpcmUoXCJ2dWVcIiksIGZhbHNlKVxuICBpZiAoIWhvdEFQSS5jb21wYXRpYmxlKSByZXR1cm5cbiAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICBpZiAoIW1vZHVsZS5ob3QuZGF0YSkge1xuICAgIGhvdEFQSS5jcmVhdGVSZWNvcmQoXCJkYXRhLXYtMWI5MTA3ODRcIiwgQ29tcG9uZW50Lm9wdGlvbnMpXG4gIH0gZWxzZSB7XG4gICAgaG90QVBJLnJlbG9hZChcImRhdGEtdi0xYjkxMDc4NFwiLCBDb21wb25lbnQub3B0aW9ucylcbiAgfVxuICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBkaXNwb3NlZCA9IHRydWVcbiAgfSlcbn0pKCl9XG5cbm1vZHVsZS5leHBvcnRzID0gQ29tcG9uZW50LmV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3BhZ2VzL2RlbW8vbGlzdFZpZXcudnVlXG4vLyBtb2R1bGUgaWQgPSAzNTBcbi8vIG1vZHVsZSBjaHVua3MgPSAxMyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///350\n");

/***/ }),

/***/ 391:
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(2)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.box[data-v-1b910784] {\\n  position: fixed;\\n  width: 100%;\\n  height: 100%;\\n}\\n.list-view[data-v-1b910784] {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n  background: #dfdfdf;\\n}\\n.list-view .list-group[data-v-1b910784] {\\n  padding-bottom: 30px;\\n}\\n.list-view .list-group .list-group-title[data-v-1b910784] {\\n  height: 30px;\\n  line-height: 30px;\\n  padding-left: 20px;\\n  font-size: 12px;\\n  color: #fff;\\n  background: #c20c0c;\\n}\\n.list-view .list-group .list-group-item[data-v-1b910784] {\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: flex;\\n  -webkit-box-align: center;\\n  -webkit-align-items: center;\\n          align-items: center;\\n  padding: 20px 0 0 30px;\\n}\\n.list-view .list-group .list-group-item .avatar[data-v-1b910784] {\\n  width: 50px;\\n  height: 50px;\\n  border-radius: 5%;\\n}\\n.list-view .list-group .list-group-item .name[data-v-1b910784] {\\n  margin-left: 20px;\\n  color: black;\\n  font-size: 14px;\\n}\\n.list-view .list-shortcut[data-v-1b910784] {\\n  position: absolute;\\n  z-index: 30;\\n  right: 0;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n  width: 20px;\\n  padding: 20px 0;\\n  border-radius: 10px;\\n  text-align: center;\\n  background: rgba(167, 167, 167, 0.5);\\n  font-family: Helvetica;\\n}\\n.list-view .list-shortcut .item[data-v-1b910784] {\\n  padding: 3px;\\n  line-height: 1;\\n  color: black;\\n  font-size: 11px;\\n}\\n.list-view .list-shortcut .item.current[data-v-1b910784] {\\n  color: #c20c0c;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"E:/lesley/lesley920719/vue2-vux-demo/src/pages/demo/listView.vue\"],\"names\":[],\"mappings\":\";AAAA;EACE,gBAAgB;EAChB,YAAY;EACZ,aAAa;CACd;AACD;EACE,mBAAmB;EACnB,YAAY;EACZ,aAAa;EACb,iBAAiB;EACjB,oBAAoB;CACrB;AACD;EACE,qBAAqB;CACtB;AACD;EACE,aAAa;EACb,kBAAkB;EAClB,mBAAmB;EACnB,gBAAgB;EAChB,YAAY;EACZ,oBAAoB;CACrB;AACD;EACE,qBAAc;EAAd,sBAAc;EAAd,cAAc;EACd,0BAAoB;EAApB,4BAAoB;UAApB,oBAAoB;EACpB,uBAAuB;CACxB;AACD;EACE,YAAY;EACZ,aAAa;EACb,kBAAkB;CACnB;AACD;EACE,kBAAkB;EAClB,aAAa;EACb,gBAAgB;CACjB;AACD;EACE,mBAAmB;EACnB,YAAY;EACZ,SAAS;EACT,SAAS;EACT,oCAA4B;UAA5B,4BAA4B;EAC5B,YAAY;EACZ,gBAAgB;EAChB,oBAAoB;EACpB,mBAAmB;EACnB,qCAAqC;EACrC,uBAAuB;CACxB;AACD;EACE,aAAa;EACb,eAAe;EACf,aAAa;EACb,gBAAgB;CACjB;AACD;EACE,eAAe;CAChB\",\"file\":\"listView.vue\",\"sourcesContent\":[\".box {\\n  position: fixed;\\n  width: 100%;\\n  height: 100%;\\n}\\n.list-view {\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n  background: #dfdfdf;\\n}\\n.list-view .list-group {\\n  padding-bottom: 30px;\\n}\\n.list-view .list-group .list-group-title {\\n  height: 30px;\\n  line-height: 30px;\\n  padding-left: 20px;\\n  font-size: 12px;\\n  color: #fff;\\n  background: #c20c0c;\\n}\\n.list-view .list-group .list-group-item {\\n  display: flex;\\n  align-items: center;\\n  padding: 20px 0 0 30px;\\n}\\n.list-view .list-group .list-group-item .avatar {\\n  width: 50px;\\n  height: 50px;\\n  border-radius: 5%;\\n}\\n.list-view .list-group .list-group-item .name {\\n  margin-left: 20px;\\n  color: black;\\n  font-size: 14px;\\n}\\n.list-view .list-shortcut {\\n  position: absolute;\\n  z-index: 30;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n  width: 20px;\\n  padding: 20px 0;\\n  border-radius: 10px;\\n  text-align: center;\\n  background: rgba(167, 167, 167, 0.5);\\n  font-family: Helvetica;\\n}\\n.list-view .list-shortcut .item {\\n  padding: 3px;\\n  line-height: 1;\\n  color: black;\\n  font-size: 11px;\\n}\\n.list-view .list-shortcut .item.current {\\n  color: #c20c0c;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzkxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL2RlbW8vbGlzdFZpZXcudnVlPzdkYzQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSh0cnVlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIlxcbi5ib3hbZGF0YS12LTFiOTEwNzg0XSB7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuLmxpc3Qtdmlld1tkYXRhLXYtMWI5MTA3ODRdIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIGJhY2tncm91bmQ6ICNkZmRmZGY7XFxufVxcbi5saXN0LXZpZXcgLmxpc3QtZ3JvdXBbZGF0YS12LTFiOTEwNzg0XSB7XFxuICBwYWRkaW5nLWJvdHRvbTogMzBweDtcXG59XFxuLmxpc3QtdmlldyAubGlzdC1ncm91cCAubGlzdC1ncm91cC10aXRsZVtkYXRhLXYtMWI5MTA3ODRdIHtcXG4gIGhlaWdodDogMzBweDtcXG4gIGxpbmUtaGVpZ2h0OiAzMHB4O1xcbiAgcGFkZGluZy1sZWZ0OiAyMHB4O1xcbiAgZm9udC1zaXplOiAxMnB4O1xcbiAgY29sb3I6ICNmZmY7XFxuICBiYWNrZ3JvdW5kOiAjYzIwYzBjO1xcbn1cXG4ubGlzdC12aWV3IC5saXN0LWdyb3VwIC5saXN0LWdyb3VwLWl0ZW1bZGF0YS12LTFiOTEwNzg0XSB7XFxuICBkaXNwbGF5OiAtd2Via2l0LWJveDtcXG4gIGRpc3BsYXk6IC13ZWJraXQtZmxleDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtd2Via2l0LWJveC1hbGlnbjogY2VudGVyO1xcbiAgLXdlYmtpdC1hbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgcGFkZGluZzogMjBweCAwIDAgMzBweDtcXG59XFxuLmxpc3QtdmlldyAubGlzdC1ncm91cCAubGlzdC1ncm91cC1pdGVtIC5hdmF0YXJbZGF0YS12LTFiOTEwNzg0XSB7XFxuICB3aWR0aDogNTBweDtcXG4gIGhlaWdodDogNTBweDtcXG4gIGJvcmRlci1yYWRpdXM6IDUlO1xcbn1cXG4ubGlzdC12aWV3IC5saXN0LWdyb3VwIC5saXN0LWdyb3VwLWl0ZW0gLm5hbWVbZGF0YS12LTFiOTEwNzg0XSB7XFxuICBtYXJnaW4tbGVmdDogMjBweDtcXG4gIGNvbG9yOiBibGFjaztcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG59XFxuLmxpc3QtdmlldyAubGlzdC1zaG9ydGN1dFtkYXRhLXYtMWI5MTA3ODRdIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDMwO1xcbiAgcmlnaHQ6IDA7XFxuICB0b3A6IDUwJTtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxuICB3aWR0aDogMjBweDtcXG4gIHBhZGRpbmc6IDIwcHggMDtcXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBiYWNrZ3JvdW5kOiByZ2JhKDE2NywgMTY3LCAxNjcsIDAuNSk7XFxuICBmb250LWZhbWlseTogSGVsdmV0aWNhO1xcbn1cXG4ubGlzdC12aWV3IC5saXN0LXNob3J0Y3V0IC5pdGVtW2RhdGEtdi0xYjkxMDc4NF0ge1xcbiAgcGFkZGluZzogM3B4O1xcbiAgbGluZS1oZWlnaHQ6IDE7XFxuICBjb2xvcjogYmxhY2s7XFxuICBmb250LXNpemU6IDExcHg7XFxufVxcbi5saXN0LXZpZXcgLmxpc3Qtc2hvcnRjdXQgLml0ZW0uY3VycmVudFtkYXRhLXYtMWI5MTA3ODRdIHtcXG4gIGNvbG9yOiAjYzIwYzBjO1xcbn1cXG5cIiwgXCJcIiwge1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wiRTovbGVzbGV5L2xlc2xleTkyMDcxOS92dWUyLXZ1eC1kZW1vL3NyYy9wYWdlcy9kZW1vL2xpc3RWaWV3LnZ1ZVwiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiO0FBQUE7RUFDRSxnQkFBZ0I7RUFDaEIsWUFBWTtFQUNaLGFBQWE7Q0FDZDtBQUNEO0VBQ0UsbUJBQW1CO0VBQ25CLFlBQVk7RUFDWixhQUFhO0VBQ2IsaUJBQWlCO0VBQ2pCLG9CQUFvQjtDQUNyQjtBQUNEO0VBQ0UscUJBQXFCO0NBQ3RCO0FBQ0Q7RUFDRSxhQUFhO0VBQ2Isa0JBQWtCO0VBQ2xCLG1CQUFtQjtFQUNuQixnQkFBZ0I7RUFDaEIsWUFBWTtFQUNaLG9CQUFvQjtDQUNyQjtBQUNEO0VBQ0UscUJBQWM7RUFBZCxzQkFBYztFQUFkLGNBQWM7RUFDZCwwQkFBb0I7RUFBcEIsNEJBQW9CO1VBQXBCLG9CQUFvQjtFQUNwQix1QkFBdUI7Q0FDeEI7QUFDRDtFQUNFLFlBQVk7RUFDWixhQUFhO0VBQ2Isa0JBQWtCO0NBQ25CO0FBQ0Q7RUFDRSxrQkFBa0I7RUFDbEIsYUFBYTtFQUNiLGdCQUFnQjtDQUNqQjtBQUNEO0VBQ0UsbUJBQW1CO0VBQ25CLFlBQVk7RUFDWixTQUFTO0VBQ1QsU0FBUztFQUNULG9DQUE0QjtVQUE1Qiw0QkFBNEI7RUFDNUIsWUFBWTtFQUNaLGdCQUFnQjtFQUNoQixvQkFBb0I7RUFDcEIsbUJBQW1CO0VBQ25CLHFDQUFxQztFQUNyQyx1QkFBdUI7Q0FDeEI7QUFDRDtFQUNFLGFBQWE7RUFDYixlQUFlO0VBQ2YsYUFBYTtFQUNiLGdCQUFnQjtDQUNqQjtBQUNEO0VBQ0UsZUFBZTtDQUNoQlwiLFwiZmlsZVwiOlwibGlzdFZpZXcudnVlXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi5ib3gge1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcbi5saXN0LXZpZXcge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgYmFja2dyb3VuZDogI2RmZGZkZjtcXG59XFxuLmxpc3QtdmlldyAubGlzdC1ncm91cCB7XFxuICBwYWRkaW5nLWJvdHRvbTogMzBweDtcXG59XFxuLmxpc3QtdmlldyAubGlzdC1ncm91cCAubGlzdC1ncm91cC10aXRsZSB7XFxuICBoZWlnaHQ6IDMwcHg7XFxuICBsaW5lLWhlaWdodDogMzBweDtcXG4gIHBhZGRpbmctbGVmdDogMjBweDtcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgYmFja2dyb3VuZDogI2MyMGMwYztcXG59XFxuLmxpc3QtdmlldyAubGlzdC1ncm91cCAubGlzdC1ncm91cC1pdGVtIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgcGFkZGluZzogMjBweCAwIDAgMzBweDtcXG59XFxuLmxpc3QtdmlldyAubGlzdC1ncm91cCAubGlzdC1ncm91cC1pdGVtIC5hdmF0YXIge1xcbiAgd2lkdGg6IDUwcHg7XFxuICBoZWlnaHQ6IDUwcHg7XFxuICBib3JkZXItcmFkaXVzOiA1JTtcXG59XFxuLmxpc3QtdmlldyAubGlzdC1ncm91cCAubGlzdC1ncm91cC1pdGVtIC5uYW1lIHtcXG4gIG1hcmdpbi1sZWZ0OiAyMHB4O1xcbiAgY29sb3I6IGJsYWNrO1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbn1cXG4ubGlzdC12aWV3IC5saXN0LXNob3J0Y3V0IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDMwO1xcbiAgcmlnaHQ6IDA7XFxuICB0b3A6IDUwJTtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcXG4gIHdpZHRoOiAyMHB4O1xcbiAgcGFkZGluZzogMjBweCAwO1xcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGJhY2tncm91bmQ6IHJnYmEoMTY3LCAxNjcsIDE2NywgMC41KTtcXG4gIGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2E7XFxufVxcbi5saXN0LXZpZXcgLmxpc3Qtc2hvcnRjdXQgLml0ZW0ge1xcbiAgcGFkZGluZzogM3B4O1xcbiAgbGluZS1oZWlnaHQ6IDE7XFxuICBjb2xvcjogYmxhY2s7XFxuICBmb250LXNpemU6IDExcHg7XFxufVxcbi5saXN0LXZpZXcgLmxpc3Qtc2hvcnRjdXQgLml0ZW0uY3VycmVudCB7XFxuICBjb2xvcjogI2MyMGMwYztcXG59XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9jc3MtbG9hZGVyP3tcIm1pbmltaXplXCI6ZmFsc2UsXCJzb3VyY2VNYXBcIjp0cnVlfSEuL34vdnVlLWxvYWRlci9saWIvc3R5bGUtY29tcGlsZXI/e1widnVlXCI6dHJ1ZSxcImlkXCI6XCJkYXRhLXYtMWI5MTA3ODRcIixcInNjb3BlZFwiOnRydWUsXCJoYXNJbmxpbmVDb25maWdcIjp0cnVlfSEuL34vdnV4LWxvYWRlci9zcmMvYWZ0ZXItbGVzcy1sb2FkZXIuanMhLi9+L2xlc3MtbG9hZGVyP3snbW9kaWZ5VmFycyc6eyd0aGVtZSc6JyMzMzMzMzMnLCd0aGVtZS1ibGFjayc6JyMwMDAwMDAnLCd0aGVtZS1zZWNvbmRhcnknOicjNTg1ODU4JywndGhlbWUtcmVkJzonI0U0MzY0RicsJ3RoZW1lLWJnJzonI2VlZWVlZScsJ3RoZW1lLWxpbmVhci1ncmFkaWVudCc6J2xpbmVhci1ncmFkaWVudCgtOTBkZWcsICNlYjQ3NmEgMCUsICNlYjQ3NmEgMTAwJSknLCdoZWFkZXItaGVpZ2h0JzonMC44OHJlbScsJ3BhZ2Utc3BhY2UnOicwLjI0cmVtJywndGhlbWUtcHJpbWFyeSc6JyMyZDhjZjAnLCd0aGVtZS1saWdodC1wcmltYXJ5JzonIzVjYWRmZicsJ3RoZW1lLWRhcmstcHJpbWFyeSc6JyMyYjg1ZTQnLCd0aGVtZS1pbmZvJzonIzJkYjdmNScsJ3RoZW1lLXN1Y2Nlc3MnOicjMTliZTZiJywndGhlbWUtd2FybmluZyc6JyNmZjk5MDAnLCd0aGVtZS1lcnJvcic6JyNlZDQwMTQnLCd0ZXh0LXRpdGxlJzonIzE3MjMzZCcsJ3RleHQtY29udGVudCc6JyM1MTVhNmUnLCdzdWItY29sb3InOicjODA4Njk1JywnYnRuLWRpc2FibGVkJzonI2M1YzhjZScsJ2JvcmRlci1jb2xvcic6JyNkY2RlZTInLCdkaXZpZGVyLWNvbG9yJzonI2U4ZWFlYycsJ2JhY2tncm91bmQtY29sb3InOicjZjhmOGY5JywndGhlbWUtYmQnOicjQjNCM0IzJywnY29sb3JEaXNhYmxlZCc6JyNCOEI4QjgnLCd0aGVtZVRleHQnOicjNDE0MTQxJywnY29sb3JOb3JtYWwnOicjNDE0MTQxJywndGhlbWUtbm9ybWFsJzonIzZGNkY2RicsJ3RoZW1lR3JleSc6JyM5OTknLCdjb2xvckxpZ2h0JzonIzk5OScsJ3RoZW1lLXRpcCc6JyNDMkMyQzInLCd0aGVtZVdhcm4nOicjRkYzQjMwJywnc3dpcGVyLWluZGljYXRvci1hY3RpdmUtY29sb3InOidAdGhlbWUnLCdkYXRldGltZS1oZWFkZXItaXRlbS1jYW5jZWwtZm9udC1jb2xvcic6J0B0aGVtZScsJ2RhdGV0aW1lLWhlYWRlci1pdGVtLWNvbmZpcm0tZm9udC1jb2xvcic6J0B0aGVtZScsJ3BvcHVwLXBpY2tlci1oZWFkZXItdGV4dC1jb2xvcic6J0B0aGVtZScsJ2RpYWxvZy1idXR0b24tdGV4dC1wcmltYXJ5LWNvbG9yJzonQHRoZW1lJywndGFiLXRleHQtZGlzYWJsZWQtY29sb3InOicjZGRkJywndGFiLXRleHQtZGVmYXVsdC1jb2xvcic6JyM2NjYnLCd0YWItdGV4dC1hY3RpdmUtY29sb3InOidAdGhlbWUnLCd0YWItYmFyLWFjdGl2ZS1jb2xvcic6J0B0aGVtZSd9LCdzb3VyY2VNYXAnOnRydWV9IS4vfi92dXgtbG9hZGVyL3NyYy9zdHlsZS1sb2FkZXIuanMhLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9zcmMvcGFnZXMvZGVtby9saXN0Vmlldy52dWVcbi8vIG1vZHVsZSBpZCA9IDM5MVxuLy8gbW9kdWxlIGNodW5rcyA9IDEzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///391\n");

/***/ }),

/***/ 467:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_better_scroll__ = __webpack_require__(489);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      singers: [{\n        title: '热门',\n        items: [{\n          id: 6452,\n          name: '周杰伦',\n          avatar: 'http://p3.music.126.net/o-FjCrUlhyFC96xiVvJZ8g==/109951163111191410.jpg'\n        }, {\n          id: 2116,\n          name: '陈奕迅',\n          avatar: 'http://p4.music.126.net/_d1scu7z_1dmd0Zgv9mTLA==/19165587183900212.jpg'\n        }, {\n          id: 5781,\n          name: '薛之谦',\n          avatar: 'http://p4.music.126.net/ULlwJ2drOfYv-f6-_7jGGQ==/3250156379592966.jpg'\n        }, {\n          id: 126339,\n          name: 'BIGBANG',\n          avatar: 'http://p4.music.126.net/H4Lh45kDfeb1Ke7THhNWjQ==/109951163109244011.jpg'\n        }, {\n          id: 3684,\n          name: '林俊杰',\n          avatar: 'http://p3.music.126.net/cnGpIQ6rQCKVrDyVVSpzeg==/3263350518850877.jpg'\n        }, {\n          id: 96266,\n          name: 'Maroon 5',\n          avatar: 'http://p3.music.126.net/h-ynyQrpyIvfJeW_DeaqHA==/1385384666932895.jpg'\n        }, {\n          id: 9621,\n          name: '王菲',\n          avatar: 'http://p4.music.126.net/GKhjgN1ltQYK3eYf9DdJwg==/18727981557622763.jpg'\n        }, {\n          id: 4292,\n          name: '李荣浩',\n          avatar: 'http://p4.music.126.net/tpH_HIHPDjRZep1pJC3q2w==/109951163062593811.jpg'\n        }, {\n          id: 7763,\n          name: 'G.E.M.邓紫棋',\n          avatar: 'http://p4.music.126.net/r7uMnwjWpYMuQI_3ZTg56A==/18528969953189760.jpg'\n        }, {\n          id: 6460,\n          name: '张学友',\n          avatar: 'http://p3.music.126.net/1JG8Uwzb5XAJXaPUHR6RBw==/3238061747024716.jpg'\n        }]\n      }, {\n        title: 'A',\n        items: [{\n          id: 46487,\n          name: 'Adele',\n          avatar: 'http://p4.music.126.net/6iuRSwLHGrjp3RJH86tfuQ==/3261151495434554.jpg'\n        }, {\n          id: 1045123,\n          name: 'Alan Walker',\n          avatar: 'http://p4.music.126.net/AsrGD4Sf0HWJ3mK-Y__PLw==/18981968742063387.jpg'\n        }, {\n          id: 7063,\n          name: 'A-Lin',\n          avatar: 'http://p4.music.126.net/8iSt6sAD819N3juz-bu2vQ==/1379887107721899.jpg'\n        }, {\n          id: 48161,\n          name: 'Ariana Grande',\n          avatar: 'http://p3.music.126.net/hqr3IB1u1UVJKkmxyIvsfA==/18701593278522174.jpg'\n        }, {\n          id: 16152,\n          name: 'Aimer',\n          avatar: 'http://p3.music.126.net/7oFBcNAt1TXGzliOEc3p7g==/109951163112362346.jpg'\n        }, {\n          id: 45236,\n          name: 'Avicii',\n          avatar: 'http://p3.music.126.net/h1wzVYeqth2d2ujPefocGQ==/18588343581208995.jpg'\n        }, {\n          id: 46490,\n          name: 'Avril Lavigne',\n          avatar: 'http://p3.music.126.net/plN1CKu6igIh7fKrE8prWA==/18912699509666227.jpg'\n        }, {\n          id: 87066,\n          name: 'Audio Machine',\n          avatar: 'http://p3.music.126.net/C4QsdeWjFi_ZrDAxUrF0MQ==/109951163187133601.jpg'\n        }]\n      }, {\n        title: 'B',\n        items: [{\n          id: 126339,\n          name: 'BIGBANG',\n          avatar: 'http://p4.music.126.net/H4Lh45kDfeb1Ke7THhNWjQ==/109951163109244011.jpg'\n        }, {\n          id: 178059,\n          name: 'Bruno Mars',\n          avatar: 'http://p3.music.126.net/Zf1ESZwNs0MaiqLBAZ2PWQ==/18723583511044011.jpg'\n        }, {\n          id: 11127,\n          name: 'Beyond',\n          avatar: 'http://p4.music.126.net/wuaNikQW2tPPFN0Oe5Rk9w==/80264348845616.jpg'\n        }, {\n          id: 783124,\n          name: 'BTS (防弹少年团)',\n          avatar: 'http://p3.music.126.net/YHtpXGyzCv093GLtujr1cQ==/109951163064390008.jpg'\n        }]\n      }, {\n        title: 'C',\n        items: [{\n          id: 2116,\n          name: '陈奕迅',\n          avatar: 'http://p4.music.126.net/_d1scu7z_1dmd0Zgv9mTLA==/19165587183900212.jpg'\n        }, {\n          id: 89365,\n          name: 'Coldplay',\n          avatar: 'http://p4.music.126.net/eL-ft_ucUcby648eVnNewA==/19162288649094558.jpg'\n        }, {\n          id: 1007170,\n          name: '陈粒',\n          avatar: 'http://p3.music.126.net/Q92YwJrk2f2tsK-7B0VIhQ==/6628955605123612.jpg'\n        }, {\n          id: 2112,\n          name: '陈小春',\n          avatar: 'http://p3.music.126.net/WA-eUvljuoahxnENnwqx1g==/172623325577460.jpg'\n        }, {\n          id: 90331,\n          name: 'Charlie Puth',\n          avatar: 'http://p4.music.126.net/jKGxUbCYhy5aaKlvlrLM2w==/109951163040583012.jpg'\n        }, {\n          id: 50934,\n          name: 'Carly Rae Jepsen',\n          avatar: 'http://p4.music.126.net/YzpodJ0TyW4ZC587Porasw==/240793046499895.jpg'\n        }, {\n          id: 7217,\n          name: '陈绮贞',\n          avatar: 'http://p4.music.126.net/bQEPHbVRPhyEnyYNe8zUqA==/153931627905286.jpg'\n        }, {\n          id: 159692,\n          name: '初音ミク',\n          avatar: 'http://p3.music.126.net/tMz0TTyDO4pJv3FMETjRGw==/109951163021786523.jpg'\n        }]\n      }, {\n        title: 'E',\n        items: [{\n          id: 759509,\n          name: 'EXO',\n          avatar: 'http://p3.music.126.net/DZ7MuNXFMCcL_v8zyNeygw==/109951163175601143.jpg'\n        }, {\n          id: 32665,\n          name: 'Eminem',\n          avatar: 'http://p4.music.126.net/4nBVmtjIoX5A-QZmLPaHdg==/109951163078482452.jpg'\n        }, {\n          id: 33184,\n          name: 'Ed Sheeran',\n          avatar: 'http://p4.music.126.net/7QK82incNi3k9Gfpot_ykg==/18636722092498224.jpg'\n        }, {\n          id: 56598,\n          name: 'Ellie Goulding',\n          avatar: 'http://p4.music.126.net/dh3LtjjtVjkd33Vb16nBXg==/19019352137349259.jpg'\n        }]\n      }, {\n        title: 'F',\n        items: [{\n          id: 56782,\n          name: 'Fall Out Boy',\n          avatar: 'http://p4.music.126.net/lPgsuTf0ma76HpXK8ff0jw==/109951163054786259.jpg'\n        }, {\n          id: 2738,\n          name: '方大同',\n          avatar: 'http://p4.music.126.net/tTZcmIj2RV3ahQ-PvT-fEg==/109951163185998147.jpg'\n        }]\n      }, {\n        title: 'G',\n        items: [{\n          id: 7763,\n          name: 'G.E.M.邓紫棋',\n          avatar: 'http://p4.music.126.net/r7uMnwjWpYMuQI_3ZTg56A==/18528969953189760.jpg'\n        }, {\n          id: 123577,\n          name: 'G-Dragon',\n          avatar: 'http://p4.music.126.net/0jQmRXv0j-vVGQ5_Z4BliQ==/18725782534592929.jpg'\n        }, {\n          id: 2849,\n          name: '古巨基',\n          avatar: 'http://p4.music.126.net/dc7JiLEiMpM_MgX0kPPImQ==/5965950092650438.jpg'\n        }, {\n          id: 11679,\n          name: 'GALA',\n          avatar: 'http://p3.music.126.net/P5yFw0wtRt0u1AbxnrZbpw==/109951162908083277.jpg'\n        }]\n      }, {\n        title: 'H',\n        items: [{\n          id: 711683,\n          name: '好妹妹',\n          avatar: 'http://p3.music.126.net/vSTfsnbL-kDJ5a7krBYWQg==/3362306558224859.jpg'\n        }, {\n          id: 34517,\n          name: 'Hans Zimmer',\n          avatar: 'http://p3.music.126.net/rnc6wVyR_nM0bfxTBZVAuw==/157230162794113.jpg'\n        }]\n      }, {\n        title: 'I',\n        items: [{\n          id: 160947,\n          name: 'IU',\n          avatar: 'http://p4.music.126.net/KHy2OOa2omoGt9G11rJtdg==/109951163024470480.jpg'\n        }, {\n          id: 94779,\n          name: 'Imagine Dragons',\n          avatar: 'http://p4.music.126.net/t8pT1oUfIHYl3lfXnQA2Qw==/19213965695579757.jpg'\n        }]\n      }, {\n        title: 'J',\n        items: [{\n          id: 35531,\n          name: 'Justin Bieber',\n          avatar: 'http://p4.music.126.net/UHRt8pyx3YrXD8OTEC2TMA==/18545462627712464.jpg'\n        }, {\n          id: 893259,\n          name: '金玟岐',\n          avatar: 'http://p4.music.126.net/5xovShW1vWSo4CmS3NvNhA==/109951163071307134.jpg'\n        }, {\n          id: 14408,\n          name: '久石譲',\n          avatar: 'http://p4.music.126.net/QyLSKOuyTI3vWMQgcyJbGA==/3275445145346068.jpg'\n        }, {\n          id: 35331,\n          name: 'Justin Timberlake',\n          avatar: 'http://p4.music.126.net/35zgHg2qN-YrypH-QxD-CA==/109951163111839399.jpg'\n        }]\n      }, {\n        title: 'K',\n        items: [{\n          id: 62888,\n          name: 'Katy Perry',\n          avatar: 'http://p3.music.126.net/kthCuS87J3gKhafoheYOqA==/19230458369972396.jpg'\n        }]\n      }, {\n        title: 'L',\n        items: [{\n          id: 3684,\n          name: '林俊杰',\n          avatar: 'http://p3.music.126.net/cnGpIQ6rQCKVrDyVVSpzeg==/3263350518850877.jpg'\n        }, {\n          id: 4292,\n          name: '李荣浩',\n          avatar: 'http://p4.music.126.net/tpH_HIHPDjRZep1pJC3q2w==/109951163062593811.jpg'\n        }, {\n          id: 3681,\n          name: '李志',\n          avatar: 'http://p4.music.126.net/lpuRZG72bxxF8aRKfZ3SFg==/150633093021532.jpg'\n        }, {\n          id: 3695,\n          name: '李健',\n          avatar: 'http://p4.music.126.net/5C4hU3xFujeEbE6e_AqpwQ==/770757651096525.jpg'\n        }, {\n          id: 840134,\n          name: '刘瑞琦',\n          avatar: 'http://p3.music.126.net/w0ijYwEUDJV-ifzwibmmYA==/3435973841723920.jpg'\n        }, {\n          id: 784453,\n          name: '刘思涵',\n          avatar: 'http://p4.music.126.net/d_RA7cWFl0NZ3STNf-d9HQ==/5934064255453343.jpg'\n        }, {\n          id: 8325,\n          name: '梁静茹',\n          avatar: 'http://p4.music.126.net/zDo8F2ivJ5pFZN6i1zH47Q==/18828037114489745.jpg'\n        }, {\n          id: 3699,\n          name: '李克勤',\n          avatar: 'http://p3.music.126.net/3XRmZBHvOzxGIBprjRP8hw==/770757651096523.jpg'\n        }, {\n          id: 66212,\n          name: 'Lana Del Rey',\n          avatar: 'http://p4.music.126.net/mHp6kTAkU3ldDKIjqmlCiw==/109951163007544231.jpg'\n        }, {\n          id: 95439,\n          name: 'Linkin Park',\n          avatar: 'http://p3.music.126.net/uxUY64QwAiri3NhBicA2fQ==/109951163050440275.jpg'\n        }, {\n          id: 3691,\n          name: '刘德华',\n          avatar: 'http://p4.music.126.net/fPgII_A81NULgOPjO1nPKw==/40681930245657.jpg'\n        }]\n      }, {\n        title: 'M',\n        items: [{\n          id: 96266,\n          name: 'Maroon 5',\n          avatar: 'http://p3.music.126.net/h-ynyQrpyIvfJeW_DeaqHA==/1385384666932895.jpg'\n        }, {\n          id: 8926,\n          name: '莫文蔚',\n          avatar: 'http://p4.music.126.net/ByXwX59XAoYsY3jwTLvlNQ==/1382086129327137.jpg'\n        }, {\n          id: 4592,\n          name: '马頔',\n          avatar: 'http://p3.music.126.net/cpfC0E5dtZaChgeao9pNWQ==/2943392628176713.jpg'\n        }]\n      }, {\n        title: 'N',\n        items: [{\n          id: 9061,\n          name: '那英',\n          avatar: 'http://p4.music.126.net/tBZrcOqpdhd6Ihjc9ECYUw==/135239930232255.jpg'\n        }]\n      }, {\n        title: 'O',\n        items: [{\n          id: 98105,\n          name: 'OneRepublic',\n          avatar: 'http://p4.music.126.net/n3sr7bNMdjILj44rYi7Y8g==/18828037115920682.jpg'\n        }, {\n          id: 98351,\n          name: 'One Direction',\n          avatar: 'http://p3.music.126.net/VeW5MJ4tV54WP2bMFHHnag==/109951163008253596.jpg'\n        }, {\n          id: 40859,\n          name: 'Owl City',\n          avatar: 'http://p4.music.126.net/j4uXFu5urMRWpyMCe0pk1g==/18561955301752001.jpg'\n        }]\n      }, {\n        title: 'P',\n        items: [{\n          id: 4721,\n          name: '朴树',\n          avatar: 'http://p4.music.126.net/glrZzYJQZXiv51Tj8Uzn8Q==/7951668094170236.jpg'\n        }, {\n          id: 41143,\n          name: 'Pitbull',\n          avatar: 'http://p3.music.126.net/V7BlvkiacVTqP7jf89vydw==/18740076185711645.jpg'\n        }]\n      }, {\n        title: 'R',\n        items: [{\n          id: 72724,\n          name: 'Rihanna',\n          avatar: 'http://p3.music.126.net/f21NQmJ7Zc_HiIp48RUJqA==/18561955301751999.jpg'\n        }, {\n          id: 9269,\n          name: '容祖儿',\n          avatar: 'http://p4.music.126.net/RA9xjQ0ABACRcfKwutGDnA==/5946158883315120.jpg'\n        }]\n      }, {\n        title: 'S',\n        items: [{\n          id: 9272,\n          name: '孙燕姿',\n          avatar: 'http://p4.music.126.net/nXF_Faa7-ZisQShLlAqyjw==/18791753231401604.jpg'\n        }, {\n          id: 5073,\n          name: '宋冬野',\n          avatar: 'http://p3.music.126.net/FRS2qHabnha-ZlYyfduX7g==/109951162811536835.jpg'\n        }, {\n          id: 12707,\n          name: '苏打绿',\n          avatar: 'http://p3.music.126.net/znozXOyHQXRc52hU6UAtmg==/756463999935630.jpg'\n        }, {\n          id: 11998039,\n          name: 'Sunshine',\n          avatar: 'http://p4.music.126.net/wNQy7nRGPipTNHqGzpjlBg==/19218363741953505.jpg'\n        }, {\n          id: 740216,\n          name: 'Sam Smith',\n          avatar: 'http://p4.music.126.net/uVAelYyxyz84xV1UkjJJVQ==/109951163052849432.jpg'\n        }, {\n          id: 126793,\n          name: '少女时代',\n          avatar: 'http://p4.music.126.net/b4GUHufeoC2tGEgXIQ8htQ==/18703792302097354.jpg'\n        }]\n      }, {\n        title: 'T',\n        items: [{\n          id: 964486,\n          name: 'Tobu',\n          avatar: 'http://p3.music.126.net/QlOUmYAuEyqKO4g96QM1kQ==/5989039837081565.jpg'\n        }, {\n          id: 102714,\n          name: 'Two Steps From Hell',\n          avatar: 'http://p4.music.126.net/nG3AaqQN4fMQ-Xwhf19Trg==/6027522744141514.jpg'\n        }, {\n          id: 44266,\n          name: 'Taylor Swift',\n          avatar: 'http://p3.music.126.net/lQgY9bF4ZRCK-h5goGxmCg==/109951163245154611.jpg'\n        }, {\n          id: 12977,\n          name: '逃跑计划',\n          avatar: 'http://p4.music.126.net/Ii8U2ugJxfpWQZvZPZsYwg==/3418381652800638.jpg'\n        }, {\n          id: 127815,\n          name: 'T-ara',\n          avatar: 'http://p3.music.126.net/ZfdxyAleCzBP6ZF2fXa23g==/3419481180607870.jpg'\n        }, {\n          id: 5196,\n          name: '陶喆',\n          avatar: 'http://p3.music.126.net/HciCtD7swUU_D9wem9NfNA==/6044015418524944.jpg'\n        }, {\n          id: 1019952,\n          name: 'TheFatRat',\n          avatar: 'http://p4.music.126.net/VpsUseY47x0UHz75KKbhtA==/2535473816668478.jpg'\n        }, {\n          id: 9489,\n          name: '谭维维',\n          avatar: 'http://p3.music.126.net/Szf_ysguX4fe8nznW8otvQ==/3265549576955384.jpg'\n        }]\n      }, {\n        title: 'W',\n        items: [{\n          id: 9621,\n          name: '王菲',\n          avatar: 'http://p4.music.126.net/GKhjgN1ltQYK3eYf9DdJwg==/18727981557622763.jpg'\n        }, {\n          id: 5346,\n          name: '王力宏',\n          avatar: 'http://p4.music.126.net/3sYHMtCKpWIxt9G12yjUTw==/264982302310377.jpg'\n        }, {\n          id: 46006,\n          name: 'Wiz Khalifa',\n          avatar: 'http://p3.music.126.net/V2sOWUWGAAYR5fnDpNz8RQ==/283673999983666.jpg'\n        }, {\n          id: 13193,\n          name: '五月天',\n          avatar: 'http://p4.music.126.net/nUVLUL0gG1XfTReU-Us1YA==/18642219650661189.jpg'\n        }, {\n          id: 45839,\n          name: 'Westlife',\n          avatar: 'http://p4.music.126.net/pJf8MVcvxLX6HVRKZlcMOA==/18766464464525837.jpg'\n        }]\n      }, {\n        title: 'X',\n        items: [{\n          id: 5781,\n          name: '薛之谦',\n          avatar: 'http://p4.music.126.net/ULlwJ2drOfYv-f6-_7jGGQ==/3250156379592966.jpg'\n        }, {\n          id: 5770,\n          name: '许巍',\n          avatar: 'http://p4.music.126.net/I6I81M7B7_hoeqp9VGg8sw==/568447511584754.jpg'\n        }, {\n          id: 5771,\n          name: '许嵩',\n          avatar: 'http://p4.music.126.net/2ymAK8YTVExZ1eZ072BBCQ==/8934631487417355.jpg'\n        }, {\n          id: 9952,\n          name: '谢安琪',\n          avatar: 'http://p4.music.126.net/D60e7K2Hxf1uWDRTlGy3uQ==/244091581382928.jpg'\n        }, {\n          id: 5768,\n          name: '萧敬腾',\n          avatar: 'http://p4.music.126.net/kIyvVOBtz0sPJMom1ss6tA==/1382086116668101.jpg'\n        }]\n      }, {\n        title: 'Y',\n        items: [{\n          id: 6066,\n          name: '杨宗纬',\n          avatar: 'http://p3.music.126.net/Q4JSaV98wuU6xElATsFjAw==/3261151495434543.jpg'\n        }, {\n          id: 10204,\n          name: '杨千嬅',\n          avatar: 'http://p3.music.126.net/Fy3OSgevuA-iwsy3X_pqpA==/235295488361002.jpg'\n        }]\n      }, {\n        title: 'Z',\n        items: [{\n          id: 6452,\n          name: '周杰伦',\n          avatar: 'http://p3.music.126.net/o-FjCrUlhyFC96xiVvJZ8g==/109951163111191410.jpg'\n        }, {\n          id: 6460,\n          name: '张学友',\n          avatar: 'http://p3.music.126.net/1JG8Uwzb5XAJXaPUHR6RBw==/3238061747024716.jpg'\n        }, {\n          id: 6731,\n          name: '赵雷',\n          avatar: 'http://p4.music.126.net/w_UWOls2uCkFN_U62788Xg==/18806046882229308.jpg'\n        }, {\n          id: 6457,\n          name: '张国荣',\n          avatar: 'http://p4.music.126.net/wupRd6PIODPM2gMxmlxD8w==/39582418617683.jpg'\n        }, {\n          id: 6462,\n          name: '张敬轩',\n          avatar: 'http://p3.music.126.net/7a77DZlspSaBZexOr8mdLw==/18863221486279082.jpg'\n        }, {\n          id: 10561,\n          name: '张靓颖',\n          avatar: 'http://p4.music.126.net/PDSLSEj5EHvGWeaTy5MqWQ==/109951163064519620.jpg'\n        }, {\n          id: 10559,\n          name: '张惠妹',\n          avatar: 'http://p4.music.126.net/F9asgcj7C7qSl_je9XDvRw==/603631883675241.jpg'\n        }, {\n          id: 6472,\n          name: '张杰',\n          avatar: 'http://p4.music.126.net/R4it3K4VVd4qOlMv1VvH_w==/18569651881628300.jpg'\n        }, {\n          id: 6652,\n          name: '周传雄',\n          avatar: 'http://p3.music.126.net/UXycaJG3B1yhBMidEjqH7w==/211106232550480.jpg'\n        }, {\n          id: 6454,\n          name: '张信哲',\n          avatar: 'http://p3.music.126.net/dtm0L5L0OtxDzDpnFTqVyg==/3285340750049091.jpg'\n        }]\n      }],\n      scrollY: 0,\n      currentIndex: 0\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.touch = {};\n    // 初始化 better-scroll 必须要等 dom 加载完毕\n    setTimeout(function () {\n      _this._initSrcoll();\n      _this._calculateHeight();\n    }, 20);\n  },\n\n  methods: {\n    _initSrcoll: function _initSrcoll() {\n      var _this2 = this;\n\n      // console.log('didi')\n      this.scroll = new __WEBPACK_IMPORTED_MODULE_0_better_scroll__[\"a\" /* default */](this.$refs.listView, {\n        probeType: 3,\n        click: true\n      });\n\n      this.scroll.on('scroll', function (pos) {\n        _this2.scrollY = pos.y;\n      });\n    },\n    onShortcutStart: function onShortcutStart(e) {\n      // 获取到绑定的 index\n      var index = e.target.getAttribute('data-index');\n      // 使用 better-scroll 的 scrollToElement 方法实现跳转\n      this.scrollToElement(index);\n\n      // 记录一下点击时候的 Y坐标 和 index\n      var firstTouch = e.touches[0].pageY;\n      this.touch.y1 = firstTouch;\n      this.touch.anchorIndex = index;\n    },\n    onShortcutMove: function onShortcutMove(e) {\n      // 再记录一下移动时候的 Y坐标，然后计算出移动了几个索引\n      var touchMove = e.touches[0].pageY;\n      this.touch.y2 = touchMove;\n      // 这里的 16.7 是索引元素的高度\n      var delta = Math.floor((this.touch.y2 - this.touch.y1) / 16.7);\n\n      // 计算最后的位置\n      // * 1 是因为 this.touch.anchorIndex 是字符串，用 * 1 偷懒的转化一下\n      var index = this.touch.anchorIndex * 1 + delta;\n      this.scrollToElement(index);\n    },\n    scrollToElement: function scrollToElement(index) {\n      // 处理边界情况\n      // 因为 index 通过滑动距离计算出来的\n      // 所以向上滑超过索引框框的时候就会 < 0，向上就会超过最大值\n      if (index < 0) {\n        return;\n      } else if (index > this.listHeight.length - 2) {\n        index = this.listHeight.length - 2;\n      }\n      // listHeight 是正的， 所以加个 -\n      this.scrollY = -this.listHeight[index];\n      this.scroll.scrollToElement(this.$refs.listGroup[index]);\n    },\n\n    // 列表各模块元素高度组成的数组\n    _calculateHeight: function _calculateHeight() {\n      this.listHeight = [];\n      var list = this.$refs.listGroup;\n      var height = 0;\n      this.listHeight.push(height);\n      for (var i = 0; i < list.length; i++) {\n        var item = list[i];\n        height += item.clientHeight;\n        this.listHeight.push(height);\n      }\n    }\n  },\n  watch: {\n    scrollY: function scrollY(newVal) {\n      // 向下滑动的时候 newVal 是一个负数，所以当 newVal > 0 时，currentIndex 直接为 0\n      if (newVal > 0) {\n        this.currentIndex = 0;\n        return;\n      }\n\n      // 计算 currentIndex 的值\n      for (var i = 0; i < this.listHeight.length - 1; i++) {\n        var height1 = this.listHeight[i];\n        var height2 = this.listHeight[i + 1];\n\n        if (-newVal >= height1 && -newVal < height2) {\n          this.currentIndex = i;\n          return;\n        }\n      }\n\n      // 当超 -newVal > 最后一个高度的时候\n      // 因为 this.listHeight 有头尾，所以需要 - 2\n      this.currentIndex = this.listHeight.length - 2;\n    }\n  },\n  computed: {\n    shortcutList: function shortcutList() {\n      return this.singers.map(function (group) {\n        return group.title.substr(0, 1);\n      });\n    }\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDY3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9wYWdlcy9kZW1vL2xpc3RWaWV3LnZ1ZT8yYTRhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuLy9cbi8vXG4vL1xuXHJcbmltcG9ydCBCU2Nyb2xsIGZyb20gJ2JldHRlci1zY3JvbGwnXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgZGF0YSAoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzaW5nZXJzOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGl0bGU6ICfng63pl6gnLFxyXG4gICAgICAgICAgaXRlbXM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiA2NDUyLFxyXG4gICAgICAgICAgICAgIG5hbWU6ICflkajmnbDkvKYnLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDMubXVzaWMuMTI2Lm5ldC9vLUZqQ3JVbGh5RkM5NnhpVnZKWjhnPT0vMTA5OTUxMTYzMTExMTkxNDEwLmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiAyMTE2LFxyXG4gICAgICAgICAgICAgIG5hbWU6ICfpmYjlpZXov4UnLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDQubXVzaWMuMTI2Lm5ldC9fZDFzY3U3el8xZG1kMFpndjltVExBPT0vMTkxNjU1ODcxODM5MDAyMTIuanBnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDU3ODEsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ+iWm+S5i+iwpicsXHJcbiAgICAgICAgICAgICAgYXZhdGFyOlxyXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly9wNC5tdXNpYy4xMjYubmV0L1VMbHdKMmRyT2ZZdi1mNi1fN2pHR1E9PS8zMjUwMTU2Mzc5NTkyOTY2LmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiAxMjYzMzksXHJcbiAgICAgICAgICAgICAgbmFtZTogJ0JJR0JBTkcnLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDQubXVzaWMuMTI2Lm5ldC9INExoNDVrRGZlYjFLZTdUSGhOV2pRPT0vMTA5OTUxMTYzMTA5MjQ0MDExLmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiAzNjg0LFxyXG4gICAgICAgICAgICAgIG5hbWU6ICfmnpfkv4rmnbAnLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDMubXVzaWMuMTI2Lm5ldC9jbkdwSVE2clFDS1ZyRHlWVlNwemVnPT0vMzI2MzM1MDUxODg1MDg3Ny5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogOTYyNjYsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ01hcm9vbiA1JyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3AzLm11c2ljLjEyNi5uZXQvaC15bnlRcnB5SXZmSmVXX0RlYXFIQT09LzEzODUzODQ2NjY5MzI4OTUuanBnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDk2MjEsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ+eOi+iPsicsXHJcbiAgICAgICAgICAgICAgYXZhdGFyOlxyXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly9wNC5tdXNpYy4xMjYubmV0L0dLaGpnTjFsdFFZSzNlWWY5RGRKd2c9PS8xODcyNzk4MTU1NzYyMjc2My5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogNDI5MixcclxuICAgICAgICAgICAgICBuYW1lOiAn5p2O6I2j5rWpJyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3A0Lm11c2ljLjEyNi5uZXQvdHBIX0hJSFBEalJaZXAxcEpDM3Eydz09LzEwOTk1MTE2MzA2MjU5MzgxMS5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogNzc2MyxcclxuICAgICAgICAgICAgICBuYW1lOiAnRy5FLk0u6YKT57Sr5qOLJyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3A0Lm11c2ljLjEyNi5uZXQvcjd1TW53aldwWU11UUlfM1pUZzU2QT09LzE4NTI4OTY5OTUzMTg5NzYwLmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiA2NDYwLFxyXG4gICAgICAgICAgICAgIG5hbWU6ICflvKDlrablj4snLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDMubXVzaWMuMTI2Lm5ldC8xSkc4VXd6YjVYQUpYYVBVSFI2UkJ3PT0vMzIzODA2MTc0NzAyNDcxNi5qcGcnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRpdGxlOiAnQScsXHJcbiAgICAgICAgICBpdGVtczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDQ2NDg3LFxyXG4gICAgICAgICAgICAgIG5hbWU6ICdBZGVsZScsXHJcbiAgICAgICAgICAgICAgYXZhdGFyOlxyXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly9wNC5tdXNpYy4xMjYubmV0LzZpdVJTd0xIR3JqcDNSSkg4NnRmdVE9PS8zMjYxMTUxNDk1NDM0NTU0LmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiAxMDQ1MTIzLFxyXG4gICAgICAgICAgICAgIG5hbWU6ICdBbGFuIFdhbGtlcicsXHJcbiAgICAgICAgICAgICAgYXZhdGFyOlxyXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly9wNC5tdXNpYy4xMjYubmV0L0FzckdENFNmMEhXSjNtSy1ZX19QTHc9PS8xODk4MTk2ODc0MjA2MzM4Ny5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogNzA2MyxcclxuICAgICAgICAgICAgICBuYW1lOiAnQS1MaW4nLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDQubXVzaWMuMTI2Lm5ldC84aVN0NnNBRDgxOU4zanV6LWJ1MnZRPT0vMTM3OTg4NzEwNzcyMTg5OS5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogNDgxNjEsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ0FyaWFuYSBHcmFuZGUnLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDMubXVzaWMuMTI2Lm5ldC9ocXIzSUIxdTFVVkpLa214eUl2c2ZBPT0vMTg3MDE1OTMyNzg1MjIxNzQuanBnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDE2MTUyLFxyXG4gICAgICAgICAgICAgIG5hbWU6ICdBaW1lcicsXHJcbiAgICAgICAgICAgICAgYXZhdGFyOlxyXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly9wMy5tdXNpYy4xMjYubmV0LzdvRkJjTkF0MVRYR3psaU9FYzNwN2c9PS8xMDk5NTExNjMxMTIzNjIzNDYuanBnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDQ1MjM2LFxyXG4gICAgICAgICAgICAgIG5hbWU6ICdBdmljaWknLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDMubXVzaWMuMTI2Lm5ldC9oMXd6VlllcXRoMmQydWpQZWZvY0dRPT0vMTg1ODgzNDM1ODEyMDg5OTUuanBnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDQ2NDkwLFxyXG4gICAgICAgICAgICAgIG5hbWU6ICdBdnJpbCBMYXZpZ25lJyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3AzLm11c2ljLjEyNi5uZXQvcGxOMUNLdTZpZ0loN2ZLckU4cHJXQT09LzE4OTEyNjk5NTA5NjY2MjI3LmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiA4NzA2NixcclxuICAgICAgICAgICAgICBuYW1lOiAnQXVkaW8gTWFjaGluZScsXHJcbiAgICAgICAgICAgICAgYXZhdGFyOlxyXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly9wMy5tdXNpYy4xMjYubmV0L0M0UXNkZVdqRmlfWnJEQXhVckYwTVE9PS8xMDk5NTExNjMxODcxMzM2MDEuanBnJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0aXRsZTogJ0InLFxyXG4gICAgICAgICAgaXRlbXM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiAxMjYzMzksXHJcbiAgICAgICAgICAgICAgbmFtZTogJ0JJR0JBTkcnLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDQubXVzaWMuMTI2Lm5ldC9INExoNDVrRGZlYjFLZTdUSGhOV2pRPT0vMTA5OTUxMTYzMTA5MjQ0MDExLmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiAxNzgwNTksXHJcbiAgICAgICAgICAgICAgbmFtZTogJ0JydW5vIE1hcnMnLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDMubXVzaWMuMTI2Lm5ldC9aZjFFU1p3TnMwTWFpcUxCQVoyUFdRPT0vMTg3MjM1ODM1MTEwNDQwMTEuanBnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDExMTI3LFxyXG4gICAgICAgICAgICAgIG5hbWU6ICdCZXlvbmQnLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDQubXVzaWMuMTI2Lm5ldC93dWFOaWtRVzJ0UFBGTjBPZTVSazl3PT0vODAyNjQzNDg4NDU2MTYuanBnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDc4MzEyNCxcclxuICAgICAgICAgICAgICBuYW1lOiAnQlRTICjpmLLlvLnlsJHlubTlm6IpJyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3AzLm11c2ljLjEyNi5uZXQvWUh0cFhHeXpDdjA5M0dMdHVqcjFjUT09LzEwOTk1MTE2MzA2NDM5MDAwOC5qcGcnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRpdGxlOiAnQycsXHJcbiAgICAgICAgICBpdGVtczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDIxMTYsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ+mZiOWllei/hScsXHJcbiAgICAgICAgICAgICAgYXZhdGFyOlxyXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly9wNC5tdXNpYy4xMjYubmV0L19kMXNjdTd6XzFkbWQwWmd2OW1UTEE9PS8xOTE2NTU4NzE4MzkwMDIxMi5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogODkzNjUsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ0NvbGRwbGF5JyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3A0Lm11c2ljLjEyNi5uZXQvZUwtZnRfdWNVY2J5NjQ4ZVZuTmV3QT09LzE5MTYyMjg4NjQ5MDk0NTU4LmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiAxMDA3MTcwLFxyXG4gICAgICAgICAgICAgIG5hbWU6ICfpmYjnspInLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDMubXVzaWMuMTI2Lm5ldC9ROTJZd0pyazJmMnRzSy03QjBWSWhRPT0vNjYyODk1NTYwNTEyMzYxMi5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogMjExMixcclxuICAgICAgICAgICAgICBuYW1lOiAn6ZmI5bCP5pilJyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3AzLm11c2ljLjEyNi5uZXQvV0EtZVV2bGp1b2FoeG5FTm53cXgxZz09LzE3MjYyMzMyNTU3NzQ2MC5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogOTAzMzEsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ0NoYXJsaWUgUHV0aCcsXHJcbiAgICAgICAgICAgICAgYXZhdGFyOlxyXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly9wNC5tdXNpYy4xMjYubmV0L2pLR3hVYkNZaHk1YWFLbHZsckxNMnc9PS8xMDk5NTExNjMwNDA1ODMwMTIuanBnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDUwOTM0LFxyXG4gICAgICAgICAgICAgIG5hbWU6ICdDYXJseSBSYWUgSmVwc2VuJyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3A0Lm11c2ljLjEyNi5uZXQvWXpwb2RKMFR5VzRaQzU4N1BvcmFzdz09LzI0MDc5MzA0NjQ5OTg5NS5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogNzIxNyxcclxuICAgICAgICAgICAgICBuYW1lOiAn6ZmI57uu6LSeJyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3A0Lm11c2ljLjEyNi5uZXQvYlFFUEhiVlJQaHlFbnlZTmU4elVxQT09LzE1MzkzMTYyNzkwNTI4Ni5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogMTU5NjkyLFxyXG4gICAgICAgICAgICAgIG5hbWU6ICfliJ3pn7Pjg5/jgq8nLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDMubXVzaWMuMTI2Lm5ldC90TXowVFR5RE80cEp2M0ZNRVRqUkd3PT0vMTA5OTUxMTYzMDIxNzg2NTIzLmpwZydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGl0bGU6ICdFJyxcclxuICAgICAgICAgIGl0ZW1zOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogNzU5NTA5LFxyXG4gICAgICAgICAgICAgIG5hbWU6ICdFWE8nLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDMubXVzaWMuMTI2Lm5ldC9EWjdNdU5YRk1DY0xfdjh6eU5leWd3PT0vMTA5OTUxMTYzMTc1NjAxMTQzLmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiAzMjY2NSxcclxuICAgICAgICAgICAgICBuYW1lOiAnRW1pbmVtJyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3A0Lm11c2ljLjEyNi5uZXQvNG5CVm10aklvWDVBLVFabUxQYUhkZz09LzEwOTk1MTE2MzA3ODQ4MjQ1Mi5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogMzMxODQsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ0VkIFNoZWVyYW4nLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDQubXVzaWMuMTI2Lm5ldC83UUs4MmluY05pM2s5R2Zwb3RfeWtnPT0vMTg2MzY3MjIwOTI0OTgyMjQuanBnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDU2NTk4LFxyXG4gICAgICAgICAgICAgIG5hbWU6ICdFbGxpZSBHb3VsZGluZycsXHJcbiAgICAgICAgICAgICAgYXZhdGFyOlxyXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly9wNC5tdXNpYy4xMjYubmV0L2RoM0x0amp0VmprZDMzVmIxNm5CWGc9PS8xOTAxOTM1MjEzNzM0OTI1OS5qcGcnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRpdGxlOiAnRicsXHJcbiAgICAgICAgICBpdGVtczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDU2NzgyLFxyXG4gICAgICAgICAgICAgIG5hbWU6ICdGYWxsIE91dCBCb3knLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDQubXVzaWMuMTI2Lm5ldC9sUGdzdVRmMG1hNzZIcFhLOGZmMGp3PT0vMTA5OTUxMTYzMDU0Nzg2MjU5LmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiAyNzM4LFxyXG4gICAgICAgICAgICAgIG5hbWU6ICfmlrnlpKflkIwnLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDQubXVzaWMuMTI2Lm5ldC90VFpjbUlqMlJWM2FoUS1QdlQtZkVnPT0vMTA5OTUxMTYzMTg1OTk4MTQ3LmpwZydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGl0bGU6ICdHJyxcclxuICAgICAgICAgIGl0ZW1zOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogNzc2MyxcclxuICAgICAgICAgICAgICBuYW1lOiAnRy5FLk0u6YKT57Sr5qOLJyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3A0Lm11c2ljLjEyNi5uZXQvcjd1TW53aldwWU11UUlfM1pUZzU2QT09LzE4NTI4OTY5OTUzMTg5NzYwLmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiAxMjM1NzcsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ0ctRHJhZ29uJyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3A0Lm11c2ljLjEyNi5uZXQvMGpRbVJYdjBqLXZWR1E1X1o0QmxpUT09LzE4NzI1NzgyNTM0NTkyOTI5LmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiAyODQ5LFxyXG4gICAgICAgICAgICAgIG5hbWU6ICflj6Tlt6jln7onLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDQubXVzaWMuMTI2Lm5ldC9kYzdKaUxFaU1wTV9NZ1gwa1BQSW1RPT0vNTk2NTk1MDA5MjY1MDQzOC5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogMTE2NzksXHJcbiAgICAgICAgICAgICAgbmFtZTogJ0dBTEEnLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDMubXVzaWMuMTI2Lm5ldC9QNXlGdzB3dFJ0MHUxQWJ4bnJaYnB3PT0vMTA5OTUxMTYyOTA4MDgzMjc3LmpwZydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGl0bGU6ICdIJyxcclxuICAgICAgICAgIGl0ZW1zOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogNzExNjgzLFxyXG4gICAgICAgICAgICAgIG5hbWU6ICflpb3lprnlprknLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDMubXVzaWMuMTI2Lm5ldC92U1Rmc25iTC1rREo1YTdrckJZV1FnPT0vMzM2MjMwNjU1ODIyNDg1OS5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogMzQ1MTcsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ0hhbnMgWmltbWVyJyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3AzLm11c2ljLjEyNi5uZXQvcm5jNndWeVJfbk0wYmZ4VEJaVkF1dz09LzE1NzIzMDE2Mjc5NDExMy5qcGcnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRpdGxlOiAnSScsXHJcbiAgICAgICAgICBpdGVtczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDE2MDk0NyxcclxuICAgICAgICAgICAgICBuYW1lOiAnSVUnLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDQubXVzaWMuMTI2Lm5ldC9LSHkyT09hMm9tb0d0OUcxMXJKdGRnPT0vMTA5OTUxMTYzMDI0NDcwNDgwLmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiA5NDc3OSxcclxuICAgICAgICAgICAgICBuYW1lOiAnSW1hZ2luZSBEcmFnb25zJyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3A0Lm11c2ljLjEyNi5uZXQvdDhwVDFvVWZJSFlsM2xmWG5RQTJRdz09LzE5MjEzOTY1Njk1NTc5NzU3LmpwZydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGl0bGU6ICdKJyxcclxuICAgICAgICAgIGl0ZW1zOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogMzU1MzEsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ0p1c3RpbiBCaWViZXInLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDQubXVzaWMuMTI2Lm5ldC9VSFJ0OHB5eDNZclhEOE9URUMyVE1BPT0vMTg1NDU0NjI2Mjc3MTI0NjQuanBnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDg5MzI1OSxcclxuICAgICAgICAgICAgICBuYW1lOiAn6YeR546f5bKQJyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3A0Lm11c2ljLjEyNi5uZXQvNXhvdlNoVzF2V1NvNENtUzNOdk5oQT09LzEwOTk1MTE2MzA3MTMwNzEzNC5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogMTQ0MDgsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ+S5heefs+itsicsXHJcbiAgICAgICAgICAgICAgYXZhdGFyOlxyXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly9wNC5tdXNpYy4xMjYubmV0L1F5TFNLT3V5VEkzdldNUWdjeUpiR0E9PS8zMjc1NDQ1MTQ1MzQ2MDY4LmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiAzNTMzMSxcclxuICAgICAgICAgICAgICBuYW1lOiAnSnVzdGluIFRpbWJlcmxha2UnLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDQubXVzaWMuMTI2Lm5ldC8zNXpnSGcycU4tWXJ5cEgtUXhELUNBPT0vMTA5OTUxMTYzMTExODM5Mzk5LmpwZydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGl0bGU6ICdLJyxcclxuICAgICAgICAgIGl0ZW1zOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogNjI4ODgsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ0thdHkgUGVycnknLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDMubXVzaWMuMTI2Lm5ldC9rdGhDdVM4N0ozZ0toYWZvaGVZT3FBPT0vMTkyMzA0NTgzNjk5NzIzOTYuanBnJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0aXRsZTogJ0wnLFxyXG4gICAgICAgICAgaXRlbXM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiAzNjg0LFxyXG4gICAgICAgICAgICAgIG5hbWU6ICfmnpfkv4rmnbAnLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDMubXVzaWMuMTI2Lm5ldC9jbkdwSVE2clFDS1ZyRHlWVlNwemVnPT0vMzI2MzM1MDUxODg1MDg3Ny5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogNDI5MixcclxuICAgICAgICAgICAgICBuYW1lOiAn5p2O6I2j5rWpJyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3A0Lm11c2ljLjEyNi5uZXQvdHBIX0hJSFBEalJaZXAxcEpDM3Eydz09LzEwOTk1MTE2MzA2MjU5MzgxMS5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogMzY4MSxcclxuICAgICAgICAgICAgICBuYW1lOiAn5p2O5b+XJyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3A0Lm11c2ljLjEyNi5uZXQvbHB1UlpHNzJieHhGOGFSS2ZaM1NGZz09LzE1MDYzMzA5MzAyMTUzMi5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogMzY5NSxcclxuICAgICAgICAgICAgICBuYW1lOiAn5p2O5YGlJyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3A0Lm11c2ljLjEyNi5uZXQvNUM0aFUzeEZ1amVFYkU2ZV9BcXB3UT09Lzc3MDc1NzY1MTA5NjUyNS5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogODQwMTM0LFxyXG4gICAgICAgICAgICAgIG5hbWU6ICfliJjnkZ7nkKYnLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDMubXVzaWMuMTI2Lm5ldC93MGlqWXdFVURKVi1pZnp3aWJtbVlBPT0vMzQzNTk3Mzg0MTcyMzkyMC5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogNzg0NDUzLFxyXG4gICAgICAgICAgICAgIG5hbWU6ICfliJjmgJ3mtrUnLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDQubXVzaWMuMTI2Lm5ldC9kX1JBN2NXRmwwTlozU1ROZi1kOUhRPT0vNTkzNDA2NDI1NTQ1MzM0My5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogODMyNSxcclxuICAgICAgICAgICAgICBuYW1lOiAn5qKB6Z2Z6Iy5JyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3A0Lm11c2ljLjEyNi5uZXQvekRvOEYyaXZKNXBGWk42aTF6SDQ3UT09LzE4ODI4MDM3MTE0NDg5NzQ1LmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiAzNjk5LFxyXG4gICAgICAgICAgICAgIG5hbWU6ICfmnY7lhYvli6QnLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDMubXVzaWMuMTI2Lm5ldC8zWFJtWkJIdk96eEdJQnByalJQOGh3PT0vNzcwNzU3NjUxMDk2NTIzLmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiA2NjIxMixcclxuICAgICAgICAgICAgICBuYW1lOiAnTGFuYSBEZWwgUmV5JyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3A0Lm11c2ljLjEyNi5uZXQvbUhwNmtUQWtVM2xkREtJanFtbENpdz09LzEwOTk1MTE2MzAwNzU0NDIzMS5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogOTU0MzksXHJcbiAgICAgICAgICAgICAgbmFtZTogJ0xpbmtpbiBQYXJrJyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3AzLm11c2ljLjEyNi5uZXQvdXhVWTY0UXdBaXJpM05oQmljQTJmUT09LzEwOTk1MTE2MzA1MDQ0MDI3NS5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogMzY5MSxcclxuICAgICAgICAgICAgICBuYW1lOiAn5YiY5b635Y2OJyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3A0Lm11c2ljLjEyNi5uZXQvZlBnSUlfQTgxTlVMZ09Qak8xblBLdz09LzQwNjgxOTMwMjQ1NjU3LmpwZydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGl0bGU6ICdNJyxcclxuICAgICAgICAgIGl0ZW1zOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogOTYyNjYsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ01hcm9vbiA1JyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3AzLm11c2ljLjEyNi5uZXQvaC15bnlRcnB5SXZmSmVXX0RlYXFIQT09LzEzODUzODQ2NjY5MzI4OTUuanBnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDg5MjYsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ+iOq+aWh+iUmicsXHJcbiAgICAgICAgICAgICAgYXZhdGFyOlxyXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly9wNC5tdXNpYy4xMjYubmV0L0J5WHdYNTlYQW9Zc1kzandUTHZsTlE9PS8xMzgyMDg2MTI5MzI3MTM3LmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiA0NTkyLFxyXG4gICAgICAgICAgICAgIG5hbWU6ICfpqazpoJQnLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDMubXVzaWMuMTI2Lm5ldC9jcGZDMEU1ZHRaYUNoZ2VhbzlwTldRPT0vMjk0MzM5MjYyODE3NjcxMy5qcGcnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRpdGxlOiAnTicsXHJcbiAgICAgICAgICBpdGVtczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDkwNjEsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ+mCo+iLsScsXHJcbiAgICAgICAgICAgICAgYXZhdGFyOlxyXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly9wNC5tdXNpYy4xMjYubmV0L3RCWnJjT3FwZGhkNkloamM5RUNZVXc9PS8xMzUyMzk5MzAyMzIyNTUuanBnJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0aXRsZTogJ08nLFxyXG4gICAgICAgICAgaXRlbXM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiA5ODEwNSxcclxuICAgICAgICAgICAgICBuYW1lOiAnT25lUmVwdWJsaWMnLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDQubXVzaWMuMTI2Lm5ldC9uM3NyN2JOTWRqSUxqNDRyWWk3WThnPT0vMTg4MjgwMzcxMTU5MjA2ODIuanBnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDk4MzUxLFxyXG4gICAgICAgICAgICAgIG5hbWU6ICdPbmUgRGlyZWN0aW9uJyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3AzLm11c2ljLjEyNi5uZXQvVmVXNU1KNHRWNTRXUDJiTUZISG5hZz09LzEwOTk1MTE2MzAwODI1MzU5Ni5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogNDA4NTksXHJcbiAgICAgICAgICAgICAgbmFtZTogJ093bCBDaXR5JyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3A0Lm11c2ljLjEyNi5uZXQvajR1WEZ1NXVyTVJXcHlNQ2UwcGsxZz09LzE4NTYxOTU1MzAxNzUyMDAxLmpwZydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGl0bGU6ICdQJyxcclxuICAgICAgICAgIGl0ZW1zOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogNDcyMSxcclxuICAgICAgICAgICAgICBuYW1lOiAn5py05qCRJyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3A0Lm11c2ljLjEyNi5uZXQvZ2xyWnpZSlFaWGl2NTFUajhVem44UT09Lzc5NTE2NjgwOTQxNzAyMzYuanBnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDQxMTQzLFxyXG4gICAgICAgICAgICAgIG5hbWU6ICdQaXRidWxsJyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3AzLm11c2ljLjEyNi5uZXQvVjdCbHZraWFjVlRxUDdqZjg5dnlkdz09LzE4NzQwMDc2MTg1NzExNjQ1LmpwZydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGl0bGU6ICdSJyxcclxuICAgICAgICAgIGl0ZW1zOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogNzI3MjQsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ1JpaGFubmEnLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDMubXVzaWMuMTI2Lm5ldC9mMjFOUW1KN1pjX0hpSXA0OFJVSnFBPT0vMTg1NjE5NTUzMDE3NTE5OTkuanBnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDkyNjksXHJcbiAgICAgICAgICAgICAgbmFtZTogJ+WuueelluWEvycsXHJcbiAgICAgICAgICAgICAgYXZhdGFyOlxyXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly9wNC5tdXNpYy4xMjYubmV0L1JBOXhqUTBBQkFDUmNmS3d1dEdEbkE9PS81OTQ2MTU4ODgzMzE1MTIwLmpwZydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGl0bGU6ICdTJyxcclxuICAgICAgICAgIGl0ZW1zOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogOTI3MixcclxuICAgICAgICAgICAgICBuYW1lOiAn5a2Z54eV5ae/JyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3A0Lm11c2ljLjEyNi5uZXQvblhGX0ZhYTctWmlzUVNoTGxBcXlqdz09LzE4NzkxNzUzMjMxNDAxNjA0LmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiA1MDczLFxyXG4gICAgICAgICAgICAgIG5hbWU6ICflrovlhqzph44nLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDMubXVzaWMuMTI2Lm5ldC9GUlMycUhhYm5oYS1abFl5ZmR1WDdnPT0vMTA5OTUxMTYyODExNTM2ODM1LmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiAxMjcwNyxcclxuICAgICAgICAgICAgICBuYW1lOiAn6IuP5omT57u/JyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3AzLm11c2ljLjEyNi5uZXQvem5velhPeUhRWFJjNTJoVTZVQXRtZz09Lzc1NjQ2Mzk5OTkzNTYzMC5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogMTE5OTgwMzksXHJcbiAgICAgICAgICAgICAgbmFtZTogJ1N1bnNoaW5lJyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3A0Lm11c2ljLjEyNi5uZXQvd05ReTduUkdQaXBUTkhxR3pwamxCZz09LzE5MjE4MzYzNzQxOTUzNTA1LmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiA3NDAyMTYsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ1NhbSBTbWl0aCcsXHJcbiAgICAgICAgICAgICAgYXZhdGFyOlxyXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly9wNC5tdXNpYy4xMjYubmV0L3VWQWVsWXl4eXo4NHhWMVVrakpKVlE9PS8xMDk5NTExNjMwNTI4NDk0MzIuanBnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDEyNjc5MyxcclxuICAgICAgICAgICAgICBuYW1lOiAn5bCR5aWz5pe25LujJyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3A0Lm11c2ljLjEyNi5uZXQvYjRHVUh1ZmVvQzJ0R0VnWElROGh0UT09LzE4NzAzNzkyMzAyMDk3MzU0LmpwZydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGl0bGU6ICdUJyxcclxuICAgICAgICAgIGl0ZW1zOiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogOTY0NDg2LFxyXG4gICAgICAgICAgICAgIG5hbWU6ICdUb2J1JyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3AzLm11c2ljLjEyNi5uZXQvUWxPVW1ZQXVFeXFLTzRnOTZRTTFrUT09LzU5ODkwMzk4MzcwODE1NjUuanBnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDEwMjcxNCxcclxuICAgICAgICAgICAgICBuYW1lOiAnVHdvIFN0ZXBzIEZyb20gSGVsbCcsXHJcbiAgICAgICAgICAgICAgYXZhdGFyOlxyXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly9wNC5tdXNpYy4xMjYubmV0L25HM0FhcVFONGZNUS1Yd2hmMTlUcmc9PS82MDI3NTIyNzQ0MTQxNTE0LmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiA0NDI2NixcclxuICAgICAgICAgICAgICBuYW1lOiAnVGF5bG9yIFN3aWZ0JyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3AzLm11c2ljLjEyNi5uZXQvbFFnWTliRjRaUkNLLWg1Z29HeG1DZz09LzEwOTk1MTE2MzI0NTE1NDYxMS5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogMTI5NzcsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ+mAg+i3keiuoeWIkicsXHJcbiAgICAgICAgICAgICAgYXZhdGFyOlxyXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly9wNC5tdXNpYy4xMjYubmV0L0lpOFUydWdKeGZwV1FadlpQWnNZd2c9PS8zNDE4MzgxNjUyODAwNjM4LmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiAxMjc4MTUsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ1QtYXJhJyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3AzLm11c2ljLjEyNi5uZXQvWmZkeHlBbGVDekJQNlpGMmZYYTIzZz09LzM0MTk0ODExODA2MDc4NzAuanBnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDUxOTYsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ+mZtuWWhicsXHJcbiAgICAgICAgICAgICAgYXZhdGFyOlxyXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly9wMy5tdXNpYy4xMjYubmV0L0hjaUN0RDdzd1VVX0Q5d2VtOU5mTkE9PS82MDQ0MDE1NDE4NTI0OTQ0LmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiAxMDE5OTUyLFxyXG4gICAgICAgICAgICAgIG5hbWU6ICdUaGVGYXRSYXQnLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDQubXVzaWMuMTI2Lm5ldC9WcHNVc2VZNDd4MFVIejc1S0tiaHRBPT0vMjUzNTQ3MzgxNjY2ODQ3OC5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogOTQ4OSxcclxuICAgICAgICAgICAgICBuYW1lOiAn6LCt57u057u0JyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3AzLm11c2ljLjEyNi5uZXQvU3pmX3lzZ3VYNGZlOG56blc4b3R2UT09LzMyNjU1NDk1NzY5NTUzODQuanBnJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0aXRsZTogJ1cnLFxyXG4gICAgICAgICAgaXRlbXM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiA5NjIxLFxyXG4gICAgICAgICAgICAgIG5hbWU6ICfnjovoj7InLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDQubXVzaWMuMTI2Lm5ldC9HS2hqZ04xbHRRWUszZVlmOURkSndnPT0vMTg3Mjc5ODE1NTc2MjI3NjMuanBnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDUzNDYsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ+eOi+WKm+WujycsXHJcbiAgICAgICAgICAgICAgYXZhdGFyOlxyXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly9wNC5tdXNpYy4xMjYubmV0LzNzWUhNdENLcFdJeHQ5RzEyeWpVVHc9PS8yNjQ5ODIzMDIzMTAzNzcuanBnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDQ2MDA2LFxyXG4gICAgICAgICAgICAgIG5hbWU6ICdXaXogS2hhbGlmYScsXHJcbiAgICAgICAgICAgICAgYXZhdGFyOlxyXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly9wMy5tdXNpYy4xMjYubmV0L1Yyc09XVVdHQUFZUjVmbkRwTno4UlE9PS8yODM2NzM5OTk5ODM2NjYuanBnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDEzMTkzLFxyXG4gICAgICAgICAgICAgIG5hbWU6ICfkupTmnIjlpKknLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDQubXVzaWMuMTI2Lm5ldC9uVVZMVUwwZ0cxWGZUUmVVLVVzMVlBPT0vMTg2NDIyMTk2NTA2NjExODkuanBnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDQ1ODM5LFxyXG4gICAgICAgICAgICAgIG5hbWU6ICdXZXN0bGlmZScsXHJcbiAgICAgICAgICAgICAgYXZhdGFyOlxyXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly9wNC5tdXNpYy4xMjYubmV0L3BKZjhNVmN2eExYNkhWUktabGNNT0E9PS8xODc2NjQ2NDQ2NDUyNTgzNy5qcGcnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRpdGxlOiAnWCcsXHJcbiAgICAgICAgICBpdGVtczogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDU3ODEsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ+iWm+S5i+iwpicsXHJcbiAgICAgICAgICAgICAgYXZhdGFyOlxyXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly9wNC5tdXNpYy4xMjYubmV0L1VMbHdKMmRyT2ZZdi1mNi1fN2pHR1E9PS8zMjUwMTU2Mzc5NTkyOTY2LmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiA1NzcwLFxyXG4gICAgICAgICAgICAgIG5hbWU6ICforrjlt40nLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDQubXVzaWMuMTI2Lm5ldC9JNkk4MU03QjdfaG9lcXA5VkdnOHN3PT0vNTY4NDQ3NTExNTg0NzU0LmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiA1NzcxLFxyXG4gICAgICAgICAgICAgIG5hbWU6ICforrjltaknLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDQubXVzaWMuMTI2Lm5ldC8yeW1BSzhZVFZFeFoxZVowNzJCQkNRPT0vODkzNDYzMTQ4NzQxNzM1NS5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogOTk1MixcclxuICAgICAgICAgICAgICBuYW1lOiAn6LCi5a6J55CqJyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3A0Lm11c2ljLjEyNi5uZXQvRDYwZTdLMkh4ZjF1V0RSVGxHeTN1UT09LzI0NDA5MTU4MTM4MjkyOC5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogNTc2OCxcclxuICAgICAgICAgICAgICBuYW1lOiAn6JCn5pWs6IW+JyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3A0Lm11c2ljLjEyNi5uZXQva0l5dlZPQnR6MHNQSk1vbTFzczZ0QT09LzEzODIwODYxMTY2NjgxMDEuanBnJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0aXRsZTogJ1knLFxyXG4gICAgICAgICAgaXRlbXM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiA2MDY2LFxyXG4gICAgICAgICAgICAgIG5hbWU6ICfmnajlrpfnuqwnLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDMubXVzaWMuMTI2Lm5ldC9RNEpTYVY5OHd1VTZ4RWxBVHNGakF3PT0vMzI2MTE1MTQ5NTQzNDU0My5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogMTAyMDQsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ+adqOWNg+WshScsXHJcbiAgICAgICAgICAgICAgYXZhdGFyOlxyXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly9wMy5tdXNpYy4xMjYubmV0L0Z5M09TZ2V2dUEtaXdzeTNYX3BxcEE9PS8yMzUyOTU0ODgzNjEwMDIuanBnJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0aXRsZTogJ1onLFxyXG4gICAgICAgICAgaXRlbXM6IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiA2NDUyLFxyXG4gICAgICAgICAgICAgIG5hbWU6ICflkajmnbDkvKYnLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDMubXVzaWMuMTI2Lm5ldC9vLUZqQ3JVbGh5RkM5NnhpVnZKWjhnPT0vMTA5OTUxMTYzMTExMTkxNDEwLmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiA2NDYwLFxyXG4gICAgICAgICAgICAgIG5hbWU6ICflvKDlrablj4snLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDMubXVzaWMuMTI2Lm5ldC8xSkc4VXd6YjVYQUpYYVBVSFI2UkJ3PT0vMzIzODA2MTc0NzAyNDcxNi5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogNjczMSxcclxuICAgICAgICAgICAgICBuYW1lOiAn6LW16Zu3JyxcclxuICAgICAgICAgICAgICBhdmF0YXI6XHJcbiAgICAgICAgICAgICAgICAnaHR0cDovL3A0Lm11c2ljLjEyNi5uZXQvd19VV09sczJ1Q2tGTl9VNjI3ODhYZz09LzE4ODA2MDQ2ODgyMjI5MzA4LmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiA2NDU3LFxyXG4gICAgICAgICAgICAgIG5hbWU6ICflvKDlm73ojaMnLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDQubXVzaWMuMTI2Lm5ldC93dXBSZDZQSU9EUE0yZ014bWx4RDh3PT0vMzk1ODI0MTg2MTc2ODMuanBnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDY0NjIsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ+W8oOaVrOi9qScsXHJcbiAgICAgICAgICAgICAgYXZhdGFyOlxyXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly9wMy5tdXNpYy4xMjYubmV0LzdhNzdEWmxzcFNhQlpleE9yOG1kTHc9PS8xODg2MzIyMTQ4NjI3OTA4Mi5qcGcnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBpZDogMTA1NjEsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ+W8oOmdk+milicsXHJcbiAgICAgICAgICAgICAgYXZhdGFyOlxyXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly9wNC5tdXNpYy4xMjYubmV0L1BEU0xTRWo1RUh2R1dlYVR5NU1xV1E9PS8xMDk5NTExNjMwNjQ1MTk2MjAuanBnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDEwNTU5LFxyXG4gICAgICAgICAgICAgIG5hbWU6ICflvKDmg6DlprknLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDQubXVzaWMuMTI2Lm5ldC9GOWFzZ2NqN0M3cVNsX2plOVhEdlJ3PT0vNjAzNjMxODgzNjc1MjQxLmpwZydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGlkOiA2NDcyLFxyXG4gICAgICAgICAgICAgIG5hbWU6ICflvKDmnbAnLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjpcclxuICAgICAgICAgICAgICAgICdodHRwOi8vcDQubXVzaWMuMTI2Lm5ldC9SNGl0M0s0VlZkNHFPbE12MVZ2SF93PT0vMTg1Njk2NTE4ODE2MjgzMDAuanBnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDY2NTIsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ+WRqOS8oOmbhCcsXHJcbiAgICAgICAgICAgICAgYXZhdGFyOlxyXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly9wMy5tdXNpYy4xMjYubmV0L1VYeWNhSkczQjF5aEJNaWRFanFIN3c9PS8yMTExMDYyMzI1NTA0ODAuanBnJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgaWQ6IDY0NTQsXHJcbiAgICAgICAgICAgICAgbmFtZTogJ+W8oOS/oeWTsicsXHJcbiAgICAgICAgICAgICAgYXZhdGFyOlxyXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly9wMy5tdXNpYy4xMjYubmV0L2R0bTBMNUwwT3R4RHpEcG5GVHFWeWc9PS8zMjg1MzQwNzUwMDQ5MDkxLmpwZydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH1cclxuICAgICAgXSxcclxuICAgICAgc2Nyb2xsWTogMCxcclxuICAgICAgY3VycmVudEluZGV4OiAwXHJcbiAgICB9XHJcbiAgfSxcclxuICBjcmVhdGVkICgpIHtcclxuICAgIHRoaXMudG91Y2ggPSB7fVxyXG4gICAgLy8g5Yid5aeL5YyWIGJldHRlci1zY3JvbGwg5b+F6aG76KaB562JIGRvbSDliqDovb3lrozmr5VcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICB0aGlzLl9pbml0U3Jjb2xsKClcclxuICAgICAgdGhpcy5fY2FsY3VsYXRlSGVpZ2h0KClcclxuICAgIH0sIDIwKVxyXG4gIH0sXHJcbiAgbWV0aG9kczoge1xyXG4gICAgX2luaXRTcmNvbGwgKCkge1xyXG4gICAgICAvLyBjb25zb2xlLmxvZygnZGlkaScpXHJcbiAgICAgIHRoaXMuc2Nyb2xsID0gbmV3IEJTY3JvbGwodGhpcy4kcmVmcy5saXN0Vmlldywge1xyXG4gICAgICAgIHByb2JlVHlwZTogMyxcclxuICAgICAgICBjbGljazogdHJ1ZVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgdGhpcy5zY3JvbGwub24oJ3Njcm9sbCcsIChwb3MpID0+IHtcclxuICAgICAgICB0aGlzLnNjcm9sbFkgPSBwb3MueVxyXG4gICAgICB9KVxyXG4gICAgfSxcclxuICAgIG9uU2hvcnRjdXRTdGFydCAoZSkge1xyXG4gICAgICAvLyDojrflj5bliLDnu5HlrprnmoQgaW5kZXhcclxuICAgICAgbGV0IGluZGV4ID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JylcclxuICAgICAgLy8g5L2/55SoIGJldHRlci1zY3JvbGwg55qEIHNjcm9sbFRvRWxlbWVudCDmlrnms5Xlrp7njrDot7PovaxcclxuICAgICAgdGhpcy5zY3JvbGxUb0VsZW1lbnQoaW5kZXgpXHJcblxyXG4gICAgICAvLyDorrDlvZXkuIDkuIvngrnlh7vml7blgJnnmoQgWeWdkOaghyDlkowgaW5kZXhcclxuICAgICAgbGV0IGZpcnN0VG91Y2ggPSBlLnRvdWNoZXNbMF0ucGFnZVlcclxuICAgICAgdGhpcy50b3VjaC55MSA9IGZpcnN0VG91Y2hcclxuICAgICAgdGhpcy50b3VjaC5hbmNob3JJbmRleCA9IGluZGV4XHJcbiAgICB9LFxyXG4gICAgb25TaG9ydGN1dE1vdmUgKGUpIHtcclxuICAgICAgLy8g5YaN6K6w5b2V5LiA5LiL56e75Yqo5pe25YCZ55qEIFnlnZDmoIfvvIznhLblkI7orqHnrpflh7rnp7vliqjkuoblh6DkuKrntKLlvJVcclxuICAgICAgbGV0IHRvdWNoTW92ZSA9IGUudG91Y2hlc1swXS5wYWdlWVxyXG4gICAgICB0aGlzLnRvdWNoLnkyID0gdG91Y2hNb3ZlXHJcbiAgICAgIC8vIOi/memHjOeahCAxNi43IOaYr+e0ouW8leWFg+e0oOeahOmrmOW6plxyXG4gICAgICBsZXQgZGVsdGEgPSBNYXRoLmZsb29yKCh0aGlzLnRvdWNoLnkyIC0gdGhpcy50b3VjaC55MSkgLyAxNi43KVxyXG5cclxuICAgICAgLy8g6K6h566X5pyA5ZCO55qE5L2N572uXHJcbiAgICAgIC8vICogMSDmmK/lm6DkuLogdGhpcy50b3VjaC5hbmNob3JJbmRleCDmmK/lrZfnrKbkuLLvvIznlKggKiAxIOWBt+aHkueahOi9rOWMluS4gOS4i1xyXG4gICAgICBsZXQgaW5kZXggPSB0aGlzLnRvdWNoLmFuY2hvckluZGV4ICogMSArIGRlbHRhXHJcbiAgICAgIHRoaXMuc2Nyb2xsVG9FbGVtZW50KGluZGV4KVxyXG4gICAgfSxcclxuICAgIHNjcm9sbFRvRWxlbWVudCAoaW5kZXgpIHtcclxuICAgICAgLy8g5aSE55CG6L6555WM5oOF5Ya1XHJcbiAgICAgIC8vIOWboOS4uiBpbmRleCDpgJrov4fmu5Hliqjot53nprvorqHnrpflh7rmnaXnmoRcclxuICAgICAgLy8g5omA5Lul5ZCR5LiK5ruR6LaF6L+H57Si5byV5qGG5qGG55qE5pe25YCZ5bCx5LyaIDwgMO+8jOWQkeS4iuWwseS8mui2hei/h+acgOWkp+WAvFxyXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH0gZWxzZSBpZiAoaW5kZXggPiB0aGlzLmxpc3RIZWlnaHQubGVuZ3RoIC0gMikge1xyXG4gICAgICAgIGluZGV4ID0gdGhpcy5saXN0SGVpZ2h0Lmxlbmd0aCAtIDJcclxuICAgICAgfVxyXG4gICAgICAvLyBsaXN0SGVpZ2h0IOaYr+ato+eahO+8jCDmiYDku6XliqDkuKogLVxyXG4gICAgICB0aGlzLnNjcm9sbFkgPSAtdGhpcy5saXN0SGVpZ2h0W2luZGV4XVxyXG4gICAgICB0aGlzLnNjcm9sbC5zY3JvbGxUb0VsZW1lbnQodGhpcy4kcmVmcy5saXN0R3JvdXBbaW5kZXhdKVxyXG4gICAgfSxcclxuICAgIC8vIOWIl+ihqOWQhOaooeWdl+WFg+e0oOmrmOW6pue7hOaIkOeahOaVsOe7hFxyXG4gICAgX2NhbGN1bGF0ZUhlaWdodCAoKSB7XHJcbiAgICAgIHRoaXMubGlzdEhlaWdodCA9IFtdXHJcbiAgICAgIGNvbnN0IGxpc3QgPSB0aGlzLiRyZWZzLmxpc3RHcm91cFxyXG4gICAgICBsZXQgaGVpZ2h0ID0gMFxyXG4gICAgICB0aGlzLmxpc3RIZWlnaHQucHVzaChoZWlnaHQpXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxldCBpdGVtID0gbGlzdFtpXVxyXG4gICAgICAgIGhlaWdodCArPSBpdGVtLmNsaWVudEhlaWdodFxyXG4gICAgICAgIHRoaXMubGlzdEhlaWdodC5wdXNoKGhlaWdodClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgd2F0Y2g6IHtcclxuICAgIHNjcm9sbFkgKG5ld1ZhbCkge1xyXG4gICAgICAvLyDlkJHkuIvmu5HliqjnmoTml7blgJkgbmV3VmFsIOaYr+S4gOS4qui0n+aVsO+8jOaJgOS7peW9kyBuZXdWYWwgPiAwIOaXtu+8jGN1cnJlbnRJbmRleCDnm7TmjqXkuLogMFxyXG4gICAgICBpZiAobmV3VmFsID4gMCkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gMFxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDorqHnrpcgY3VycmVudEluZGV4IOeahOWAvFxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGlzdEhlaWdodC5sZW5ndGggLSAxOyBpKyspIHtcclxuICAgICAgICBsZXQgaGVpZ2h0MSA9IHRoaXMubGlzdEhlaWdodFtpXVxyXG4gICAgICAgIGxldCBoZWlnaHQyID0gdGhpcy5saXN0SGVpZ2h0W2kgKyAxXVxyXG5cclxuICAgICAgICBpZiAoLW5ld1ZhbCA+PSBoZWlnaHQxICYmIC1uZXdWYWwgPCBoZWlnaHQyKSB7XHJcbiAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IGlcclxuICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g5b2T6LaFIC1uZXdWYWwgPiDmnIDlkI7kuIDkuKrpq5jluqbnmoTml7blgJlcclxuICAgICAgLy8g5Zug5Li6IHRoaXMubGlzdEhlaWdodCDmnInlpLTlsL7vvIzmiYDku6XpnIDopoEgLSAyXHJcbiAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gdGhpcy5saXN0SGVpZ2h0Lmxlbmd0aCAtIDJcclxuICAgIH1cclxuICB9LFxyXG4gIGNvbXB1dGVkOiB7XHJcbiAgICBzaG9ydGN1dExpc3QgKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5zaW5nZXJzLm1hcCgoZ3JvdXApID0+IHtcclxuICAgICAgICByZXR1cm4gZ3JvdXAudGl0bGUuc3Vic3RyKDAsIDEpXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvcGFnZXMvZGVtby9saXN0Vmlldy52dWUiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUF6REE7QUFrRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUE3Q0E7QUFzREE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBckJBO0FBOEJBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBN0NBO0FBc0RBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQXJCQTtBQThCQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQVRBO0FBa0JBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQXJCQTtBQThCQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQVRBO0FBa0JBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBVEE7QUFrQkE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBckJBO0FBOEJBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFIQTtBQUhBO0FBWUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUEvREE7QUF3RUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQWZBO0FBd0JBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFIQTtBQUhBO0FBWUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQWZBO0FBd0JBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBVEE7QUFrQkE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFUQTtBQWtCQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBakNBO0FBMENBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBN0NBO0FBc0RBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBM0JBO0FBb0NBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBM0JBO0FBb0NBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBVEE7QUFrQkE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBT0E7QUFDQTtBQUNBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFIQTtBQU9BO0FBQ0E7QUFDQTtBQUhBO0FBekRBO0FBa0VBO0FBQ0E7QUF6dkJBO0FBMnZCQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEzREE7QUE2REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXRCQTtBQXdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQTMxQkEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///467\n");

/***/ }),

/***/ 489:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/*!\n * better-normal-scroll v1.15.2\n * (c) 2016-2019 ustbhuangyi\n * Released under the MIT License.\n */\n// As of V8 6.6, depending on the size of the array, this is anywhere\n// between 1.5-10x faster than the two-arg version of Array#splice()\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++) {\n    list[index] = list[index + 1];\n  }\n\n  list.pop();\n}\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\nfunction eventMixin(BScroll) {\n  BScroll.prototype.on = function (type, fn) {\n    var context = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this;\n\n    if (!this._events[type]) {\n      this._events[type] = [];\n    }\n\n    this._events[type].push([fn, context]);\n  };\n\n  BScroll.prototype.once = function (type, fn) {\n    var context = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this;\n\n    function magic() {\n      this.off(type, magic);\n\n      fn.apply(context, arguments);\n    }\n    // To expose the corresponding function method in order to execute the off method\n    magic.fn = fn;\n\n    this.on(type, magic);\n  };\n\n  BScroll.prototype.off = function (type, fn) {\n    var _events = this._events[type];\n    if (!_events) {\n      return;\n    }\n\n    var count = _events.length;\n    while (count--) {\n      if (_events[count][0] === fn || _events[count][0] && _events[count][0].fn === fn) {\n        spliceOne(_events, count);\n      }\n    }\n  };\n\n  BScroll.prototype.trigger = function (type) {\n    var events = this._events[type];\n    if (!events) {\n      return;\n    }\n\n    var len = events.length;\n    var eventsCopy = [].concat(toConsumableArray(events));\n    for (var i = 0; i < len; i++) {\n      var event = eventsCopy[i];\n\n      var _event = slicedToArray(event, 2),\n          fn = _event[0],\n          context = _event[1];\n\n      if (fn) {\n        fn.apply(context, [].slice.call(arguments, 1));\n      }\n    }\n  };\n}\n\n// ssr support\nvar inBrowser = typeof window !== 'undefined';\nvar ua = inBrowser && navigator.userAgent.toLowerCase();\nvar isWeChatDevTools = ua && /wechatdevtools/.test(ua);\nvar isAndroid = ua && ua.indexOf('android') > 0;\n\nfunction getNow() {\n  return window.performance && window.performance.now ? window.performance.now() + window.performance.timing.navigationStart : +new Date();\n}\n\nfunction extend(target) {\n  for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    rest[_key - 1] = arguments[_key];\n  }\n\n  for (var i = 0; i < rest.length; i++) {\n    var source = rest[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\n\nfunction isUndef(v) {\n  return v === undefined || v === null;\n}\n\nfunction getDistance(x, y) {\n  return Math.sqrt(x * x + y * y);\n}\n\nvar elementStyle = inBrowser && document.createElement('div').style;\n\nvar vendor = function () {\n  if (!inBrowser) {\n    return false;\n  }\n  // first pick up standard to fix #743\n  var transformNames = {\n    standard: 'transform',\n    webkit: 'webkitTransform',\n    Moz: 'MozTransform',\n    O: 'OTransform',\n    ms: 'msTransform'\n  };\n\n  for (var key in transformNames) {\n    if (elementStyle[transformNames[key]] !== undefined) {\n      return key;\n    }\n  }\n\n  return false;\n}();\n\nfunction prefixStyle(style) {\n  if (vendor === false) {\n    return false;\n  }\n\n  if (vendor === 'standard') {\n    if (style === 'transitionEnd') {\n      return 'transitionend';\n    }\n    return style;\n  }\n\n  return vendor + style.charAt(0).toUpperCase() + style.substr(1);\n}\n\nfunction addEvent(el, type, fn, capture) {\n  el.addEventListener(type, fn, { passive: false, capture: !!capture });\n}\n\nfunction removeEvent(el, type, fn, capture) {\n  el.removeEventListener(type, fn, { passive: false, capture: !!capture });\n}\n\nfunction offset(el) {\n  var left = 0;\n  var top = 0;\n\n  while (el) {\n    left -= el.offsetLeft;\n    top -= el.offsetTop;\n    el = el.offsetParent;\n  }\n\n  return {\n    left: left,\n    top: top\n  };\n}\n\nfunction offsetToBody(el) {\n  var rect = el.getBoundingClientRect();\n\n  return {\n    left: -(rect.left + window.pageXOffset),\n    top: -(rect.top + window.pageYOffset)\n  };\n}\n\nvar cssVendor = vendor && vendor !== 'standard' ? '-' + vendor.toLowerCase() + '-' : '';\n\nvar transform = prefixStyle('transform');\nvar transition = prefixStyle('transition');\n\nvar hasPerspective = inBrowser && prefixStyle('perspective') in elementStyle;\n// fix issue #361\nvar hasTouch = inBrowser && ('ontouchstart' in window || isWeChatDevTools);\nvar hasTransform = transform !== false;\nvar hasTransition = inBrowser && transition in elementStyle;\n\nvar style = {\n  transform: transform,\n  transition: transition,\n  transitionTimingFunction: prefixStyle('transitionTimingFunction'),\n  transitionDuration: prefixStyle('transitionDuration'),\n  transitionDelay: prefixStyle('transitionDelay'),\n  transformOrigin: prefixStyle('transformOrigin'),\n  transitionEnd: prefixStyle('transitionEnd')\n};\n\nvar TOUCH_EVENT = 1;\nvar MOUSE_EVENT = 2;\n\nvar eventType = {\n  touchstart: TOUCH_EVENT,\n  touchmove: TOUCH_EVENT,\n  touchend: TOUCH_EVENT,\n\n  mousedown: MOUSE_EVENT,\n  mousemove: MOUSE_EVENT,\n  mouseup: MOUSE_EVENT\n};\n\nfunction getRect(el) {\n  if (el instanceof window.SVGElement) {\n    var rect = el.getBoundingClientRect();\n    return {\n      top: rect.top,\n      left: rect.left,\n      width: rect.width,\n      height: rect.height\n    };\n  } else {\n    return {\n      top: el.offsetTop,\n      left: el.offsetLeft,\n      width: el.offsetWidth,\n      height: el.offsetHeight\n    };\n  }\n}\n\nfunction preventDefaultException(el, exceptions) {\n  for (var i in exceptions) {\n    if (exceptions[i].test(el[i])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction tap(e, eventName) {\n  var ev = document.createEvent('Event');\n  ev.initEvent(eventName, true, true);\n  ev.pageX = e.pageX;\n  ev.pageY = e.pageY;\n  e.target.dispatchEvent(ev);\n}\n\nfunction click(e) {\n  var event = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'click';\n\n  var eventSource = void 0;\n  if (e.type === 'mouseup' || e.type === 'mousecancel') {\n    eventSource = e;\n  } else if (e.type === 'touchend' || e.type === 'touchcancel') {\n    eventSource = e.changedTouches[0];\n  }\n  var posSrc = {};\n  if (eventSource) {\n    posSrc.screenX = eventSource.screenX || 0;\n    posSrc.screenY = eventSource.screenY || 0;\n    posSrc.clientX = eventSource.clientX || 0;\n    posSrc.clientY = eventSource.clientY || 0;\n  }\n  var ev = void 0;\n  var bubbles = true;\n  var cancelable = true;\n  if (typeof MouseEvent !== 'undefined') {\n    try {\n      ev = new MouseEvent(event, extend({\n        bubbles: bubbles,\n        cancelable: cancelable\n      }, posSrc));\n    } catch (e) {\n      createEvent();\n    }\n  } else {\n    createEvent();\n  }\n\n  function createEvent() {\n    ev = document.createEvent('Event');\n    ev.initEvent(event, bubbles, cancelable);\n    extend(ev, posSrc);\n  }\n\n  // forwardedTouchEvent set to true in case of the conflict with fastclick\n  ev.forwardedTouchEvent = true;\n  ev._constructed = true;\n  e.target.dispatchEvent(ev);\n}\n\nfunction dblclick(e) {\n  click(e, 'dblclick');\n}\n\nfunction prepend(el, target) {\n  if (target.firstChild) {\n    before(el, target.firstChild);\n  } else {\n    target.appendChild(el);\n  }\n}\n\nfunction before(el, target) {\n  target.parentNode.insertBefore(el, target);\n}\n\nfunction removeChild(el, child) {\n  el.removeChild(child);\n}\n\nvar DEFAULT_OPTIONS = {\n  startX: 0,\n  startY: 0,\n  scrollX: false,\n  scrollY: true,\n  freeScroll: false,\n  directionLockThreshold: 5,\n  eventPassthrough: '',\n  click: false,\n  tap: false,\n  /**\n   * support any side\n   * bounce: {\n   *   top: true,\n   *   bottom: true,\n   *   left: true,\n   *   right: true\n   * }\n   */\n  bounce: true,\n  bounceTime: 800,\n  momentum: true,\n  momentumLimitTime: 300,\n  momentumLimitDistance: 15,\n  swipeTime: 2500,\n  swipeBounceTime: 500,\n  deceleration: 0.0015,\n  flickLimitTime: 200,\n  flickLimitDistance: 100,\n  resizePolling: 60,\n  probeType: 0,\n  preventDefault: true,\n  preventDefaultException: {\n    tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|AUDIO)$/\n  },\n  HWCompositing: true,\n  useTransition: true,\n  useTransform: true,\n  bindToWrapper: false,\n  disableMouse: hasTouch,\n  disableTouch: !hasTouch,\n  observeDOM: true,\n  autoBlur: true,\n  /**\n   * for picker\n   * wheel: {\n   *   selectedIndex: 0,\n   *   rotate: 25,\n   *   adjustTime: 400\n   *   wheelWrapperClass: 'wheel-scroll',\n   *   wheelItemClass: 'wheel-item'\n   * }\n   */\n  wheel: false,\n  /**\n   * for slide\n   * snap: {\n   *   loop: false,\n   *   el: domEl,\n   *   threshold: 0.1,\n   *   stepX: 100,\n   *   stepY: 100,\n   *   speed: 400,\n   *   easing: {\n   *     style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n   *     fn: function (t) {\n   *       return t * (2 - t)\n   *     }\n   *   }\n   *   listenFlick: true\n   * }\n   */\n  snap: false,\n  /**\n   * for scrollbar\n   * scrollbar: {\n   *   fade: true,\n   *   interactive: false\n   * }\n   */\n  scrollbar: false,\n  /**\n   * for pull down and refresh\n   * pullDownRefresh: {\n   *   threshold: 50,\n   *   stop: 20\n   * }\n   */\n  pullDownRefresh: false,\n  /**\n   * for pull up and load\n   * pullUpLoad: {\n   *   threshold: 50\n   * }\n   */\n  pullUpLoad: false,\n  /**\n   * for mouse wheel\n   * mouseWheel: {\n   *   speed: 20,\n   *   invert: false,\n   *   easeTime: 300\n   * }\n   */\n  mouseWheel: false,\n  stopPropagation: false,\n  /**\n   * for zoom\n   * zoom: {\n   *   start: 1,\n   *   min: 1,\n   *   max: 4\n   * }\n   */\n  zoom: false,\n  /**\n   * for infinity\n   * infinity: {\n   *   render(item, div) {\n   *   },\n   *   createTombstone() {\n   *   },\n   *   fetch(count) {\n   *   }\n   * }\n   */\n  infinity: false,\n  /**\n   * for double click\n   * dblclick: {\n   *   delay: 300\n   * }\n   */\n  dblclick: false\n};\n\nfunction initMixin(BScroll) {\n  BScroll.prototype._init = function (options) {\n    this._handleOptions(options);\n\n    // init private custom events\n    this._events = {};\n\n    this.x = 0;\n    this.y = 0;\n    this.directionX = 0;\n    this.directionY = 0;\n\n    this.setScale(1);\n\n    this._addDOMEvents();\n\n    this._initExtFeatures();\n\n    this._watchTransition();\n\n    if (this.options.observeDOM) {\n      this._initDOMObserver();\n    }\n\n    if (this.options.autoBlur) {\n      this._handleAutoBlur();\n    }\n\n    this.refresh();\n\n    if (!this.options.snap) {\n      this.scrollTo(this.options.startX, this.options.startY);\n    }\n\n    this.enable();\n  };\n\n  BScroll.prototype.setScale = function (scale) {\n    this.lastScale = isUndef(this.scale) ? scale : this.scale;\n    this.scale = scale;\n  };\n\n  BScroll.prototype._handleOptions = function (options) {\n    this.options = extend({}, DEFAULT_OPTIONS, options);\n\n    this.translateZ = this.options.HWCompositing && hasPerspective ? ' translateZ(0)' : '';\n\n    this.options.useTransition = this.options.useTransition && hasTransition;\n    this.options.useTransform = this.options.useTransform && hasTransform;\n\n    this.options.preventDefault = !this.options.eventPassthrough && this.options.preventDefault;\n\n    // If you want eventPassthrough I have to lock one of the axes\n    this.options.scrollX = this.options.eventPassthrough === 'horizontal' ? false : this.options.scrollX;\n    this.options.scrollY = this.options.eventPassthrough === 'vertical' ? false : this.options.scrollY;\n\n    // With eventPassthrough we also need lockDirection mechanism\n    this.options.freeScroll = this.options.freeScroll && !this.options.eventPassthrough;\n    this.options.directionLockThreshold = this.options.eventPassthrough ? 0 : this.options.directionLockThreshold;\n\n    if (this.options.tap === true) {\n      this.options.tap = 'tap';\n    }\n  };\n\n  BScroll.prototype._addDOMEvents = function () {\n    var eventOperation = addEvent;\n    this._handleDOMEvents(eventOperation);\n  };\n\n  BScroll.prototype._removeDOMEvents = function () {\n    var eventOperation = removeEvent;\n    this._handleDOMEvents(eventOperation);\n  };\n\n  BScroll.prototype._handleDOMEvents = function (eventOperation) {\n    var target = this.options.bindToWrapper ? this.wrapper : window;\n    eventOperation(window, 'orientationchange', this);\n    eventOperation(window, 'resize', this);\n\n    if (this.options.click) {\n      eventOperation(this.wrapper, 'click', this, true);\n    }\n\n    if (!this.options.disableMouse) {\n      eventOperation(this.wrapper, 'mousedown', this);\n      eventOperation(target, 'mousemove', this);\n      eventOperation(target, 'mousecancel', this);\n      eventOperation(target, 'mouseup', this);\n    }\n\n    if (hasTouch && !this.options.disableTouch) {\n      eventOperation(this.wrapper, 'touchstart', this);\n      eventOperation(target, 'touchmove', this);\n      eventOperation(target, 'touchcancel', this);\n      eventOperation(target, 'touchend', this);\n    }\n\n    eventOperation(this.scroller, style.transitionEnd, this);\n  };\n\n  BScroll.prototype._initExtFeatures = function () {\n    if (this.options.snap) {\n      this._initSnap();\n    }\n    if (this.options.scrollbar) {\n      this._initScrollbar();\n    }\n    if (this.options.pullUpLoad) {\n      this._initPullUp();\n    }\n    if (this.options.pullDownRefresh) {\n      this._initPullDown();\n    }\n    if (this.options.wheel) {\n      this._initWheel();\n    }\n    if (this.options.mouseWheel) {\n      this._initMouseWheel();\n    }\n    if (this.options.zoom) {\n      this._initZoom();\n    }\n    if (this.options.infinity) {\n      this._initInfinite();\n    }\n  };\n\n  BScroll.prototype._watchTransition = function () {\n    if (typeof Object.defineProperty !== 'function') {\n      return;\n    }\n    var me = this;\n    var isInTransition = false;\n    var key = this.options.useTransition ? 'isInTransition' : 'isAnimating';\n    Object.defineProperty(this, key, {\n      get: function get() {\n        return isInTransition;\n      },\n      set: function set(newVal) {\n        isInTransition = newVal;\n        // fix issue #359\n        var el = me.scroller.children.length ? me.scroller.children : [me.scroller];\n        var pointerEvents = isInTransition && !me.pulling ? 'none' : 'auto';\n        for (var i = 0; i < el.length; i++) {\n          el[i].style.pointerEvents = pointerEvents;\n        }\n      }\n    });\n  };\n\n  BScroll.prototype._handleAutoBlur = function () {\n    this.on('scrollStart', function () {\n      var activeElement = document.activeElement;\n      if (activeElement && (activeElement.tagName === 'INPUT' || activeElement.tagName === 'TEXTAREA')) {\n        activeElement.blur();\n      }\n    });\n  };\n\n  BScroll.prototype._initDOMObserver = function () {\n    var _this = this;\n\n    if (typeof MutationObserver !== 'undefined') {\n      var timer = void 0;\n      var observer = new MutationObserver(function (mutations) {\n        // don't do any refresh during the transition, or outside of the boundaries\n        if (_this._shouldNotRefresh()) {\n          return;\n        }\n        var immediateRefresh = false;\n        var deferredRefresh = false;\n        for (var i = 0; i < mutations.length; i++) {\n          var mutation = mutations[i];\n          if (mutation.type !== 'attributes') {\n            immediateRefresh = true;\n            break;\n          } else {\n            if (mutation.target !== _this.scroller) {\n              deferredRefresh = true;\n              break;\n            }\n          }\n        }\n        if (immediateRefresh) {\n          _this.refresh();\n        } else if (deferredRefresh) {\n          // attributes changes too often\n          clearTimeout(timer);\n          timer = setTimeout(function () {\n            if (!_this._shouldNotRefresh()) {\n              _this.refresh();\n            }\n          }, 60);\n        }\n      });\n      var config = {\n        attributes: true,\n        childList: true,\n        subtree: true\n      };\n      observer.observe(this.scroller, config);\n\n      this.on('destroy', function () {\n        observer.disconnect();\n      });\n    } else {\n      this._checkDOMUpdate();\n    }\n  };\n\n  BScroll.prototype._shouldNotRefresh = function () {\n    var outsideBoundaries = this.x > this.minScrollX || this.x < this.maxScrollX || this.y > this.minScrollY || this.y < this.maxScrollY;\n\n    return this.isInTransition || this.stopFromTransition || outsideBoundaries;\n  };\n\n  BScroll.prototype._checkDOMUpdate = function () {\n    var scrollerRect = getRect(this.scroller);\n    var oldWidth = scrollerRect.width;\n    var oldHeight = scrollerRect.height;\n\n    function check() {\n      if (this.destroyed) {\n        return;\n      }\n      scrollerRect = getRect(this.scroller);\n      var newWidth = scrollerRect.width;\n      var newHeight = scrollerRect.height;\n\n      if (oldWidth !== newWidth || oldHeight !== newHeight) {\n        this.refresh();\n      }\n      oldWidth = newWidth;\n      oldHeight = newHeight;\n\n      next.call(this);\n    }\n\n    function next() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        check.call(_this2);\n      }, 1000);\n    }\n\n    next.call(this);\n  };\n\n  BScroll.prototype.handleEvent = function (e) {\n    switch (e.type) {\n      case 'touchstart':\n      case 'mousedown':\n        this._start(e);\n        if (this.options.zoom && e.touches && e.touches.length > 1) {\n          this._zoomStart(e);\n        }\n        break;\n      case 'touchmove':\n      case 'mousemove':\n        if (this.options.zoom && e.touches && e.touches.length > 1) {\n          this._zoom(e);\n        } else {\n          this._move(e);\n        }\n        break;\n      case 'touchend':\n      case 'mouseup':\n      case 'touchcancel':\n      case 'mousecancel':\n        if (this.scaled) {\n          this._zoomEnd(e);\n        } else {\n          this._end(e);\n        }\n        break;\n      case 'orientationchange':\n      case 'resize':\n        this._resize();\n        break;\n      case 'transitionend':\n      case 'webkitTransitionEnd':\n      case 'oTransitionEnd':\n      case 'MSTransitionEnd':\n        this._transitionEnd(e);\n        break;\n      case 'click':\n        if (this.enabled && !e._constructed) {\n          if (!preventDefaultException(e.target, this.options.preventDefaultException)) {\n            e.preventDefault();\n            e.stopPropagation();\n          }\n        }\n        break;\n      case 'wheel':\n      case 'DOMMouseScroll':\n      case 'mousewheel':\n        this._onMouseWheel(e);\n        break;\n    }\n  };\n\n  BScroll.prototype.refresh = function () {\n    var isWrapperStatic = window.getComputedStyle(this.wrapper, null).position === 'static';\n    var wrapperRect = getRect(this.wrapper);\n    this.wrapperWidth = wrapperRect.width;\n    this.wrapperHeight = wrapperRect.height;\n\n    var scrollerRect = getRect(this.scroller);\n    this.scrollerWidth = Math.round(scrollerRect.width * this.scale);\n    this.scrollerHeight = Math.round(scrollerRect.height * this.scale);\n\n    this.relativeX = scrollerRect.left;\n    this.relativeY = scrollerRect.top;\n\n    if (isWrapperStatic) {\n      this.relativeX -= wrapperRect.left;\n      this.relativeY -= wrapperRect.top;\n    }\n\n    this.minScrollX = 0;\n    this.minScrollY = 0;\n\n    var wheel = this.options.wheel;\n    if (wheel) {\n      this.items = this.scroller.children;\n      // check whether there are all disable items or not when refresh\n      this._checkWheelAllDisabled();\n      this.options.itemHeight = this.itemHeight = this.items.length ? this.scrollerHeight / this.items.length : 0;\n      if (this.selectedIndex === undefined) {\n        this.selectedIndex = wheel.selectedIndex || 0;\n      }\n      this.options.startY = -this.selectedIndex * this.itemHeight;\n\n      this.maxScrollX = 0;\n      this.maxScrollY = -this.itemHeight * (this.items.length - 1);\n    } else {\n      this.maxScrollX = this.wrapperWidth - this.scrollerWidth;\n      if (!this.options.infinity) {\n        this.maxScrollY = this.wrapperHeight - this.scrollerHeight;\n      }\n      if (this.maxScrollX < 0) {\n        this.maxScrollX -= this.relativeX;\n        this.minScrollX = -this.relativeX;\n      } else if (this.scale > 1) {\n        this.maxScrollX = this.maxScrollX / 2 - this.relativeX;\n        this.minScrollX = this.maxScrollX;\n      }\n      if (this.maxScrollY < 0) {\n        this.maxScrollY -= this.relativeY;\n        this.minScrollY = -this.relativeY;\n      } else if (this.scale > 1) {\n        this.maxScrollY = this.maxScrollY / 2 - this.relativeY;\n        this.minScrollY = this.maxScrollY;\n      }\n    }\n\n    this.hasHorizontalScroll = this.options.scrollX && this.maxScrollX < this.minScrollX;\n    this.hasVerticalScroll = this.options.scrollY && this.maxScrollY < this.minScrollY;\n\n    if (!this.hasHorizontalScroll) {\n      this.maxScrollX = this.minScrollX;\n      this.scrollerWidth = this.wrapperWidth;\n    }\n\n    if (!this.hasVerticalScroll) {\n      this.maxScrollY = this.minScrollY;\n      this.scrollerHeight = this.wrapperHeight;\n    }\n\n    this.endTime = 0;\n    this.directionX = 0;\n    this.directionY = 0;\n    this.wrapperOffset = offset(this.wrapper);\n\n    this.trigger('refresh');\n\n    !this.scaled && this.resetPosition();\n  };\n\n  BScroll.prototype.enable = function () {\n    this.enabled = true;\n  };\n\n  BScroll.prototype.disable = function () {\n    this.enabled = false;\n  };\n}\n\nvar ease = {\n  // easeOutQuint\n  swipe: {\n    style: 'cubic-bezier(0.23, 1, 0.32, 1)',\n    fn: function fn(t) {\n      return 1 + --t * t * t * t * t;\n    }\n  },\n  // easeOutQuard\n  swipeBounce: {\n    style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n    fn: function fn(t) {\n      return t * (2 - t);\n    }\n  },\n  // easeOutQuart\n  bounce: {\n    style: 'cubic-bezier(0.165, 0.84, 0.44, 1)',\n    fn: function fn(t) {\n      return 1 - --t * t * t * t;\n    }\n  }\n};\n\nfunction momentum(current, start, time, lowerMargin, upperMargin, wrapperSize, options, scroll) {\n  var distance = current - start;\n  var speed = Math.abs(distance) / time;\n\n  var deceleration = options.deceleration,\n      itemHeight = options.itemHeight,\n      swipeBounceTime = options.swipeBounceTime,\n      wheel = options.wheel,\n      swipeTime = options.swipeTime;\n\n  var duration = swipeTime;\n  var rate = wheel ? 4 : 15;\n\n  var destination = current + speed / deceleration * (distance < 0 ? -1 : 1);\n\n  if (wheel && itemHeight) {\n    destination = scroll._findNearestValidWheel(destination).y;\n  }\n\n  if (destination < lowerMargin) {\n    destination = wrapperSize ? Math.max(lowerMargin - wrapperSize / 4, lowerMargin - wrapperSize / rate * speed) : lowerMargin;\n    duration = swipeBounceTime;\n  } else if (destination > upperMargin) {\n    destination = wrapperSize ? Math.min(upperMargin + wrapperSize / 4, upperMargin + wrapperSize / rate * speed) : upperMargin;\n    duration = swipeBounceTime;\n  }\n\n  return {\n    destination: Math.round(destination),\n    duration: duration\n  };\n}\n\nvar DEFAULT_INTERVAL = 100 / 60;\n\nfunction noop() {}\n\nvar requestAnimationFrame = function () {\n  if (!inBrowser) {\n    /* istanbul ignore if */\n    return noop;\n  }\n  return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame ||\n  // if all else fails, use setTimeout\n  function (callback) {\n    return window.setTimeout(callback, (callback.interval || DEFAULT_INTERVAL) / 2); // make interval as precise as possible.\n  };\n}();\n\nvar cancelAnimationFrame = function () {\n  if (!inBrowser) {\n    /* istanbul ignore if */\n    return noop;\n  }\n  return window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame || function (id) {\n    window.clearTimeout(id);\n  };\n}();\n\nvar DIRECTION_UP = 1;\nvar DIRECTION_DOWN = -1;\nvar DIRECTION_LEFT = 1;\nvar DIRECTION_RIGHT = -1;\n\nvar PROBE_DEBOUNCE = 1;\n\nvar PROBE_REALTIME = 3;\n\nfunction warn(msg) {\n  console.error('[BScroll warn]: ' + msg);\n}\n\nfunction assert(condition, msg) {\n  if (!condition) {\n    throw new Error('[BScroll] ' + msg);\n  }\n}\n\nfunction coreMixin(BScroll) {\n  BScroll.prototype._start = function (e) {\n    var _eventType = eventType[e.type];\n    if (_eventType !== TOUCH_EVENT) {\n      if (e.button !== 0) {\n        return;\n      }\n    }\n    if (!this.enabled || this.destroyed || this.initiated && this.initiated !== _eventType) {\n      return;\n    }\n    this.initiated = _eventType;\n\n    if (this.options.preventDefault && !preventDefaultException(e.target, this.options.preventDefaultException)) {\n      e.preventDefault();\n    }\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    this.moved = false;\n    this.distX = 0;\n    this.distY = 0;\n    this.directionX = 0;\n    this.directionY = 0;\n    this.movingDirectionX = 0;\n    this.movingDirectionY = 0;\n    this.directionLocked = 0;\n\n    this._transitionTime();\n    this.startTime = getNow();\n\n    if (this.options.wheel) {\n      this.target = e.target;\n    }\n\n    this.stop();\n\n    var point = e.touches ? e.touches[0] : e;\n\n    this.startX = this.x;\n    this.startY = this.y;\n    this.absStartX = this.x;\n    this.absStartY = this.y;\n    this.pointX = point.pageX;\n    this.pointY = point.pageY;\n\n    this.trigger('beforeScrollStart');\n  };\n\n  BScroll.prototype._move = function (e) {\n    if (!this.enabled || this.destroyed || eventType[e.type] !== this.initiated) {\n      return;\n    }\n\n    if (this.options.preventDefault) {\n      e.preventDefault();\n    }\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    var point = e.touches ? e.touches[0] : e;\n    var deltaX = point.pageX - this.pointX;\n    var deltaY = point.pageY - this.pointY;\n\n    this.pointX = point.pageX;\n    this.pointY = point.pageY;\n\n    this.distX += deltaX;\n    this.distY += deltaY;\n\n    var absDistX = Math.abs(this.distX);\n    var absDistY = Math.abs(this.distY);\n\n    var timestamp = getNow();\n\n    // We need to move at least momentumLimitDistance pixels for the scrolling to initiate\n    if (timestamp - this.endTime > this.options.momentumLimitTime && !this.moved && absDistY < this.options.momentumLimitDistance && absDistX < this.options.momentumLimitDistance) {\n      return;\n    }\n\n    // If you are scrolling in one direction lock the other\n    if (!this.directionLocked && !this.options.freeScroll) {\n      if (absDistX > absDistY + this.options.directionLockThreshold) {\n        this.directionLocked = 'h'; // lock horizontally\n      } else if (absDistY >= absDistX + this.options.directionLockThreshold) {\n        this.directionLocked = 'v'; // lock vertically\n      } else {\n        this.directionLocked = 'n'; // no lock\n      }\n    }\n\n    if (this.directionLocked === 'h') {\n      if (this.options.eventPassthrough === 'vertical') {\n        e.preventDefault();\n      } else if (this.options.eventPassthrough === 'horizontal') {\n        this.initiated = false;\n        return;\n      }\n      deltaY = 0;\n    } else if (this.directionLocked === 'v') {\n      if (this.options.eventPassthrough === 'horizontal') {\n        e.preventDefault();\n      } else if (this.options.eventPassthrough === 'vertical') {\n        this.initiated = false;\n        return;\n      }\n      deltaX = 0;\n    }\n\n    deltaX = this.hasHorizontalScroll ? deltaX : 0;\n    deltaY = this.hasVerticalScroll ? deltaY : 0;\n    this.movingDirectionX = deltaX > 0 ? DIRECTION_RIGHT : deltaX < 0 ? DIRECTION_LEFT : 0;\n    this.movingDirectionY = deltaY > 0 ? DIRECTION_DOWN : deltaY < 0 ? DIRECTION_UP : 0;\n\n    var newX = this.x + deltaX;\n    var newY = this.y + deltaY;\n\n    var top = false;\n    var bottom = false;\n    var left = false;\n    var right = false;\n    // Slow down or stop if outside of the boundaries\n    var bounce = this.options.bounce;\n    if (bounce !== false) {\n      top = bounce.top === undefined ? true : bounce.top;\n      bottom = bounce.bottom === undefined ? true : bounce.bottom;\n      left = bounce.left === undefined ? true : bounce.left;\n      right = bounce.right === undefined ? true : bounce.right;\n    }\n    if (newX > this.minScrollX || newX < this.maxScrollX) {\n      if (newX > this.minScrollX && left || newX < this.maxScrollX && right) {\n        newX = this.x + deltaX / 3;\n      } else {\n        newX = newX > this.minScrollX ? this.minScrollX : this.maxScrollX;\n      }\n    }\n    if (newY > this.minScrollY || newY < this.maxScrollY) {\n      if (newY > this.minScrollY && top || newY < this.maxScrollY && bottom) {\n        newY = this.y + deltaY / 3;\n      } else {\n        newY = newY > this.minScrollY ? this.minScrollY : this.maxScrollY;\n      }\n    }\n\n    if (!this.moved) {\n      this.moved = true;\n      this.trigger('scrollStart');\n    }\n\n    this._translate(newX, newY);\n\n    if (timestamp - this.startTime > this.options.momentumLimitTime) {\n      this.startTime = timestamp;\n      this.startX = this.x;\n      this.startY = this.y;\n\n      if (this.options.probeType === PROBE_DEBOUNCE) {\n        this.trigger('scroll', {\n          x: this.x,\n          y: this.y\n        });\n      }\n    }\n\n    if (this.options.probeType > PROBE_DEBOUNCE) {\n      this.trigger('scroll', {\n        x: this.x,\n        y: this.y\n      });\n    }\n\n    var scrollLeft = document.documentElement.scrollLeft || window.pageXOffset || document.body.scrollLeft;\n    var scrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;\n\n    var pX = this.pointX - scrollLeft;\n    var pY = this.pointY - scrollTop;\n\n    if (pX > document.documentElement.clientWidth - this.options.momentumLimitDistance || pX < this.options.momentumLimitDistance || pY < this.options.momentumLimitDistance || pY > document.documentElement.clientHeight - this.options.momentumLimitDistance) {\n      this._end(e);\n    }\n  };\n\n  BScroll.prototype._end = function (e) {\n    if (!this.enabled || this.destroyed || eventType[e.type] !== this.initiated) {\n      return;\n    }\n    this.initiated = false;\n\n    if (this.options.preventDefault && !preventDefaultException(e.target, this.options.preventDefaultException)) {\n      e.preventDefault();\n    }\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    this.trigger('touchEnd', {\n      x: this.x,\n      y: this.y\n    });\n\n    this.isInTransition = false;\n\n    // ensures that the last position is rounded\n    var newX = Math.round(this.x);\n    var newY = Math.round(this.y);\n\n    var deltaX = newX - this.absStartX;\n    var deltaY = newY - this.absStartY;\n    this.directionX = deltaX > 0 ? DIRECTION_RIGHT : deltaX < 0 ? DIRECTION_LEFT : 0;\n    this.directionY = deltaY > 0 ? DIRECTION_DOWN : deltaY < 0 ? DIRECTION_UP : 0;\n\n    // if configure pull down refresh, check it first\n    if (this.options.pullDownRefresh && this._checkPullDown()) {\n      return;\n    }\n\n    // check if it is a click operation\n    if (this._checkClick(e)) {\n      this.trigger('scrollCancel');\n      return;\n    }\n\n    // reset if we are outside of the boundaries\n    if (this.resetPosition(this.options.bounceTime, ease.bounce)) {\n      return;\n    }\n\n    this._translate(newX, newY);\n\n    this.endTime = getNow();\n    var duration = this.endTime - this.startTime;\n    var absDistX = Math.abs(newX - this.startX);\n    var absDistY = Math.abs(newY - this.startY);\n\n    // flick\n    if (this._events.flick && duration < this.options.flickLimitTime && absDistX < this.options.flickLimitDistance && absDistY < this.options.flickLimitDistance) {\n      this.trigger('flick');\n      return;\n    }\n\n    var time = 0;\n    // start momentum animation if needed\n    if (this.options.momentum && duration < this.options.momentumLimitTime && (absDistY > this.options.momentumLimitDistance || absDistX > this.options.momentumLimitDistance)) {\n      var top = false;\n      var bottom = false;\n      var left = false;\n      var right = false;\n      var bounce = this.options.bounce;\n      if (bounce !== false) {\n        top = bounce.top === undefined ? true : bounce.top;\n        bottom = bounce.bottom === undefined ? true : bounce.bottom;\n        left = bounce.left === undefined ? true : bounce.left;\n        right = bounce.right === undefined ? true : bounce.right;\n      }\n      var wrapperWidth = this.directionX === DIRECTION_RIGHT && left || this.directionX === DIRECTION_LEFT && right ? this.wrapperWidth : 0;\n      var wrapperHeight = this.directionY === DIRECTION_DOWN && top || this.directionY === DIRECTION_UP && bottom ? this.wrapperHeight : 0;\n      var momentumX = this.hasHorizontalScroll ? momentum(this.x, this.startX, duration, this.maxScrollX, this.minScrollX, wrapperWidth, this.options, this) : { destination: newX, duration: 0 };\n      var momentumY = this.hasVerticalScroll ? momentum(this.y, this.startY, duration, this.maxScrollY, this.minScrollY, wrapperHeight, this.options, this) : { destination: newY, duration: 0 };\n      newX = momentumX.destination;\n      newY = momentumY.destination;\n      time = Math.max(momentumX.duration, momentumY.duration);\n      this.isInTransition = true;\n    } else {\n      if (this.options.wheel) {\n        newY = this._findNearestValidWheel(newY).y;\n        time = this.options.wheel.adjustTime || 400;\n      }\n    }\n\n    var easing = ease.swipe;\n    if (this.options.snap) {\n      var snap = this._nearestSnap(newX, newY);\n      this.currentPage = snap;\n      time = this.options.snapSpeed || Math.max(Math.max(Math.min(Math.abs(newX - snap.x), 1000), Math.min(Math.abs(newY - snap.y), 1000)), 300);\n      newX = snap.x;\n      newY = snap.y;\n\n      this.directionX = 0;\n      this.directionY = 0;\n      easing = this.options.snap.easing || ease.bounce;\n    }\n\n    if (newX !== this.x || newY !== this.y) {\n      // change easing function when scroller goes out of the boundaries\n      if (newX > this.minScrollX || newX < this.maxScrollX || newY > this.minScrollY || newY < this.maxScrollY) {\n        easing = ease.swipeBounce;\n      }\n      this.scrollTo(newX, newY, time, easing);\n      return;\n    }\n\n    if (this.options.wheel) {\n      this.selectedIndex = this._findNearestValidWheel(this.y).index;\n    }\n\n    this.trigger('scrollEnd', {\n      x: this.x,\n      y: this.y\n    });\n  };\n\n  BScroll.prototype._checkClick = function (e) {\n    // when in the process of pulling down, it should not prevent click\n    var preventClick = this.stopFromTransition && !this.pulling;\n    this.stopFromTransition = false;\n\n    // we scrolled less than 15 pixels\n    if (!this.moved) {\n      if (this.options.wheel) {\n        if (this.target && this.target.className === this.options.wheel.wheelWrapperClass) {\n          var index = this._findNearestValidWheel(this.y).index;\n          var _offset = Math.round((this.pointY + offsetToBody(this.wrapper).top - this.wrapperHeight / 2) / this.itemHeight);\n          this.target = this.items[index + _offset];\n        }\n        var top = offset(this.target).top;\n        var left = offset(this.target).left;\n        top -= this.wrapperOffset.top;\n        top -= Math.round(this.target.offsetHeight / 2 - this.wrapper.offsetHeight / 2) || 0;\n        left -= this.wrapperOffset.left;\n        left -= Math.round(this.target.offsetWidth / 2 - this.wrapper.offsetWidth / 2) || 0;\n\n        top = this._findNearestValidWheel(top).y;\n        this.scrollTo(left, top, this.options.wheel.adjustTime || 400, ease.swipe);\n        return true;\n      } else {\n        if (!preventClick) {\n          var _dblclick = this.options.dblclick;\n          var dblclickTrigged = false;\n          if (_dblclick && this.lastClickTime) {\n            var _dblclick$delay = _dblclick.delay,\n                delay = _dblclick$delay === undefined ? 300 : _dblclick$delay;\n\n            if (getNow() - this.lastClickTime < delay) {\n              dblclickTrigged = true;\n              dblclick(e);\n            }\n          }\n          if (this.options.tap) {\n            tap(e, this.options.tap);\n          }\n\n          if (this.options.click && !preventDefaultException(e.target, this.options.preventDefaultException)) {\n            click(e);\n          }\n          this.lastClickTime = dblclickTrigged ? null : getNow();\n          return true;\n        }\n        return false;\n      }\n    }\n    return false;\n  };\n\n  BScroll.prototype._resize = function () {\n    var _this = this;\n\n    if (!this.enabled) {\n      return;\n    }\n    // fix a scroll problem under Android condition\n    if (isAndroid) {\n      this.wrapper.scrollTop = 0;\n    }\n    clearTimeout(this.resizeTimeout);\n    this.resizeTimeout = setTimeout(function () {\n      _this.refresh();\n    }, this.options.resizePolling);\n  };\n\n  BScroll.prototype._startProbe = function () {\n    cancelAnimationFrame(this.probeTimer);\n    this.probeTimer = requestAnimationFrame(probe);\n\n    var me = this;\n\n    function probe() {\n      var pos = me.getComputedPosition();\n      me.trigger('scroll', pos);\n      if (!me.isInTransition) {\n        me.trigger('scrollEnd', pos);\n        return;\n      }\n      me.probeTimer = requestAnimationFrame(probe);\n    }\n  };\n\n  BScroll.prototype._transitionTime = function () {\n    var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n    this.scrollerStyle[style.transitionDuration] = time + 'ms';\n\n    if (this.options.wheel) {\n      for (var i = 0; i < this.items.length; i++) {\n        this.items[i].style[style.transitionDuration] = time + 'ms';\n      }\n    }\n\n    if (this.indicators) {\n      for (var _i = 0; _i < this.indicators.length; _i++) {\n        this.indicators[_i].transitionTime(time);\n      }\n    }\n  };\n\n  BScroll.prototype._transitionTimingFunction = function (easing) {\n    this.scrollerStyle[style.transitionTimingFunction] = easing;\n\n    if (this.options.wheel) {\n      for (var i = 0; i < this.items.length; i++) {\n        this.items[i].style[style.transitionTimingFunction] = easing;\n      }\n    }\n\n    if (this.indicators) {\n      for (var _i2 = 0; _i2 < this.indicators.length; _i2++) {\n        this.indicators[_i2].transitionTimingFunction(easing);\n      }\n    }\n  };\n\n  BScroll.prototype._transitionEnd = function (e) {\n    if (e.target !== this.scroller || !this.isInTransition) {\n      return;\n    }\n\n    this._transitionTime();\n    var needReset = !this.pulling || this.movingDirectionY === DIRECTION_UP;\n    if (needReset && !this.resetPosition(this.options.bounceTime, ease.bounce)) {\n      this.isInTransition = false;\n      if (this.options.probeType !== PROBE_REALTIME) {\n        this.trigger('scrollEnd', {\n          x: this.x,\n          y: this.y\n        });\n      }\n    }\n  };\n\n  BScroll.prototype._translate = function (x, y, scale) {\n    assert(!isUndef(x) && !isUndef(y), 'Translate x or y is null or undefined.');\n    if (isUndef(scale)) {\n      scale = this.scale;\n    }\n    if (this.options.useTransform) {\n      this.scrollerStyle[style.transform] = 'translate(' + x + 'px,' + y + 'px) scale(' + scale + ')' + this.translateZ;\n    } else {\n      x = Math.round(x);\n      y = Math.round(y);\n      this.scrollerStyle.left = x + 'px';\n      this.scrollerStyle.top = y + 'px';\n    }\n\n    if (this.options.wheel) {\n      var _options$wheel$rotate = this.options.wheel.rotate,\n          rotate = _options$wheel$rotate === undefined ? 25 : _options$wheel$rotate;\n\n      for (var i = 0; i < this.items.length; i++) {\n        var deg = rotate * (y / this.itemHeight + i);\n        this.items[i].style[style.transform] = 'rotateX(' + deg + 'deg)';\n      }\n    }\n\n    this.x = x;\n    this.y = y;\n    this.setScale(scale);\n\n    if (this.indicators) {\n      for (var _i3 = 0; _i3 < this.indicators.length; _i3++) {\n        this.indicators[_i3].updatePosition();\n      }\n    }\n  };\n\n  BScroll.prototype._animate = function (destX, destY, duration, easingFn) {\n    var me = this;\n    var startX = this.x;\n    var startY = this.y;\n    var startScale = this.lastScale;\n    var destScale = this.scale;\n    var startTime = getNow();\n    var destTime = startTime + duration;\n\n    function step() {\n      var now = getNow();\n\n      if (now >= destTime) {\n        me.isAnimating = false;\n        me._translate(destX, destY, destScale);\n\n        me.trigger('scroll', {\n          x: me.x,\n          y: me.y\n        });\n\n        if (!me.pulling && !me.resetPosition(me.options.bounceTime)) {\n          me.trigger('scrollEnd', {\n            x: me.x,\n            y: me.y\n          });\n        }\n        return;\n      }\n      now = (now - startTime) / duration;\n      var easing = easingFn(now);\n      var newX = (destX - startX) * easing + startX;\n      var newY = (destY - startY) * easing + startY;\n      var newScale = (destScale - startScale) * easing + startScale;\n\n      me._translate(newX, newY, newScale);\n\n      if (me.isAnimating) {\n        me.animateTimer = requestAnimationFrame(step);\n      }\n\n      if (me.options.probeType === PROBE_REALTIME) {\n        me.trigger('scroll', {\n          x: me.x,\n          y: me.y\n        });\n      }\n    }\n\n    this.isAnimating = true;\n    cancelAnimationFrame(this.animateTimer);\n    step();\n  };\n\n  BScroll.prototype.scrollBy = function (x, y) {\n    var time = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var easing = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : ease.bounce;\n\n    x = this.x + x;\n    y = this.y + y;\n\n    this.scrollTo(x, y, time, easing);\n  };\n\n  BScroll.prototype.scrollTo = function (x, y) {\n    var time = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    var easing = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : ease.bounce;\n    var isSilent = arguments[4];\n\n    if (this.options.wheel) {\n      y = this._findNearestValidWheel(y).y;\n    }\n    if (x === this.x && y === this.y) {\n      return;\n    }\n    this.isInTransition = this.options.useTransition && time > 0 && (this.x !== x || this.y !== y);\n\n    if (!time || this.options.useTransition) {\n      this._transitionTimingFunction(easing.style);\n      this._transitionTime(time);\n      this._translate(x, y);\n\n      if (time && this.options.probeType === PROBE_REALTIME) {\n        this._startProbe();\n      }\n      if (!time && !isSilent) {\n        // don't trigger resetPosition when zoom feature is open, fix #748\n        if (this.options.zoom) return;\n        this.trigger('scroll', {\n          x: x,\n          y: y\n        });\n        // force reflow to put everything in position\n        this._reflow = document.body.offsetHeight;\n        if (!this.resetPosition(this.options.bounceTime, ease.bounce)) {\n          this.trigger('scrollEnd', {\n            x: x,\n            y: y\n          });\n        }\n      }\n\n      if (this.options.wheel) {\n        this.selectedIndex = this._findNearestValidWheel(y).index;\n      }\n    } else {\n      this._animate(x, y, time, easing.fn);\n    }\n  };\n\n  BScroll.prototype.scrollToElement = function (el, time, offsetX, offsetY, easing) {\n    if (!el) {\n      return;\n    }\n    el = el.nodeType ? el : this.scroller.querySelector(el);\n\n    if (this.options.wheel && !el.classList.contains(this.options.wheel.wheelItemClass)) {\n      return;\n    }\n\n    var pos = offset(el);\n    pos.left -= this.wrapperOffset.left;\n    pos.top -= this.wrapperOffset.top;\n\n    // if offsetX/Y are true we center the element to the screen\n    if (offsetX === true) {\n      offsetX = Math.round(el.offsetWidth / 2 - this.wrapper.offsetWidth / 2);\n    }\n    if (offsetY === true) {\n      offsetY = Math.round(el.offsetHeight / 2 - this.wrapper.offsetHeight / 2);\n    }\n\n    pos.left -= offsetX || 0;\n    pos.top -= offsetY || 0;\n    pos.left = pos.left > this.minScrollX ? this.minScrollX : pos.left < this.maxScrollX ? this.maxScrollX : pos.left;\n    pos.top = pos.top > this.minScrollY ? this.minScrollY : pos.top < this.maxScrollY ? this.maxScrollY : pos.top;\n\n    if (this.options.wheel) {\n      pos.top = this._findNearestValidWheel(pos.top).y;\n    }\n\n    this.scrollTo(pos.left, pos.top, time, easing);\n  };\n\n  BScroll.prototype.resetPosition = function () {\n    var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var easeing = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ease.bounce;\n\n    var x = this.x;\n    var roundX = Math.round(x);\n    if (!this.hasHorizontalScroll || roundX > this.minScrollX) {\n      x = this.minScrollX;\n    } else if (roundX < this.maxScrollX) {\n      x = this.maxScrollX;\n    }\n\n    var y = this.y;\n    var roundY = Math.round(y);\n    if (!this.hasVerticalScroll || roundY > this.minScrollY) {\n      y = this.minScrollY;\n    } else if (roundY < this.maxScrollY) {\n      y = this.maxScrollY;\n    }\n\n    if (x === this.x && y === this.y) {\n      return false;\n    }\n\n    this.scrollTo(x, y, time, easeing);\n\n    return true;\n  };\n\n  BScroll.prototype.getComputedPosition = function () {\n    var matrix = window.getComputedStyle(this.scroller, null);\n    var x = void 0;\n    var y = void 0;\n\n    if (this.options.useTransform) {\n      matrix = matrix[style.transform].split(')')[0].split(', ');\n      x = +(matrix[12] || matrix[4]);\n      y = +(matrix[13] || matrix[5]);\n    } else {\n      x = +matrix.left.replace(/[^-\\d.]/g, '');\n      y = +matrix.top.replace(/[^-\\d.]/g, '');\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  BScroll.prototype.stop = function () {\n    if (this.options.useTransition && this.isInTransition) {\n      this.isInTransition = false;\n      cancelAnimationFrame(this.probeTimer);\n      var pos = this.getComputedPosition();\n      this._translate(pos.x, pos.y);\n      if (this.options.wheel) {\n        this.target = this.items[this._findNearestValidWheel(pos.y).index];\n      } else {\n        this.trigger('scrollEnd', {\n          x: this.x,\n          y: this.y\n        });\n      }\n      this.stopFromTransition = true;\n    } else if (!this.options.useTransition && this.isAnimating) {\n      this.isAnimating = false;\n      cancelAnimationFrame(this.animateTimer);\n      this.trigger('scrollEnd', {\n        x: this.x,\n        y: this.y\n      });\n      this.stopFromTransition = true;\n    }\n  };\n\n  BScroll.prototype.destroy = function () {\n    this.destroyed = true;\n    this.trigger('destroy');\n    if (this.options.useTransition) {\n      cancelAnimationFrame(this.probeTimer);\n    } else {\n      cancelAnimationFrame(this.animateTimer);\n    }\n    this._removeDOMEvents();\n    // remove custom events\n    this._events = {};\n  };\n}\n\nfunction snapMixin(BScroll) {\n  BScroll.prototype._initSnap = function () {\n    var _this = this;\n\n    this.currentPage = {};\n    var snap = this.options.snap;\n\n    if (snap.loop) {\n      var children = this.scroller.children;\n      if (children.length > 1) {\n        prepend(children[children.length - 1].cloneNode(true), this.scroller);\n        this.scroller.appendChild(children[1].cloneNode(true));\n      } else {\n        // Loop does not make any sense if there is only one child.\n        snap.loop = false;\n      }\n    }\n\n    var el = snap.el;\n    if (typeof el === 'string') {\n      el = this.scroller.querySelectorAll(el);\n    }\n\n    this.on('refresh', function () {\n      _this.pages = [];\n\n      if (!_this.wrapperWidth || !_this.wrapperHeight || !_this.scrollerWidth || !_this.scrollerHeight) {\n        return;\n      }\n\n      var stepX = snap.stepX || _this.wrapperWidth;\n      var stepY = snap.stepY || _this.wrapperHeight;\n\n      var x = 0;\n      var y = void 0;\n      var cx = void 0;\n      var cy = void 0;\n      var i = 0;\n      var l = void 0;\n      var m = 0;\n      var n = void 0;\n      var rect = void 0;\n      if (!el) {\n        cx = Math.round(stepX / 2);\n        cy = Math.round(stepY / 2);\n\n        while (x > -_this.scrollerWidth) {\n          _this.pages[i] = [];\n          l = 0;\n          y = 0;\n\n          while (y > -_this.scrollerHeight) {\n            _this.pages[i][l] = {\n              x: Math.max(x, _this.maxScrollX),\n              y: Math.max(y, _this.maxScrollY),\n              width: stepX,\n              height: stepY,\n              cx: x - cx,\n              cy: y - cy\n            };\n\n            y -= stepY;\n            l++;\n          }\n\n          x -= stepX;\n          i++;\n        }\n      } else {\n        l = el.length;\n        n = -1;\n\n        for (; i < l; i++) {\n          rect = getRect(el[i]);\n          if (i === 0 || rect.left <= getRect(el[i - 1]).left) {\n            m = 0;\n            n++;\n          }\n\n          if (!_this.pages[m]) {\n            _this.pages[m] = [];\n          }\n\n          x = Math.max(-rect.left, _this.maxScrollX);\n          y = Math.max(-rect.top, _this.maxScrollY);\n          cx = x - Math.round(rect.width / 2);\n          cy = y - Math.round(rect.height / 2);\n\n          _this.pages[m][n] = {\n            x: x,\n            y: y,\n            width: rect.width,\n            height: rect.height,\n            cx: cx,\n            cy: cy\n          };\n\n          if (x > _this.maxScrollX) {\n            m++;\n          }\n        }\n      }\n\n      _this._checkSnapLoop();\n\n      var initPageX = snap._loopX ? 1 : 0;\n      var initPageY = snap._loopY ? 1 : 0;\n      _this._goToPage(_this.currentPage.pageX || initPageX, _this.currentPage.pageY || initPageY, 0, undefined, true);\n\n      // Update snap threshold if needed.\n      var snapThreshold = snap.threshold;\n      if (snapThreshold % 1 === 0) {\n        _this.snapThresholdX = snapThreshold;\n        _this.snapThresholdY = snapThreshold;\n      } else {\n        _this.snapThresholdX = Math.round(_this.pages[_this.currentPage.pageX][_this.currentPage.pageY].width * snapThreshold);\n        _this.snapThresholdY = Math.round(_this.pages[_this.currentPage.pageX][_this.currentPage.pageY].height * snapThreshold);\n      }\n    });\n\n    this.on('scrollEnd', function () {\n      if (snap.loop) {\n        if (snap._loopX) {\n          if (_this.currentPage.pageX === 0) {\n            _this._goToPage(_this.pages.length - 2, _this.currentPage.pageY, 0, undefined, true);\n          }\n          if (_this.currentPage.pageX === _this.pages.length - 1) {\n            _this._goToPage(1, _this.currentPage.pageY, 0, undefined, true);\n          }\n        } else {\n          if (_this.currentPage.pageY === 0) {\n            _this._goToPage(_this.currentPage.pageX, _this.pages[0].length - 2, 0, undefined, true);\n          }\n          if (_this.currentPage.pageY === _this.pages[0].length - 1) {\n            _this._goToPage(_this.currentPage.pageX, 1, 0, undefined, true);\n          }\n        }\n      }\n    });\n\n    if (snap.listenFlick !== false) {\n      this.on('flick', function () {\n        var time = snap.speed || Math.max(Math.max(Math.min(Math.abs(_this.x - _this.startX), 1000), Math.min(Math.abs(_this.y - _this.startY), 1000)), 300);\n\n        _this._goToPage(_this.currentPage.pageX + _this.directionX, _this.currentPage.pageY + _this.directionY, time);\n      });\n    }\n\n    this.on('destroy', function () {\n      if (snap.loop) {\n        var _children = _this.scroller.children;\n        if (_children.length > 2) {\n          removeChild(_this.scroller, _children[_children.length - 1]);\n          removeChild(_this.scroller, _children[0]);\n        }\n      }\n    });\n  };\n\n  BScroll.prototype._checkSnapLoop = function () {\n    var snap = this.options.snap;\n\n    if (!snap.loop || !this.pages || !this.pages.length) {\n      return;\n    }\n\n    if (this.pages.length > 1) {\n      snap._loopX = true;\n    }\n    if (this.pages[0] && this.pages[0].length > 1) {\n      snap._loopY = true;\n    }\n    if (snap._loopX && snap._loopY) {\n      warn('Loop does not support two direction at the same time.');\n    }\n  };\n\n  BScroll.prototype._nearestSnap = function (x, y) {\n    if (!this.pages.length) {\n      return { x: 0, y: 0, pageX: 0, pageY: 0 };\n    }\n\n    var i = 0;\n    // Check if we exceeded the snap threshold\n    if (Math.abs(x - this.absStartX) <= this.snapThresholdX && Math.abs(y - this.absStartY) <= this.snapThresholdY) {\n      return this.currentPage;\n    }\n\n    if (x > this.minScrollX) {\n      x = this.minScrollX;\n    } else if (x < this.maxScrollX) {\n      x = this.maxScrollX;\n    }\n\n    if (y > this.minScrollY) {\n      y = this.minScrollY;\n    } else if (y < this.maxScrollY) {\n      y = this.maxScrollY;\n    }\n\n    var l = this.pages.length;\n    for (; i < l; i++) {\n      if (x >= this.pages[i][0].cx) {\n        x = this.pages[i][0].x;\n        break;\n      }\n    }\n\n    l = this.pages[i].length;\n\n    var m = 0;\n    for (; m < l; m++) {\n      if (y >= this.pages[0][m].cy) {\n        y = this.pages[0][m].y;\n        break;\n      }\n    }\n\n    if (i === this.currentPage.pageX) {\n      i += this.directionX;\n\n      if (i < 0) {\n        i = 0;\n      } else if (i >= this.pages.length) {\n        i = this.pages.length - 1;\n      }\n\n      x = this.pages[i][0].x;\n    }\n\n    if (m === this.currentPage.pageY) {\n      m += this.directionY;\n\n      if (m < 0) {\n        m = 0;\n      } else if (m >= this.pages[0].length) {\n        m = this.pages[0].length - 1;\n      }\n\n      y = this.pages[0][m].y;\n    }\n\n    return {\n      x: x,\n      y: y,\n      pageX: i,\n      pageY: m\n    };\n  };\n\n  BScroll.prototype._goToPage = function (x) {\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var time = arguments[2];\n    var easing = arguments[3];\n    var isSilent = arguments[4];\n\n    var snap = this.options.snap;\n\n    if (!snap || !this.pages || !this.pages.length) {\n      return;\n    }\n\n    easing = easing || snap.easing || ease.bounce;\n\n    if (x >= this.pages.length) {\n      x = this.pages.length - 1;\n    } else if (x < 0) {\n      x = 0;\n    }\n\n    if (!this.pages[x]) {\n      return;\n    }\n\n    if (y >= this.pages[x].length) {\n      y = this.pages[x].length - 1;\n    } else if (y < 0) {\n      y = 0;\n    }\n\n    var posX = this.pages[x][y].x;\n    var posY = this.pages[x][y].y;\n\n    time = time === undefined ? snap.speed || Math.max(Math.max(Math.min(Math.abs(posX - this.x), 1000), Math.min(Math.abs(posY - this.y), 1000)), 300) : time;\n\n    this.currentPage = {\n      x: posX,\n      y: posY,\n      pageX: x,\n      pageY: y\n    };\n    this.scrollTo(posX, posY, time, easing, isSilent);\n  };\n\n  BScroll.prototype.goToPage = function (x, y, time, easing) {\n    var snap = this.options.snap;\n    if (!snap || !this.pages || !this.pages.length) {\n      return;\n    }\n\n    if (snap.loop) {\n      var len = void 0;\n      if (snap._loopX) {\n        len = this.pages.length - 2;\n        if (x >= len) {\n          x = len - 1;\n        } else if (x < 0) {\n          x = 0;\n        }\n        x += 1;\n      } else {\n        len = this.pages[0].length - 2;\n        if (y >= len) {\n          y = len - 1;\n        } else if (y < 0) {\n          y = 0;\n        }\n        y += 1;\n      }\n    }\n    this._goToPage(x, y, time, easing);\n  };\n\n  BScroll.prototype.next = function (time, easing) {\n    var snap = this.options.snap;\n    if (!snap) {\n      return;\n    }\n\n    var x = this.currentPage.pageX;\n    var y = this.currentPage.pageY;\n\n    x++;\n    if (x >= this.pages.length && this.hasVerticalScroll) {\n      x = 0;\n      y++;\n    }\n\n    this._goToPage(x, y, time, easing);\n  };\n\n  BScroll.prototype.prev = function (time, easing) {\n    var snap = this.options.snap;\n    if (!snap) {\n      return;\n    }\n\n    var x = this.currentPage.pageX;\n    var y = this.currentPage.pageY;\n\n    x--;\n    if (x < 0 && this.hasVerticalScroll) {\n      x = 0;\n      y--;\n    }\n\n    this._goToPage(x, y, time, easing);\n  };\n\n  BScroll.prototype.getCurrentPage = function () {\n    var snap = this.options.snap;\n    if (!snap) {\n      return null;\n    }\n\n    if (snap.loop) {\n      var currentPage = void 0;\n      if (snap._loopX) {\n        currentPage = extend({}, this.currentPage, {\n          pageX: this.currentPage.pageX - 1\n        });\n      } else {\n        currentPage = extend({}, this.currentPage, {\n          pageY: this.currentPage.pageY - 1\n        });\n      }\n      return currentPage;\n    }\n    return this.currentPage;\n  };\n}\n\nfunction wheelMixin(BScroll) {\n  BScroll.prototype.wheelTo = function () {\n    var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n    if (this.options.wheel) {\n      var y = -index * this.itemHeight;\n      this.scrollTo(0, y);\n    }\n  };\n\n  BScroll.prototype.getSelectedIndex = function () {\n    return this.options.wheel && this.selectedIndex;\n  };\n\n  BScroll.prototype._initWheel = function () {\n    var wheel = this.options.wheel;\n    if (!wheel.wheelWrapperClass) {\n      wheel.wheelWrapperClass = 'wheel-scroll';\n    }\n    if (!wheel.wheelItemClass) {\n      wheel.wheelItemClass = 'wheel-item';\n    }\n    if (!wheel.wheelDisabledItemClass) {\n      wheel.wheelDisabledItemClass = 'wheel-disabled-item';\n    }\n    if (wheel.selectedIndex === undefined) {\n      wheel.selectedIndex = 0;\n    }\n  };\n\n  BScroll.prototype._findNearestValidWheel = function (y) {\n    y = y > 0 ? 0 : y < this.maxScrollY ? this.maxScrollY : y;\n    var wheel = this.options.wheel;\n    var currentIndex = Math.abs(Math.round(-y / this.itemHeight));\n    var cacheIndex = currentIndex;\n    var items = this.items;\n    // Impersonation web native select\n    // first, check whether there is a enable item whose index is smaller than currentIndex\n    // then, check whether there is a enable item whose index is bigger than currentIndex\n    // otherwise, there are all disabled items, just keep currentIndex unchange\n    while (currentIndex >= 0) {\n      if (items[currentIndex].className.indexOf(wheel.wheelDisabledItemClass) === -1) {\n        break;\n      }\n      currentIndex--;\n    }\n\n    if (currentIndex < 0) {\n      currentIndex = cacheIndex;\n      while (currentIndex <= items.length - 1) {\n        if (items[currentIndex].className.indexOf(wheel.wheelDisabledItemClass) === -1) {\n          break;\n        }\n        currentIndex++;\n      }\n    }\n\n    // keep it unchange when all the items are disabled\n    if (currentIndex === items.length) {\n      currentIndex = cacheIndex;\n    }\n    // when all the items are disabled, this.selectedIndex should always be -1\n    return {\n      index: this.wheelItemsAllDisabled ? -1 : currentIndex,\n      y: -currentIndex * this.itemHeight\n    };\n  };\n\n  BScroll.prototype._checkWheelAllDisabled = function () {\n    var wheel = this.options.wheel;\n    var items = this.items;\n    this.wheelItemsAllDisabled = true;\n    for (var i = 0; i < items.length; i++) {\n      if (items[i].className.indexOf(wheel.wheelDisabledItemClass) === -1) {\n        this.wheelItemsAllDisabled = false;\n        break;\n      }\n    }\n  };\n}\n\nvar INDICATOR_MIN_LEN = 8;\n\nfunction scrollbarMixin(BScroll) {\n  BScroll.prototype._initScrollbar = function () {\n    var _this = this;\n\n    var _options$scrollbar = this.options.scrollbar,\n        _options$scrollbar$fa = _options$scrollbar.fade,\n        fade = _options$scrollbar$fa === undefined ? true : _options$scrollbar$fa,\n        _options$scrollbar$in = _options$scrollbar.interactive,\n        interactive = _options$scrollbar$in === undefined ? false : _options$scrollbar$in;\n\n    this.indicators = [];\n    var indicator = void 0;\n\n    if (this.options.scrollX) {\n      indicator = {\n        el: createScrollbar('horizontal'),\n        direction: 'horizontal',\n        fade: fade,\n        interactive: interactive\n      };\n      this._insertScrollBar(indicator.el);\n\n      this.indicators.push(new Indicator(this, indicator));\n    }\n\n    if (this.options.scrollY) {\n      indicator = {\n        el: createScrollbar('vertical'),\n        direction: 'vertical',\n        fade: fade,\n        interactive: interactive\n      };\n      this._insertScrollBar(indicator.el);\n      this.indicators.push(new Indicator(this, indicator));\n    }\n\n    this.on('refresh', function () {\n      for (var i = 0; i < _this.indicators.length; i++) {\n        _this.indicators[i].refresh();\n      }\n    });\n\n    if (fade) {\n      this.on('scrollEnd', function () {\n        for (var i = 0; i < _this.indicators.length; i++) {\n          _this.indicators[i].fade();\n        }\n      });\n\n      this.on('scrollCancel', function () {\n        for (var i = 0; i < _this.indicators.length; i++) {\n          _this.indicators[i].fade();\n        }\n      });\n\n      this.on('scrollStart', function () {\n        for (var i = 0; i < _this.indicators.length; i++) {\n          _this.indicators[i].fade(true);\n        }\n      });\n\n      this.on('beforeScrollStart', function () {\n        for (var i = 0; i < _this.indicators.length; i++) {\n          _this.indicators[i].fade(true, true);\n        }\n      });\n    }\n\n    this.on('destroy', function () {\n      _this._removeScrollBars();\n    });\n  };\n\n  BScroll.prototype._insertScrollBar = function (scrollbar) {\n    this.wrapper.appendChild(scrollbar);\n  };\n\n  BScroll.prototype._removeScrollBars = function () {\n    for (var i = 0; i < this.indicators.length; i++) {\n      this.indicators[i].destroy();\n    }\n  };\n}\n\nfunction createScrollbar(direction) {\n  var scrollbar = document.createElement('div');\n  var indicator = document.createElement('div');\n\n  scrollbar.style.cssText = 'position:absolute;z-index:9999;pointerEvents:none';\n  indicator.style.cssText = 'box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px;';\n\n  indicator.className = 'bscroll-indicator';\n\n  if (direction === 'horizontal') {\n    scrollbar.style.cssText += ';height:7px;left:2px;right:2px;bottom:0';\n    indicator.style.height = '100%';\n    scrollbar.className = 'bscroll-horizontal-scrollbar';\n  } else {\n    scrollbar.style.cssText += ';width:7px;bottom:2px;top:2px;right:1px';\n    indicator.style.width = '100%';\n    scrollbar.className = 'bscroll-vertical-scrollbar';\n  }\n\n  scrollbar.style.cssText += ';overflow:hidden';\n  scrollbar.appendChild(indicator);\n\n  return scrollbar;\n}\n\nfunction Indicator(scroller, options) {\n  this.wrapper = options.el;\n  this.wrapperStyle = this.wrapper.style;\n  this.indicator = this.wrapper.children[0];\n  this.indicatorStyle = this.indicator.style;\n  this.scroller = scroller;\n  this.direction = options.direction;\n  if (options.fade) {\n    this.visible = 0;\n    this.wrapperStyle.opacity = '0';\n  } else {\n    this.visible = 1;\n  }\n\n  this.sizeRatioX = 1;\n  this.sizeRatioY = 1;\n  this.maxPosX = 0;\n  this.maxPosY = 0;\n  this.x = 0;\n  this.y = 0;\n\n  if (options.interactive) {\n    this._addDOMEvents();\n  }\n}\n\nIndicator.prototype.handleEvent = function (e) {\n  switch (e.type) {\n    case 'touchstart':\n    case 'mousedown':\n      this._start(e);\n      break;\n    case 'touchmove':\n    case 'mousemove':\n      this._move(e);\n      break;\n    case 'touchend':\n    case 'mouseup':\n    case 'touchcancel':\n    case 'mousecancel':\n      this._end(e);\n      break;\n  }\n};\n\nIndicator.prototype.refresh = function () {\n  if (this._shouldShow()) {\n    this.transitionTime();\n    this._calculate();\n    this.updatePosition();\n  }\n};\n\nIndicator.prototype.fade = function (visible, hold) {\n  var _this2 = this;\n\n  if (hold && !this.visible) {\n    return;\n  }\n\n  var time = visible ? 250 : 500;\n\n  visible = visible ? '1' : '0';\n\n  this.wrapperStyle[style.transitionDuration] = time + 'ms';\n\n  clearTimeout(this.fadeTimeout);\n  this.fadeTimeout = setTimeout(function () {\n    _this2.wrapperStyle.opacity = visible;\n    _this2.visible = +visible;\n  }, 0);\n};\n\nIndicator.prototype.updatePosition = function () {\n  if (this.direction === 'vertical') {\n    var y = Math.round(this.sizeRatioY * this.scroller.y);\n\n    if (y < 0) {\n      this.transitionTime(500);\n      var height = Math.max(this.indicatorHeight + y * 3, INDICATOR_MIN_LEN);\n      this.indicatorStyle.height = height + 'px';\n      y = 0;\n    } else if (y > this.maxPosY) {\n      this.transitionTime(500);\n      var _height = Math.max(this.indicatorHeight - (y - this.maxPosY) * 3, INDICATOR_MIN_LEN);\n      this.indicatorStyle.height = _height + 'px';\n      y = this.maxPosY + this.indicatorHeight - _height;\n    } else {\n      this.indicatorStyle.height = this.indicatorHeight + 'px';\n    }\n    this.y = y;\n\n    if (this.scroller.options.useTransform) {\n      this.indicatorStyle[style.transform] = 'translateY(' + y + 'px)' + this.scroller.translateZ;\n    } else {\n      this.indicatorStyle.top = y + 'px';\n    }\n  } else {\n    var x = Math.round(this.sizeRatioX * this.scroller.x);\n\n    if (x < 0) {\n      this.transitionTime(500);\n      var width = Math.max(this.indicatorWidth + x * 3, INDICATOR_MIN_LEN);\n      this.indicatorStyle.width = width + 'px';\n      x = 0;\n    } else if (x > this.maxPosX) {\n      this.transitionTime(500);\n      var _width = Math.max(this.indicatorWidth - (x - this.maxPosX) * 3, INDICATOR_MIN_LEN);\n      this.indicatorStyle.width = _width + 'px';\n      x = this.maxPosX + this.indicatorWidth - _width;\n    } else {\n      this.indicatorStyle.width = this.indicatorWidth + 'px';\n    }\n\n    this.x = x;\n\n    if (this.scroller.options.useTransform) {\n      this.indicatorStyle[style.transform] = 'translateX(' + x + 'px)' + this.scroller.translateZ;\n    } else {\n      this.indicatorStyle.left = x + 'px';\n    }\n  }\n};\n\nIndicator.prototype.transitionTime = function () {\n  var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n  this.indicatorStyle[style.transitionDuration] = time + 'ms';\n};\n\nIndicator.prototype.transitionTimingFunction = function (easing) {\n  this.indicatorStyle[style.transitionTimingFunction] = easing;\n};\n\nIndicator.prototype.destroy = function () {\n  this._removeDOMEvents();\n  this.wrapper.parentNode.removeChild(this.wrapper);\n};\n\nIndicator.prototype._start = function (e) {\n  var point = e.touches ? e.touches[0] : e;\n\n  e.preventDefault();\n  e.stopPropagation();\n\n  this.transitionTime();\n\n  this.initiated = true;\n  this.moved = false;\n  this.lastPointX = point.pageX;\n  this.lastPointY = point.pageY;\n\n  this.startTime = getNow();\n\n  this._handleMoveEvents(addEvent);\n  this.scroller.trigger('beforeScrollStart');\n};\n\nIndicator.prototype._move = function (e) {\n  var point = e.touches ? e.touches[0] : e;\n\n  e.preventDefault();\n  e.stopPropagation();\n\n  if (!this.moved) {\n    this.scroller.trigger('scrollStart');\n  }\n\n  this.moved = true;\n\n  var deltaX = point.pageX - this.lastPointX;\n  this.lastPointX = point.pageX;\n\n  var deltaY = point.pageY - this.lastPointY;\n  this.lastPointY = point.pageY;\n\n  var newX = this.x + deltaX;\n  var newY = this.y + deltaY;\n\n  this._pos(newX, newY);\n};\n\nIndicator.prototype._end = function (e) {\n  if (!this.initiated) {\n    return;\n  }\n  this.initiated = false;\n\n  e.preventDefault();\n  e.stopPropagation();\n\n  this._handleMoveEvents(removeEvent);\n\n  var snapOption = this.scroller.options.snap;\n  if (snapOption) {\n    var speed = snapOption.speed,\n        _snapOption$easing = snapOption.easing,\n        easing = _snapOption$easing === undefined ? ease.bounce : _snapOption$easing;\n\n    var snap = this.scroller._nearestSnap(this.scroller.x, this.scroller.y);\n\n    var time = speed || Math.max(Math.max(Math.min(Math.abs(this.scroller.x - snap.x), 1000), Math.min(Math.abs(this.scroller.y - snap.y), 1000)), 300);\n\n    if (this.scroller.x !== snap.x || this.scroller.y !== snap.y) {\n      this.scroller.directionX = 0;\n      this.scroller.directionY = 0;\n      this.scroller.currentPage = snap;\n      this.scroller.scrollTo(snap.x, snap.y, time, easing);\n    }\n  }\n\n  if (this.moved) {\n    this.scroller.trigger('scrollEnd', {\n      x: this.scroller.x,\n      y: this.scroller.y\n    });\n  }\n};\n\nIndicator.prototype._pos = function (x, y) {\n  if (x < 0) {\n    x = 0;\n  } else if (x > this.maxPosX) {\n    x = this.maxPosX;\n  }\n\n  if (y < 0) {\n    y = 0;\n  } else if (y > this.maxPosY) {\n    y = this.maxPosY;\n  }\n\n  x = Math.round(x / this.sizeRatioX);\n  y = Math.round(y / this.sizeRatioY);\n\n  this.scroller.scrollTo(x, y);\n  this.scroller.trigger('scroll', {\n    x: this.scroller.x,\n    y: this.scroller.y\n  });\n};\n\nIndicator.prototype._shouldShow = function () {\n  if (this.direction === 'vertical' && this.scroller.hasVerticalScroll || this.direction === 'horizontal' && this.scroller.hasHorizontalScroll) {\n    this.wrapper.style.display = '';\n    return true;\n  }\n  this.wrapper.style.display = 'none';\n  return false;\n};\n\nIndicator.prototype._calculate = function () {\n  if (this.direction === 'vertical') {\n    var wrapperHeight = this.wrapper.clientHeight;\n    this.indicatorHeight = Math.max(Math.round(wrapperHeight * wrapperHeight / (this.scroller.scrollerHeight || wrapperHeight || 1)), INDICATOR_MIN_LEN);\n    this.indicatorStyle.height = this.indicatorHeight + 'px';\n\n    this.maxPosY = wrapperHeight - this.indicatorHeight;\n\n    this.sizeRatioY = this.maxPosY / this.scroller.maxScrollY;\n  } else {\n    var wrapperWidth = this.wrapper.clientWidth;\n    this.indicatorWidth = Math.max(Math.round(wrapperWidth * wrapperWidth / (this.scroller.scrollerWidth || wrapperWidth || 1)), INDICATOR_MIN_LEN);\n    this.indicatorStyle.width = this.indicatorWidth + 'px';\n\n    this.maxPosX = wrapperWidth - this.indicatorWidth;\n\n    this.sizeRatioX = this.maxPosX / this.scroller.maxScrollX;\n  }\n};\n\nIndicator.prototype._addDOMEvents = function () {\n  var eventOperation = addEvent;\n  this._handleDOMEvents(eventOperation);\n};\n\nIndicator.prototype._removeDOMEvents = function () {\n  var eventOperation = removeEvent;\n  this._handleDOMEvents(eventOperation);\n  this._handleMoveEvents(eventOperation);\n};\n\nIndicator.prototype._handleMoveEvents = function (eventOperation) {\n  if (!this.scroller.options.disableTouch) {\n    eventOperation(window, 'touchmove', this);\n  }\n  if (!this.scroller.options.disableMouse) {\n    eventOperation(window, 'mousemove', this);\n  }\n};\n\nIndicator.prototype._handleDOMEvents = function (eventOperation) {\n  if (!this.scroller.options.disableTouch) {\n    eventOperation(this.indicator, 'touchstart', this);\n    eventOperation(window, 'touchend', this);\n  }\n  if (!this.scroller.options.disableMouse) {\n    eventOperation(this.indicator, 'mousedown', this);\n    eventOperation(window, 'mouseup', this);\n  }\n};\n\nfunction pullDownMixin(BScroll) {\n  BScroll.prototype._initPullDown = function () {\n    // must watch scroll in real time\n    this.options.probeType = PROBE_REALTIME;\n  };\n\n  BScroll.prototype._checkPullDown = function () {\n    var _options$pullDownRefr = this.options.pullDownRefresh,\n        _options$pullDownRefr2 = _options$pullDownRefr.threshold,\n        threshold = _options$pullDownRefr2 === undefined ? 90 : _options$pullDownRefr2,\n        _options$pullDownRefr3 = _options$pullDownRefr.stop,\n        stop = _options$pullDownRefr3 === undefined ? 40 : _options$pullDownRefr3;\n\n    // check if a real pull down action\n\n    if (this.directionY !== DIRECTION_DOWN || this.y < threshold) {\n      return false;\n    }\n\n    if (!this.pulling) {\n      this.pulling = true;\n      this.trigger('pullingDown');\n    }\n    this.scrollTo(this.x, stop, this.options.bounceTime, ease.bounce);\n\n    return this.pulling;\n  };\n\n  BScroll.prototype.finishPullDown = function () {\n    this.pulling = false;\n    this.resetPosition(this.options.bounceTime, ease.bounce);\n  };\n\n  BScroll.prototype.openPullDown = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n    this.options.pullDownRefresh = config;\n    this._initPullDown();\n  };\n\n  BScroll.prototype.closePullDown = function () {\n    this.options.pullDownRefresh = false;\n  };\n\n  BScroll.prototype.autoPullDownRefresh = function () {\n    var _options$pullDownRefr4 = this.options.pullDownRefresh,\n        _options$pullDownRefr5 = _options$pullDownRefr4.threshold,\n        threshold = _options$pullDownRefr5 === undefined ? 90 : _options$pullDownRefr5,\n        _options$pullDownRefr6 = _options$pullDownRefr4.stop,\n        stop = _options$pullDownRefr6 === undefined ? 40 : _options$pullDownRefr6;\n\n\n    if (this.pulling) {\n      return;\n    }\n    this.pulling = true;\n\n    this.scrollTo(this.x, threshold);\n    this.trigger('pullingDown');\n    this.scrollTo(this.x, stop, this.options.bounceTime, ease.bounce);\n  };\n}\n\nfunction pullUpMixin(BScroll) {\n  BScroll.prototype._initPullUp = function () {\n    // must watch scroll in real time\n    this.options.probeType = PROBE_REALTIME;\n\n    this.pullupWatching = false;\n    this._watchPullUp();\n  };\n\n  BScroll.prototype._watchPullUp = function () {\n    if (this.pullupWatching) {\n      return;\n    }\n    this.pullupWatching = true;\n    this.on('scroll', this._checkToEnd);\n  };\n\n  BScroll.prototype._checkToEnd = function (pos) {\n    var _this = this;\n\n    var _options$pullUpLoad$t = this.options.pullUpLoad.threshold,\n        threshold = _options$pullUpLoad$t === undefined ? 0 : _options$pullUpLoad$t;\n\n    if (this.movingDirectionY === DIRECTION_UP && pos.y <= this.maxScrollY + threshold) {\n      // reset pullupWatching status after scroll end.\n      this.once('scrollEnd', function () {\n        _this.pullupWatching = false;\n      });\n      this.trigger('pullingUp');\n      this.off('scroll', this._checkToEnd);\n    }\n  };\n\n  BScroll.prototype.finishPullUp = function () {\n    var _this2 = this;\n\n    if (this.pullupWatching) {\n      this.once('scrollEnd', function () {\n        _this2._watchPullUp();\n      });\n    } else {\n      this._watchPullUp();\n    }\n  };\n\n  BScroll.prototype.openPullUp = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n    this.options.pullUpLoad = config;\n    this._initPullUp();\n  };\n\n  BScroll.prototype.closePullUp = function () {\n    this.options.pullUpLoad = false;\n    if (!this.pullupWatching) {\n      return;\n    }\n    this.pullupWatching = false;\n    this.off('scroll', this._checkToEnd);\n  };\n}\n\nfunction mouseWheelMixin(BScroll) {\n  BScroll.prototype._initMouseWheel = function () {\n    var _this = this;\n\n    this._handleMouseWheelEvent(addEvent);\n\n    this.on('destroy', function () {\n      clearTimeout(_this.mouseWheelTimer);\n      clearTimeout(_this.mouseWheelEndTimer);\n      _this._handleMouseWheelEvent(removeEvent);\n    });\n\n    this.firstWheelOpreation = true;\n  };\n\n  BScroll.prototype._handleMouseWheelEvent = function (eventOperation) {\n    eventOperation(this.wrapper, 'wheel', this);\n    eventOperation(this.wrapper, 'mousewheel', this);\n    eventOperation(this.wrapper, 'DOMMouseScroll', this);\n  };\n\n  BScroll.prototype._onMouseWheel = function (e) {\n    var _this2 = this;\n\n    if (!this.enabled) {\n      return;\n    }\n    e.preventDefault();\n\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    if (this.firstWheelOpreation) {\n      this.trigger('scrollStart');\n    }\n    this.firstWheelOpreation = false;\n\n    var _options$mouseWheel = this.options.mouseWheel,\n        _options$mouseWheel$s = _options$mouseWheel.speed,\n        speed = _options$mouseWheel$s === undefined ? 20 : _options$mouseWheel$s,\n        _options$mouseWheel$i = _options$mouseWheel.invert,\n        invert = _options$mouseWheel$i === undefined ? false : _options$mouseWheel$i,\n        _options$mouseWheel$e = _options$mouseWheel.easeTime,\n        easeTime = _options$mouseWheel$e === undefined ? 300 : _options$mouseWheel$e;\n\n\n    clearTimeout(this.mouseWheelTimer);\n    this.mouseWheelTimer = setTimeout(function () {\n      if (!_this2.options.snap && !easeTime) {\n        _this2.trigger('scrollEnd', {\n          x: _this2.x,\n          y: _this2.y\n        });\n      }\n      _this2.firstWheelOpreation = true;\n    }, 400);\n\n    var wheelDeltaX = void 0;\n    var wheelDeltaY = void 0;\n\n    switch (true) {\n      case 'deltaX' in e:\n        if (e.deltaMode === 1) {\n          wheelDeltaX = -e.deltaX * speed;\n          wheelDeltaY = -e.deltaY * speed;\n        } else {\n          wheelDeltaX = -e.deltaX;\n          wheelDeltaY = -e.deltaY;\n        }\n        break;\n      case 'wheelDeltaX' in e:\n        wheelDeltaX = e.wheelDeltaX / 120 * speed;\n        wheelDeltaY = e.wheelDeltaY / 120 * speed;\n        break;\n      case 'wheelDelta' in e:\n        wheelDeltaX = wheelDeltaY = e.wheelDelta / 120 * speed;\n        break;\n      case 'detail' in e:\n        wheelDeltaX = wheelDeltaY = -e.detail / 3 * speed;\n        break;\n      default:\n        return;\n    }\n\n    var direction = invert ? -1 : 1;\n    wheelDeltaX *= direction;\n    wheelDeltaY *= direction;\n\n    if (!this.hasVerticalScroll) {\n      wheelDeltaX = wheelDeltaY;\n      wheelDeltaY = 0;\n    }\n\n    var newX = void 0;\n    var newY = void 0;\n    if (this.options.snap) {\n      newX = this.currentPage.pageX;\n      newY = this.currentPage.pageY;\n\n      if (wheelDeltaX > 0) {\n        newX--;\n      } else if (wheelDeltaX < 0) {\n        newX++;\n      }\n\n      if (wheelDeltaY > 0) {\n        newY--;\n      } else if (wheelDeltaY < 0) {\n        newY++;\n      }\n\n      this._goToPage(newX, newY);\n      return;\n    }\n\n    newX = this.x + Math.round(this.hasHorizontalScroll ? wheelDeltaX : 0);\n    newY = this.y + Math.round(this.hasVerticalScroll ? wheelDeltaY : 0);\n\n    this.movingDirectionX = this.directionX = wheelDeltaX > 0 ? -1 : wheelDeltaX < 0 ? 1 : 0;\n    this.movingDirectionY = this.directionY = wheelDeltaY > 0 ? -1 : wheelDeltaY < 0 ? 1 : 0;\n\n    if (newX > this.minScrollX) {\n      newX = this.minScrollX;\n    } else if (newX < this.maxScrollX) {\n      newX = this.maxScrollX;\n    }\n\n    if (newY > this.minScrollY) {\n      newY = this.minScrollY;\n    } else if (newY < this.maxScrollY) {\n      newY = this.maxScrollY;\n    }\n\n    var needTriggerEnd = this.y === newY;\n    this.scrollTo(newX, newY, easeTime, ease.swipe);\n    this.trigger('scroll', {\n      x: this.x,\n      y: this.y\n    });\n    clearTimeout(this.mouseWheelEndTimer);\n    if (needTriggerEnd) {\n      this.mouseWheelEndTimer = setTimeout(function () {\n        _this2.trigger('scrollEnd', {\n          x: _this2.x,\n          y: _this2.y\n        });\n      }, easeTime);\n    }\n  };\n}\n\nfunction zoomMixin(BScroll) {\n  BScroll.prototype._initZoom = function () {\n    var _options$zoom = this.options.zoom,\n        _options$zoom$start = _options$zoom.start,\n        start = _options$zoom$start === undefined ? 1 : _options$zoom$start,\n        _options$zoom$min = _options$zoom.min,\n        min = _options$zoom$min === undefined ? 1 : _options$zoom$min,\n        _options$zoom$max = _options$zoom.max,\n        max = _options$zoom$max === undefined ? 4 : _options$zoom$max;\n\n    this.scale = Math.min(Math.max(start, min), max);\n    this.setScale(this.scale);\n    this.scrollerStyle[style.transformOrigin] = '0 0';\n  };\n\n  BScroll.prototype._zoomTo = function (scale, originX, originY, startScale) {\n    this.scaled = true;\n\n    var lastScale = scale / (startScale || this.scale);\n    this.setScale(scale);\n\n    this.refresh();\n\n    var newX = Math.round(this.startX - (originX - this.relativeX) * (lastScale - 1));\n    var newY = Math.round(this.startY - (originY - this.relativeY) * (lastScale - 1));\n\n    if (newX > this.minScrollX) {\n      newX = this.minScrollX;\n    } else if (newX < this.maxScrollX) {\n      newX = this.maxScrollX;\n    }\n\n    if (newY > this.minScrollY) {\n      newY = this.minScrollY;\n    } else if (newY < this.maxScrollY) {\n      newY = this.maxScrollY;\n    }\n\n    if (this.x !== newX || this.y !== newY) {\n      this.scrollTo(newX, newY, this.options.bounceTime);\n    }\n\n    this.scaled = false;\n  };\n\n  BScroll.prototype.zoomTo = function (scale, x, y) {\n    var _offsetToBody = offsetToBody(this.wrapper),\n        left = _offsetToBody.left,\n        top = _offsetToBody.top;\n\n    var originX = x + left - this.x;\n    var originY = y + top - this.y;\n    this._zoomTo(scale, originX, originY);\n  };\n\n  BScroll.prototype._zoomStart = function (e) {\n    var firstFinger = e.touches[0];\n    var secondFinger = e.touches[1];\n    var deltaX = Math.abs(firstFinger.pageX - secondFinger.pageX);\n    var deltaY = Math.abs(firstFinger.pageY - secondFinger.pageY);\n\n    this.startDistance = getDistance(deltaX, deltaY);\n    this.startScale = this.scale;\n\n    var _offsetToBody2 = offsetToBody(this.wrapper),\n        left = _offsetToBody2.left,\n        top = _offsetToBody2.top;\n\n    this.originX = Math.abs(firstFinger.pageX + secondFinger.pageX) / 2 + left - this.x;\n    this.originY = Math.abs(firstFinger.pageY + secondFinger.pageY) / 2 + top - this.y;\n\n    this.trigger('zoomStart');\n  };\n\n  BScroll.prototype._zoom = function (e) {\n    if (!this.enabled || this.destroyed || eventType[e.type] !== this.initiated) {\n      return;\n    }\n\n    if (this.options.preventDefault) {\n      e.preventDefault();\n    }\n\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    var firstFinger = e.touches[0];\n    var secondFinger = e.touches[1];\n    var deltaX = Math.abs(firstFinger.pageX - secondFinger.pageX);\n    var deltaY = Math.abs(firstFinger.pageY - secondFinger.pageY);\n    var distance = getDistance(deltaX, deltaY);\n    var scale = distance / this.startDistance * this.startScale;\n\n    this.scaled = true;\n\n    var _options$zoom2 = this.options.zoom,\n        _options$zoom2$min = _options$zoom2.min,\n        min = _options$zoom2$min === undefined ? 1 : _options$zoom2$min,\n        _options$zoom2$max = _options$zoom2.max,\n        max = _options$zoom2$max === undefined ? 4 : _options$zoom2$max;\n\n\n    if (scale < min) {\n      scale = 0.5 * min * Math.pow(2.0, scale / min);\n    } else if (scale > max) {\n      scale = 2.0 * max * Math.pow(0.5, max / scale);\n    }\n\n    var lastScale = scale / this.startScale;\n\n    var x = this.startX - (this.originX - this.relativeX) * (lastScale - 1);\n    var y = this.startY - (this.originY - this.relativeY) * (lastScale - 1);\n\n    this.setScale(scale);\n\n    this.scrollTo(x, y, 0);\n  };\n\n  BScroll.prototype._zoomEnd = function (e) {\n    if (!this.enabled || this.destroyed || eventType[e.type] !== this.initiated) {\n      return;\n    }\n\n    if (this.options.preventDefault) {\n      e.preventDefault();\n    }\n\n    if (this.options.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    this.isInTransition = false;\n    this.isAnimating = false;\n    this.initiated = 0;\n\n    var _options$zoom3 = this.options.zoom,\n        _options$zoom3$min = _options$zoom3.min,\n        min = _options$zoom3$min === undefined ? 1 : _options$zoom3$min,\n        _options$zoom3$max = _options$zoom3.max,\n        max = _options$zoom3$max === undefined ? 4 : _options$zoom3$max;\n\n\n    var scale = this.scale > max ? max : this.scale < min ? min : this.scale;\n\n    this._zoomTo(scale, this.originX, this.originY, this.startScale);\n\n    this.trigger('zoomEnd');\n  };\n}\n\n// import { ease } from '../util/ease'\n\n// Number of items to instantiate beyond current view in the scroll direction.\nvar RUNWAY_ITEMS = 30;\n\n// Number of items to instantiate beyond current view in the opposite direction.\nvar RUNWAY_ITEMS_OPPOSITE = 10;\n\n// The animation interval (in ms) for fading in content from tombstones.\nvar ANIMATION_DURATION_MS = 200;\n\n// The number of pixels of default additional length to allow scrolling to.\nvar DEFAULT_SCROLL_RUNWAY = 2000;\n\nfunction infiniteMixin(BScroll) {\n  BScroll.prototype._initInfinite = function () {\n    this.options.probeType = 3;\n    this.maxScrollY = -DEFAULT_SCROLL_RUNWAY;\n    this.infiniteScroller = new InfiniteScroller(this, this.options.infinity);\n  };\n}\n\nfunction isTombstoneNode(node) {\n  if (node && node.classList) {\n    return node.classList.contains('tombstone');\n  }\n}\n\nfunction InfiniteScroller(scroller, options) {\n  var _this = this;\n\n  this.options = options;\n  assert(typeof this.options.createTombstone === 'function', 'Infinite scroll need createTombstone Function to create tombstone');\n\n  assert(typeof this.options.fetch === 'function', 'Infinite scroll need fetch Function to fetch new data.');\n\n  assert(typeof this.options.render === 'function', 'Infinite scroll need render Function to render each item.');\n\n  this.firstAttachedItem = 0;\n  this.lastAttachedItem = 0;\n\n  this.anchorScrollTop = 0;\n  this.anchorItem = {\n    index: 0,\n    offset: 0\n  };\n  this.tombstoneHeight = 0;\n  this.tombstoneWidth = 0;\n  this.tombstones = [];\n  this.tombstonesAnimationHandlers = [];\n\n  this.items = [];\n  this.loadedItems = 0;\n  this.requestInProgress = false;\n  this.hasMore = true;\n\n  this.scroller = scroller;\n  this.wrapperEl = this.scroller.wrapper;\n  this.scrollerEl = this.scroller.scroller;\n\n  this.scroller.on('resize', function () {\n    _this.onResize();\n  });\n  this.scroller.on('destroy', function () {\n    _this.destroy();\n  });\n\n  // wait scroll core init\n  this._onResizeHandler = setTimeout(function () {\n    _this.onResize();\n\n    // must wait tombstoneHeight has size\n    _this.scroller.on('scroll', function () {\n      _this.onScroll();\n    });\n  });\n}\n\nInfiniteScroller.prototype.destroy = function () {\n  var _this2 = this;\n\n  // In extreme scene, destroy is triggered before _onResizeHandler\n  clearTimeout(this._onResizeHandler);\n  this.tombstonesAnimationHandlers.forEach(function (handler) {\n    clearTimeout(handler);\n  });\n  this.tombstonesAnimationHandlers = null;\n  this.items.forEach(function (item) {\n    if (item.node) {\n      _this2.scrollerEl.removeChild(item.node);\n      item.node = null;\n    }\n  });\n  this.scroller.infiniteScroller = null;\n  this.scroller = null;\n  this.wrapperEl = null;\n  this.scrollerEl = null;\n  this.items = null;\n  this.tombstones = null;\n};\n\nInfiniteScroller.prototype.onScroll = function () {\n  var scrollTop = -this.scroller.y;\n  var delta = scrollTop - this.anchorScrollTop;\n  if (scrollTop === 0) {\n    this.anchorItem = {\n      index: 0,\n      offset: 0\n    };\n  } else {\n    this.anchorItem = this._calculateAnchoredItem(this.anchorItem, delta);\n  }\n\n  this.anchorScrollTop = scrollTop;\n  var lastScreenItem = this._calculateAnchoredItem(this.anchorItem, this.scroller.wrapperHeight);\n\n  var start = this.anchorItem.index;\n  var end = lastScreenItem.index;\n  if (delta < 0) {\n    start -= RUNWAY_ITEMS;\n    end += RUNWAY_ITEMS_OPPOSITE;\n  } else {\n    start -= RUNWAY_ITEMS_OPPOSITE;\n    end += RUNWAY_ITEMS;\n  }\n  this.fill(start, end);\n  this.maybeRequestContent();\n};\n\nInfiniteScroller.prototype.onResize = function () {\n  var tombstone = this.options.createTombstone();\n  tombstone.style.position = 'absolute';\n  this.scrollerEl.appendChild(tombstone);\n  tombstone.style.display = '';\n  this.tombstoneHeight = tombstone.offsetHeight;\n  this.tombstoneWidth = tombstone.offsetWidth;\n  this.scrollerEl.removeChild(tombstone);\n\n  for (var i = 0; i < this.items.length; i++) {\n    this.items[i].height = this.items[i].width = 0;\n  }\n\n  this.onScroll();\n};\n\nInfiniteScroller.prototype.fill = function (start, end) {\n  this.firstAttachedItem = Math.max(0, start);\n  if (!this.hasMore) {\n    end = Math.min(end, this.items.length);\n  }\n  this.lastAttachedItem = end;\n  this.attachContent();\n};\n\nInfiniteScroller.prototype.maybeRequestContent = function () {\n  var _this3 = this;\n\n  if (this.requestInProgress || !this.hasMore) {\n    return;\n  }\n  var itemsNeeded = this.lastAttachedItem - this.loadedItems;\n  if (itemsNeeded <= 0) {\n    return;\n  }\n  this.requestInProgress = true;\n  this.options.fetch(itemsNeeded).then(function (items) {\n    _this3.requestInProgress = false;\n    if (items) {\n      _this3.addContent(items);\n    } else {\n      _this3.hasMore = false;\n      var tombstoneLen = _this3._removeTombstones();\n      var curPos = 0;\n      if (_this3.anchorItem.index <= _this3.items.length) {\n        curPos = _this3._fixScrollPosition();\n        _this3._setupAnimations({}, curPos);\n        _this3.scroller.resetPosition(_this3.scroller.options.bounceTime);\n      } else {\n        _this3.anchorItem.index -= tombstoneLen;\n        curPos = _this3._fixScrollPosition();\n        _this3._setupAnimations({}, curPos);\n        _this3.scroller.stop();\n        _this3.scroller.resetPosition();\n        _this3.onScroll();\n      }\n    }\n  });\n};\n\nInfiniteScroller.prototype.addContent = function (items) {\n  for (var i = 0; i < items.length; i++) {\n    if (this.items.length <= this.loadedItems) {\n      this._addItem();\n    }\n    this.items[this.loadedItems++].data = items[i];\n  }\n  this.attachContent();\n  this.maybeRequestContent();\n};\n\nInfiniteScroller.prototype.attachContent = function () {\n  var unusedNodes = this._collectUnusedNodes();\n  var tombstoneAnimations = this._createDOMNodes(unusedNodes);\n  this._cleanupUnusedNodes(unusedNodes);\n  this._cacheNodeSize();\n  var curPos = this._fixScrollPosition();\n  this._setupAnimations(tombstoneAnimations, curPos);\n};\n\nInfiniteScroller.prototype.resetMore = function () {\n  this.hasMore = true;\n};\n\nInfiniteScroller.prototype._removeTombstones = function () {\n  var markIndex = void 0;\n  var tombstoneLen = 0;\n  var itemLen = this.items.length;\n  for (var i = 0; i < itemLen; i++) {\n    var currentNode = this.items[i].node;\n    var currentData = this.items[i].data;\n    if ((!currentNode || isTombstoneNode(currentNode)) && !currentData) {\n      // 0 should be excluded\n      if (markIndex === void 0) {\n        markIndex = i;\n      }\n      if (currentNode) {\n        this.scrollerEl.removeChild(currentNode);\n      }\n    }\n  }\n  tombstoneLen = itemLen - markIndex;\n  this.items.splice(markIndex);\n  this.lastAttachedItem = Math.min(this.lastAttachedItem, this.items.length);\n  return tombstoneLen;\n};\n\nInfiniteScroller.prototype._collectUnusedNodes = function () {\n  var unusedNodes = [];\n  for (var i = 0; i < this.items.length; i++) {\n    // Skip the items which should be visible.\n    if (i === this.firstAttachedItem) {\n      i = this.lastAttachedItem - 1;\n      continue;\n    }\n    var currentNode = this.items[i].node;\n    if (currentNode) {\n      if (isTombstoneNode(currentNode)) {\n        // Cache tombstones for reuse\n        this.tombstones.push(currentNode);\n        this.tombstones[this.tombstones.length - 1].style.display = 'none';\n      } else {\n        unusedNodes.push(currentNode);\n      }\n    }\n    this.items[i].node = null;\n  }\n  return unusedNodes;\n};\n\nInfiniteScroller.prototype._createDOMNodes = function (unusedNodes) {\n  var tombstoneAnimations = {};\n  for (var i = this.firstAttachedItem; i < this.lastAttachedItem; i++) {\n    while (this.items.length <= i) {\n      this._addItem();\n    }\n    var currentNode = this.items[i].node;\n    var currentData = this.items[i].data;\n    if (currentNode) {\n      if (isTombstoneNode(currentNode) && currentData) {\n        currentNode.style.zIndex = 1;\n        tombstoneAnimations[i] = [currentNode, this.items[i].top - this.anchorScrollTop];\n        this.items[i].node = null;\n      } else {\n        continue;\n      }\n    }\n    var node = currentData ? this.options.render(currentData, unusedNodes.pop()) : this._getTombStone();\n    node.style.position = 'absolute';\n    this.items[i].top = -1;\n    this.scrollerEl.appendChild(node);\n    this.items[i].node = node;\n  }\n  return tombstoneAnimations;\n};\n\nInfiniteScroller.prototype._cleanupUnusedNodes = function (unusedNodes) {\n  while (unusedNodes.length) {\n    this.scrollerEl.removeChild(unusedNodes.pop());\n  }\n};\n\nInfiniteScroller.prototype._cacheNodeSize = function () {\n  for (var i = this.firstAttachedItem; i < this.lastAttachedItem; i++) {\n    var item = this.items[i];\n    // Only cache the height if we have the real contents, not a placeholder.\n    if (item.data && !item.height) {\n      var isTombstone = isTombstoneNode(item.node);\n      item.height = isTombstone ? this.tombstoneHeight : item.node.offsetHeight;\n      item.width = isTombstone ? this.tombstoneWidth : item.node.offsetWidth;\n    }\n  }\n};\n\nInfiniteScroller.prototype._fixScrollPosition = function () {\n  this.anchorScrollTop = 0;\n  for (var _i = 0; _i < this.anchorItem.index; _i++) {\n    this.anchorScrollTop += this.items[_i].height || this.tombstoneHeight;\n  }\n  this.anchorScrollTop += this.anchorItem.offset;\n\n  // Position all nodes.\n  var curPos = this.anchorScrollTop - this.anchorItem.offset;\n  var i = this.anchorItem.index;\n  while (i > this.firstAttachedItem) {\n    curPos -= this.items[i - 1].height || this.tombstoneHeight;\n    i--;\n  }\n\n  return curPos;\n};\n\nInfiniteScroller.prototype._setupAnimations = function (tombstoneAnimations, curPos) {\n  var _this4 = this;\n\n  for (var i in tombstoneAnimations) {\n    var animation = tombstoneAnimations[i];\n    this.items[i].node.style[style.transform] = 'translateY(' + (this.anchorScrollTop + animation[1]) + 'px) scale(' + this.tombstoneWidth / this.items[i].width + ', ' + this.tombstoneHeight / this.items[i].height + ')';\n    // Call offsetTop on the nodes to be animated to force them to apply current transforms.\n    /* eslint-disable no-unused-expressions */\n    this.items[i].node.offsetTop;\n    animation[0].offsetTop;\n    this.items[i].node.style[style.transition] = cssVendor + 'transform ' + ANIMATION_DURATION_MS + 'ms';\n  }\n\n  for (var _i2 = this.firstAttachedItem; _i2 < this.lastAttachedItem; _i2++) {\n    var _animation = tombstoneAnimations[_i2];\n    if (_animation) {\n      var tombstoneNode = _animation[0];\n      tombstoneNode.style[style.transition] = cssVendor + 'transform ' + ANIMATION_DURATION_MS + 'ms, opacity ' + ANIMATION_DURATION_MS + 'ms';\n      tombstoneNode.style[style.transform] = 'translateY(' + curPos + 'px) scale(' + this.items[_i2].width / this.tombstoneWidth + ', ' + this.items[_i2].height / this.tombstoneHeight + ')';\n      tombstoneNode.style.opacity = 0;\n    }\n    if (curPos !== this.items[_i2].top) {\n      if (!_animation) {\n        this.items[_i2].node.style[style.transition] = '';\n      }\n      this.items[_i2].node.style[style.transform] = 'translateY(' + curPos + 'px)';\n    }\n    this.items[_i2].top = curPos;\n    curPos += this.items[_i2].height || this.tombstoneHeight;\n  }\n\n  this.scroller.maxScrollY = -(curPos - this.scroller.wrapperHeight + (this.hasMore ? DEFAULT_SCROLL_RUNWAY : 0));\n\n  var tombstoneAnimationsHandler = setTimeout(function () {\n    for (var _i3 in tombstoneAnimations) {\n      var _animation2 = tombstoneAnimations[_i3];\n      _animation2[0].style.display = 'none';\n      // Tombstone can be recycled now.\n      _this4.tombstones.push(_animation2[0]);\n    }\n  }, ANIMATION_DURATION_MS);\n\n  this.tombstonesAnimationHandlers.push(tombstoneAnimationsHandler);\n};\n\nInfiniteScroller.prototype._getTombStone = function () {\n  var tombstone = this.tombstones.pop();\n  if (tombstone) {\n    tombstone.style.display = '';\n    tombstone.style.opacity = 1;\n    tombstone.style[style.transform] = '';\n    tombstone.style[style.transition] = '';\n    return tombstone;\n  }\n  return this.options.createTombstone();\n};\n\nInfiniteScroller.prototype._addItem = function () {\n  this.items.push({\n    data: null,\n    node: null,\n    height: 0,\n    width: 0,\n    top: 0\n  });\n};\n\nInfiniteScroller.prototype._calculateAnchoredItem = function (initialAnchor, delta) {\n  if (delta === 0) {\n    return initialAnchor;\n  }\n  var i = initialAnchor.index;\n  var tombstones = 0;\n\n  delta += initialAnchor.offset;\n  if (delta < 0) {\n    while (delta < 0 && i > 0 && this.items[i - 1].height) {\n      delta += this.items[i - 1].height;\n      i--;\n    }\n    tombstones = Math.max(-i, Math.ceil(Math.min(delta, 0) / this.tombstoneHeight));\n  } else {\n    while (delta > 0 && i < this.items.length && this.items[i].height && this.items[i].height < delta) {\n      delta -= this.items[i].height;\n      i++;\n    }\n    if (i >= this.items.length || !this.items[i].height) {\n      tombstones = Math.floor(Math.max(delta, 0) / this.tombstoneHeight);\n    }\n  }\n  i += tombstones;\n  delta -= tombstones * this.tombstoneHeight;\n\n  return {\n    index: i,\n    offset: delta\n  };\n};\n\nfunction BScroll(el, options) {\n  this.wrapper = typeof el === 'string' ? document.querySelector(el) : el;\n  if (!this.wrapper) {\n    warn('Can not resolve the wrapper DOM.');\n  }\n  this.scroller = this.wrapper.children[0];\n  if (!this.scroller) {\n    warn('The wrapper need at least one child element to be scroller.');\n  }\n  // cache style for better performance\n  this.scrollerStyle = this.scroller.style;\n\n  this._init(options);\n}\n\ninitMixin(BScroll);\ncoreMixin(BScroll);\neventMixin(BScroll);\nsnapMixin(BScroll);\nwheelMixin(BScroll);\nscrollbarMixin(BScroll);\npullDownMixin(BScroll);\npullUpMixin(BScroll);\nmouseWheelMixin(BScroll);\nzoomMixin(BScroll);\ninfiniteMixin(BScroll);\n\nBScroll.Version = '1.15.2';\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (BScroll);\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDg5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9iZXR0ZXItc2Nyb2xsL2Rpc3QvYnNjcm9sbC5lc20uanM/MjRmYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIGJldHRlci1ub3JtYWwtc2Nyb2xsIHYxLjE1LjJcbiAqIChjKSAyMDE2LTIwMTkgdXN0Ymh1YW5neWlcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqL1xuLy8gQXMgb2YgVjggNi42LCBkZXBlbmRpbmcgb24gdGhlIHNpemUgb2YgdGhlIGFycmF5LCB0aGlzIGlzIGFueXdoZXJlXG4vLyBiZXR3ZWVuIDEuNS0xMHggZmFzdGVyIHRoYW4gdGhlIHR3by1hcmcgdmVyc2lvbiBvZiBBcnJheSNzcGxpY2UoKVxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAoOyBpbmRleCArIDEgPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgIGxpc3RbaW5kZXhdID0gbGlzdFtpbmRleCArIDFdO1xuICB9XG5cbiAgbGlzdC5wb3AoKTtcbn1cblxudmFyIHNsaWNlZFRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIHNsaWNlSXRlcmF0b3IoYXJyLCBpKSB7XG4gICAgdmFyIF9hcnIgPSBbXTtcbiAgICB2YXIgX24gPSB0cnVlO1xuICAgIHZhciBfZCA9IGZhbHNlO1xuICAgIHZhciBfZSA9IHVuZGVmaW5lZDtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7XG5cbiAgICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2QgPSB0cnVlO1xuICAgICAgX2UgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoX2QpIHRocm93IF9lO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBfYXJyO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgICByZXR1cm4gYXJyO1xuICAgIH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7XG4gICAgICByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTtcbiAgICB9XG4gIH07XG59KCk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbnZhciB0b0NvbnN1bWFibGVBcnJheSA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG5cbiAgICByZXR1cm4gYXJyMjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShhcnIpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBldmVudE1peGluKEJTY3JvbGwpIHtcbiAgQlNjcm9sbC5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAodHlwZSwgZm4pIHtcbiAgICB2YXIgY29udGV4dCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdGhpcztcblxuICAgIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKSB7XG4gICAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBbXTtcbiAgICB9XG5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChbZm4sIGNvbnRleHRdKTtcbiAgfTtcblxuICBCU2Nyb2xsLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gKHR5cGUsIGZuKSB7XG4gICAgdmFyIGNvbnRleHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHRoaXM7XG5cbiAgICBmdW5jdGlvbiBtYWdpYygpIHtcbiAgICAgIHRoaXMub2ZmKHR5cGUsIG1hZ2ljKTtcblxuICAgICAgZm4uYXBwbHkoY29udGV4dCwgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgLy8gVG8gZXhwb3NlIHRoZSBjb3JyZXNwb25kaW5nIGZ1bmN0aW9uIG1ldGhvZCBpbiBvcmRlciB0byBleGVjdXRlIHRoZSBvZmYgbWV0aG9kXG4gICAgbWFnaWMuZm4gPSBmbjtcblxuICAgIHRoaXMub24odHlwZSwgbWFnaWMpO1xuICB9O1xuXG4gIEJTY3JvbGwucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uICh0eXBlLCBmbikge1xuICAgIHZhciBfZXZlbnRzID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIGlmICghX2V2ZW50cykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjb3VudCA9IF9ldmVudHMubGVuZ3RoO1xuICAgIHdoaWxlIChjb3VudC0tKSB7XG4gICAgICBpZiAoX2V2ZW50c1tjb3VudF1bMF0gPT09IGZuIHx8IF9ldmVudHNbY291bnRdWzBdICYmIF9ldmVudHNbY291bnRdWzBdLmZuID09PSBmbikge1xuICAgICAgICBzcGxpY2VPbmUoX2V2ZW50cywgY291bnQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBCU2Nyb2xsLnByb3RvdHlwZS50cmlnZ2VyID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIGlmICghZXZlbnRzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGxlbiA9IGV2ZW50cy5sZW5ndGg7XG4gICAgdmFyIGV2ZW50c0NvcHkgPSBbXS5jb25jYXQodG9Db25zdW1hYmxlQXJyYXkoZXZlbnRzKSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzQ29weVtpXTtcblxuICAgICAgdmFyIF9ldmVudCA9IHNsaWNlZFRvQXJyYXkoZXZlbnQsIDIpLFxuICAgICAgICAgIGZuID0gX2V2ZW50WzBdLFxuICAgICAgICAgIGNvbnRleHQgPSBfZXZlbnRbMV07XG5cbiAgICAgIGlmIChmbikge1xuICAgICAgICBmbi5hcHBseShjb250ZXh0LCBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuLy8gc3NyIHN1cHBvcnRcbnZhciBpbkJyb3dzZXIgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcbnZhciB1YSA9IGluQnJvd3NlciAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG52YXIgaXNXZUNoYXREZXZUb29scyA9IHVhICYmIC93ZWNoYXRkZXZ0b29scy8udGVzdCh1YSk7XG52YXIgaXNBbmRyb2lkID0gdWEgJiYgdWEuaW5kZXhPZignYW5kcm9pZCcpID4gMDtcblxuZnVuY3Rpb24gZ2V0Tm93KCkge1xuICByZXR1cm4gd2luZG93LnBlcmZvcm1hbmNlICYmIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3cgPyB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkgKyB3aW5kb3cucGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydCA6ICtuZXcgRGF0ZSgpO1xufVxuXG5mdW5jdGlvbiBleHRlbmQodGFyZ2V0KSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHJlc3RbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IHJlc3RbaV07XG4gICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gaXNVbmRlZih2KSB7XG4gIHJldHVybiB2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0RGlzdGFuY2UoeCwgeSkge1xuICByZXR1cm4gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpO1xufVxuXG52YXIgZWxlbWVudFN0eWxlID0gaW5Ccm93c2VyICYmIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLnN0eWxlO1xuXG52YXIgdmVuZG9yID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIWluQnJvd3Nlcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBmaXJzdCBwaWNrIHVwIHN0YW5kYXJkIHRvIGZpeCAjNzQzXG4gIHZhciB0cmFuc2Zvcm1OYW1lcyA9IHtcbiAgICBzdGFuZGFyZDogJ3RyYW5zZm9ybScsXG4gICAgd2Via2l0OiAnd2Via2l0VHJhbnNmb3JtJyxcbiAgICBNb3o6ICdNb3pUcmFuc2Zvcm0nLFxuICAgIE86ICdPVHJhbnNmb3JtJyxcbiAgICBtczogJ21zVHJhbnNmb3JtJ1xuICB9O1xuXG4gIGZvciAodmFyIGtleSBpbiB0cmFuc2Zvcm1OYW1lcykge1xuICAgIGlmIChlbGVtZW50U3R5bGVbdHJhbnNmb3JtTmFtZXNba2V5XV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGtleTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59KCk7XG5cbmZ1bmN0aW9uIHByZWZpeFN0eWxlKHN0eWxlKSB7XG4gIGlmICh2ZW5kb3IgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHZlbmRvciA9PT0gJ3N0YW5kYXJkJykge1xuICAgIGlmIChzdHlsZSA9PT0gJ3RyYW5zaXRpb25FbmQnKSB7XG4gICAgICByZXR1cm4gJ3RyYW5zaXRpb25lbmQnO1xuICAgIH1cbiAgICByZXR1cm4gc3R5bGU7XG4gIH1cblxuICByZXR1cm4gdmVuZG9yICsgc3R5bGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHlsZS5zdWJzdHIoMSk7XG59XG5cbmZ1bmN0aW9uIGFkZEV2ZW50KGVsLCB0eXBlLCBmbiwgY2FwdHVyZSkge1xuICBlbC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGZuLCB7IHBhc3NpdmU6IGZhbHNlLCBjYXB0dXJlOiAhIWNhcHR1cmUgfSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50KGVsLCB0eXBlLCBmbiwgY2FwdHVyZSkge1xuICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGZuLCB7IHBhc3NpdmU6IGZhbHNlLCBjYXB0dXJlOiAhIWNhcHR1cmUgfSk7XG59XG5cbmZ1bmN0aW9uIG9mZnNldChlbCkge1xuICB2YXIgbGVmdCA9IDA7XG4gIHZhciB0b3AgPSAwO1xuXG4gIHdoaWxlIChlbCkge1xuICAgIGxlZnQgLT0gZWwub2Zmc2V0TGVmdDtcbiAgICB0b3AgLT0gZWwub2Zmc2V0VG9wO1xuICAgIGVsID0gZWwub2Zmc2V0UGFyZW50O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBsZWZ0OiBsZWZ0LFxuICAgIHRvcDogdG9wXG4gIH07XG59XG5cbmZ1bmN0aW9uIG9mZnNldFRvQm9keShlbCkge1xuICB2YXIgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gIHJldHVybiB7XG4gICAgbGVmdDogLShyZWN0LmxlZnQgKyB3aW5kb3cucGFnZVhPZmZzZXQpLFxuICAgIHRvcDogLShyZWN0LnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldClcbiAgfTtcbn1cblxudmFyIGNzc1ZlbmRvciA9IHZlbmRvciAmJiB2ZW5kb3IgIT09ICdzdGFuZGFyZCcgPyAnLScgKyB2ZW5kb3IudG9Mb3dlckNhc2UoKSArICctJyA6ICcnO1xuXG52YXIgdHJhbnNmb3JtID0gcHJlZml4U3R5bGUoJ3RyYW5zZm9ybScpO1xudmFyIHRyYW5zaXRpb24gPSBwcmVmaXhTdHlsZSgndHJhbnNpdGlvbicpO1xuXG52YXIgaGFzUGVyc3BlY3RpdmUgPSBpbkJyb3dzZXIgJiYgcHJlZml4U3R5bGUoJ3BlcnNwZWN0aXZlJykgaW4gZWxlbWVudFN0eWxlO1xuLy8gZml4IGlzc3VlICMzNjFcbnZhciBoYXNUb3VjaCA9IGluQnJvd3NlciAmJiAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8IGlzV2VDaGF0RGV2VG9vbHMpO1xudmFyIGhhc1RyYW5zZm9ybSA9IHRyYW5zZm9ybSAhPT0gZmFsc2U7XG52YXIgaGFzVHJhbnNpdGlvbiA9IGluQnJvd3NlciAmJiB0cmFuc2l0aW9uIGluIGVsZW1lbnRTdHlsZTtcblxudmFyIHN0eWxlID0ge1xuICB0cmFuc2Zvcm06IHRyYW5zZm9ybSxcbiAgdHJhbnNpdGlvbjogdHJhbnNpdGlvbixcbiAgdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uOiBwcmVmaXhTdHlsZSgndHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uJyksXG4gIHRyYW5zaXRpb25EdXJhdGlvbjogcHJlZml4U3R5bGUoJ3RyYW5zaXRpb25EdXJhdGlvbicpLFxuICB0cmFuc2l0aW9uRGVsYXk6IHByZWZpeFN0eWxlKCd0cmFuc2l0aW9uRGVsYXknKSxcbiAgdHJhbnNmb3JtT3JpZ2luOiBwcmVmaXhTdHlsZSgndHJhbnNmb3JtT3JpZ2luJyksXG4gIHRyYW5zaXRpb25FbmQ6IHByZWZpeFN0eWxlKCd0cmFuc2l0aW9uRW5kJylcbn07XG5cbnZhciBUT1VDSF9FVkVOVCA9IDE7XG52YXIgTU9VU0VfRVZFTlQgPSAyO1xuXG52YXIgZXZlbnRUeXBlID0ge1xuICB0b3VjaHN0YXJ0OiBUT1VDSF9FVkVOVCxcbiAgdG91Y2htb3ZlOiBUT1VDSF9FVkVOVCxcbiAgdG91Y2hlbmQ6IFRPVUNIX0VWRU5ULFxuXG4gIG1vdXNlZG93bjogTU9VU0VfRVZFTlQsXG4gIG1vdXNlbW92ZTogTU9VU0VfRVZFTlQsXG4gIG1vdXNldXA6IE1PVVNFX0VWRU5UXG59O1xuXG5mdW5jdGlvbiBnZXRSZWN0KGVsKSB7XG4gIGlmIChlbCBpbnN0YW5jZW9mIHdpbmRvdy5TVkdFbGVtZW50KSB7XG4gICAgdmFyIHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiByZWN0LnRvcCxcbiAgICAgIGxlZnQ6IHJlY3QubGVmdCxcbiAgICAgIHdpZHRoOiByZWN0LndpZHRoLFxuICAgICAgaGVpZ2h0OiByZWN0LmhlaWdodFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogZWwub2Zmc2V0VG9wLFxuICAgICAgbGVmdDogZWwub2Zmc2V0TGVmdCxcbiAgICAgIHdpZHRoOiBlbC5vZmZzZXRXaWR0aCxcbiAgICAgIGhlaWdodDogZWwub2Zmc2V0SGVpZ2h0XG4gICAgfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwcmV2ZW50RGVmYXVsdEV4Y2VwdGlvbihlbCwgZXhjZXB0aW9ucykge1xuICBmb3IgKHZhciBpIGluIGV4Y2VwdGlvbnMpIHtcbiAgICBpZiAoZXhjZXB0aW9uc1tpXS50ZXN0KGVsW2ldKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gdGFwKGUsIGV2ZW50TmFtZSkge1xuICB2YXIgZXYgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgZXYuaW5pdEV2ZW50KGV2ZW50TmFtZSwgdHJ1ZSwgdHJ1ZSk7XG4gIGV2LnBhZ2VYID0gZS5wYWdlWDtcbiAgZXYucGFnZVkgPSBlLnBhZ2VZO1xuICBlLnRhcmdldC5kaXNwYXRjaEV2ZW50KGV2KTtcbn1cblxuZnVuY3Rpb24gY2xpY2soZSkge1xuICB2YXIgZXZlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdjbGljayc7XG5cbiAgdmFyIGV2ZW50U291cmNlID0gdm9pZCAwO1xuICBpZiAoZS50eXBlID09PSAnbW91c2V1cCcgfHwgZS50eXBlID09PSAnbW91c2VjYW5jZWwnKSB7XG4gICAgZXZlbnRTb3VyY2UgPSBlO1xuICB9IGVsc2UgaWYgKGUudHlwZSA9PT0gJ3RvdWNoZW5kJyB8fCBlLnR5cGUgPT09ICd0b3VjaGNhbmNlbCcpIHtcbiAgICBldmVudFNvdXJjZSA9IGUuY2hhbmdlZFRvdWNoZXNbMF07XG4gIH1cbiAgdmFyIHBvc1NyYyA9IHt9O1xuICBpZiAoZXZlbnRTb3VyY2UpIHtcbiAgICBwb3NTcmMuc2NyZWVuWCA9IGV2ZW50U291cmNlLnNjcmVlblggfHwgMDtcbiAgICBwb3NTcmMuc2NyZWVuWSA9IGV2ZW50U291cmNlLnNjcmVlblkgfHwgMDtcbiAgICBwb3NTcmMuY2xpZW50WCA9IGV2ZW50U291cmNlLmNsaWVudFggfHwgMDtcbiAgICBwb3NTcmMuY2xpZW50WSA9IGV2ZW50U291cmNlLmNsaWVudFkgfHwgMDtcbiAgfVxuICB2YXIgZXYgPSB2b2lkIDA7XG4gIHZhciBidWJibGVzID0gdHJ1ZTtcbiAgdmFyIGNhbmNlbGFibGUgPSB0cnVlO1xuICBpZiAodHlwZW9mIE1vdXNlRXZlbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgdHJ5IHtcbiAgICAgIGV2ID0gbmV3IE1vdXNlRXZlbnQoZXZlbnQsIGV4dGVuZCh7XG4gICAgICAgIGJ1YmJsZXM6IGJ1YmJsZXMsXG4gICAgICAgIGNhbmNlbGFibGU6IGNhbmNlbGFibGVcbiAgICAgIH0sIHBvc1NyYykpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNyZWF0ZUV2ZW50KCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNyZWF0ZUV2ZW50KCk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVFdmVudCgpIHtcbiAgICBldiA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgIGV2LmluaXRFdmVudChldmVudCwgYnViYmxlcywgY2FuY2VsYWJsZSk7XG4gICAgZXh0ZW5kKGV2LCBwb3NTcmMpO1xuICB9XG5cbiAgLy8gZm9yd2FyZGVkVG91Y2hFdmVudCBzZXQgdG8gdHJ1ZSBpbiBjYXNlIG9mIHRoZSBjb25mbGljdCB3aXRoIGZhc3RjbGlja1xuICBldi5mb3J3YXJkZWRUb3VjaEV2ZW50ID0gdHJ1ZTtcbiAgZXYuX2NvbnN0cnVjdGVkID0gdHJ1ZTtcbiAgZS50YXJnZXQuZGlzcGF0Y2hFdmVudChldik7XG59XG5cbmZ1bmN0aW9uIGRibGNsaWNrKGUpIHtcbiAgY2xpY2soZSwgJ2RibGNsaWNrJyk7XG59XG5cbmZ1bmN0aW9uIHByZXBlbmQoZWwsIHRhcmdldCkge1xuICBpZiAodGFyZ2V0LmZpcnN0Q2hpbGQpIHtcbiAgICBiZWZvcmUoZWwsIHRhcmdldC5maXJzdENoaWxkKTtcbiAgfSBlbHNlIHtcbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoZWwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGJlZm9yZShlbCwgdGFyZ2V0KSB7XG4gIHRhcmdldC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlbCwgdGFyZ2V0KTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQ2hpbGQoZWwsIGNoaWxkKSB7XG4gIGVsLnJlbW92ZUNoaWxkKGNoaWxkKTtcbn1cblxudmFyIERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgc3RhcnRYOiAwLFxuICBzdGFydFk6IDAsXG4gIHNjcm9sbFg6IGZhbHNlLFxuICBzY3JvbGxZOiB0cnVlLFxuICBmcmVlU2Nyb2xsOiBmYWxzZSxcbiAgZGlyZWN0aW9uTG9ja1RocmVzaG9sZDogNSxcbiAgZXZlbnRQYXNzdGhyb3VnaDogJycsXG4gIGNsaWNrOiBmYWxzZSxcbiAgdGFwOiBmYWxzZSxcbiAgLyoqXG4gICAqIHN1cHBvcnQgYW55IHNpZGVcbiAgICogYm91bmNlOiB7XG4gICAqICAgdG9wOiB0cnVlLFxuICAgKiAgIGJvdHRvbTogdHJ1ZSxcbiAgICogICBsZWZ0OiB0cnVlLFxuICAgKiAgIHJpZ2h0OiB0cnVlXG4gICAqIH1cbiAgICovXG4gIGJvdW5jZTogdHJ1ZSxcbiAgYm91bmNlVGltZTogODAwLFxuICBtb21lbnR1bTogdHJ1ZSxcbiAgbW9tZW50dW1MaW1pdFRpbWU6IDMwMCxcbiAgbW9tZW50dW1MaW1pdERpc3RhbmNlOiAxNSxcbiAgc3dpcGVUaW1lOiAyNTAwLFxuICBzd2lwZUJvdW5jZVRpbWU6IDUwMCxcbiAgZGVjZWxlcmF0aW9uOiAwLjAwMTUsXG4gIGZsaWNrTGltaXRUaW1lOiAyMDAsXG4gIGZsaWNrTGltaXREaXN0YW5jZTogMTAwLFxuICByZXNpemVQb2xsaW5nOiA2MCxcbiAgcHJvYmVUeXBlOiAwLFxuICBwcmV2ZW50RGVmYXVsdDogdHJ1ZSxcbiAgcHJldmVudERlZmF1bHRFeGNlcHRpb246IHtcbiAgICB0YWdOYW1lOiAvXihJTlBVVHxURVhUQVJFQXxCVVRUT058U0VMRUNUfEFVRElPKSQvXG4gIH0sXG4gIEhXQ29tcG9zaXRpbmc6IHRydWUsXG4gIHVzZVRyYW5zaXRpb246IHRydWUsXG4gIHVzZVRyYW5zZm9ybTogdHJ1ZSxcbiAgYmluZFRvV3JhcHBlcjogZmFsc2UsXG4gIGRpc2FibGVNb3VzZTogaGFzVG91Y2gsXG4gIGRpc2FibGVUb3VjaDogIWhhc1RvdWNoLFxuICBvYnNlcnZlRE9NOiB0cnVlLFxuICBhdXRvQmx1cjogdHJ1ZSxcbiAgLyoqXG4gICAqIGZvciBwaWNrZXJcbiAgICogd2hlZWw6IHtcbiAgICogICBzZWxlY3RlZEluZGV4OiAwLFxuICAgKiAgIHJvdGF0ZTogMjUsXG4gICAqICAgYWRqdXN0VGltZTogNDAwXG4gICAqICAgd2hlZWxXcmFwcGVyQ2xhc3M6ICd3aGVlbC1zY3JvbGwnLFxuICAgKiAgIHdoZWVsSXRlbUNsYXNzOiAnd2hlZWwtaXRlbSdcbiAgICogfVxuICAgKi9cbiAgd2hlZWw6IGZhbHNlLFxuICAvKipcbiAgICogZm9yIHNsaWRlXG4gICAqIHNuYXA6IHtcbiAgICogICBsb29wOiBmYWxzZSxcbiAgICogICBlbDogZG9tRWwsXG4gICAqICAgdGhyZXNob2xkOiAwLjEsXG4gICAqICAgc3RlcFg6IDEwMCxcbiAgICogICBzdGVwWTogMTAwLFxuICAgKiAgIHNwZWVkOiA0MDAsXG4gICAqICAgZWFzaW5nOiB7XG4gICAqICAgICBzdHlsZTogJ2N1YmljLWJlemllcigwLjI1LCAwLjQ2LCAwLjQ1LCAwLjk0KScsXG4gICAqICAgICBmbjogZnVuY3Rpb24gKHQpIHtcbiAgICogICAgICAgcmV0dXJuIHQgKiAoMiAtIHQpXG4gICAqICAgICB9XG4gICAqICAgfVxuICAgKiAgIGxpc3RlbkZsaWNrOiB0cnVlXG4gICAqIH1cbiAgICovXG4gIHNuYXA6IGZhbHNlLFxuICAvKipcbiAgICogZm9yIHNjcm9sbGJhclxuICAgKiBzY3JvbGxiYXI6IHtcbiAgICogICBmYWRlOiB0cnVlLFxuICAgKiAgIGludGVyYWN0aXZlOiBmYWxzZVxuICAgKiB9XG4gICAqL1xuICBzY3JvbGxiYXI6IGZhbHNlLFxuICAvKipcbiAgICogZm9yIHB1bGwgZG93biBhbmQgcmVmcmVzaFxuICAgKiBwdWxsRG93blJlZnJlc2g6IHtcbiAgICogICB0aHJlc2hvbGQ6IDUwLFxuICAgKiAgIHN0b3A6IDIwXG4gICAqIH1cbiAgICovXG4gIHB1bGxEb3duUmVmcmVzaDogZmFsc2UsXG4gIC8qKlxuICAgKiBmb3IgcHVsbCB1cCBhbmQgbG9hZFxuICAgKiBwdWxsVXBMb2FkOiB7XG4gICAqICAgdGhyZXNob2xkOiA1MFxuICAgKiB9XG4gICAqL1xuICBwdWxsVXBMb2FkOiBmYWxzZSxcbiAgLyoqXG4gICAqIGZvciBtb3VzZSB3aGVlbFxuICAgKiBtb3VzZVdoZWVsOiB7XG4gICAqICAgc3BlZWQ6IDIwLFxuICAgKiAgIGludmVydDogZmFsc2UsXG4gICAqICAgZWFzZVRpbWU6IDMwMFxuICAgKiB9XG4gICAqL1xuICBtb3VzZVdoZWVsOiBmYWxzZSxcbiAgc3RvcFByb3BhZ2F0aW9uOiBmYWxzZSxcbiAgLyoqXG4gICAqIGZvciB6b29tXG4gICAqIHpvb206IHtcbiAgICogICBzdGFydDogMSxcbiAgICogICBtaW46IDEsXG4gICAqICAgbWF4OiA0XG4gICAqIH1cbiAgICovXG4gIHpvb206IGZhbHNlLFxuICAvKipcbiAgICogZm9yIGluZmluaXR5XG4gICAqIGluZmluaXR5OiB7XG4gICAqICAgcmVuZGVyKGl0ZW0sIGRpdikge1xuICAgKiAgIH0sXG4gICAqICAgY3JlYXRlVG9tYnN0b25lKCkge1xuICAgKiAgIH0sXG4gICAqICAgZmV0Y2goY291bnQpIHtcbiAgICogICB9XG4gICAqIH1cbiAgICovXG4gIGluZmluaXR5OiBmYWxzZSxcbiAgLyoqXG4gICAqIGZvciBkb3VibGUgY2xpY2tcbiAgICogZGJsY2xpY2s6IHtcbiAgICogICBkZWxheTogMzAwXG4gICAqIH1cbiAgICovXG4gIGRibGNsaWNrOiBmYWxzZVxufTtcblxuZnVuY3Rpb24gaW5pdE1peGluKEJTY3JvbGwpIHtcbiAgQlNjcm9sbC5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHRoaXMuX2hhbmRsZU9wdGlvbnMob3B0aW9ucyk7XG5cbiAgICAvLyBpbml0IHByaXZhdGUgY3VzdG9tIGV2ZW50c1xuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gICAgdGhpcy54ID0gMDtcbiAgICB0aGlzLnkgPSAwO1xuICAgIHRoaXMuZGlyZWN0aW9uWCA9IDA7XG4gICAgdGhpcy5kaXJlY3Rpb25ZID0gMDtcblxuICAgIHRoaXMuc2V0U2NhbGUoMSk7XG5cbiAgICB0aGlzLl9hZGRET01FdmVudHMoKTtcblxuICAgIHRoaXMuX2luaXRFeHRGZWF0dXJlcygpO1xuXG4gICAgdGhpcy5fd2F0Y2hUcmFuc2l0aW9uKCk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLm9ic2VydmVET00pIHtcbiAgICAgIHRoaXMuX2luaXRET01PYnNlcnZlcigpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b0JsdXIpIHtcbiAgICAgIHRoaXMuX2hhbmRsZUF1dG9CbHVyKCk7XG4gICAgfVxuXG4gICAgdGhpcy5yZWZyZXNoKCk7XG5cbiAgICBpZiAoIXRoaXMub3B0aW9ucy5zbmFwKSB7XG4gICAgICB0aGlzLnNjcm9sbFRvKHRoaXMub3B0aW9ucy5zdGFydFgsIHRoaXMub3B0aW9ucy5zdGFydFkpO1xuICAgIH1cblxuICAgIHRoaXMuZW5hYmxlKCk7XG4gIH07XG5cbiAgQlNjcm9sbC5wcm90b3R5cGUuc2V0U2NhbGUgPSBmdW5jdGlvbiAoc2NhbGUpIHtcbiAgICB0aGlzLmxhc3RTY2FsZSA9IGlzVW5kZWYodGhpcy5zY2FsZSkgPyBzY2FsZSA6IHRoaXMuc2NhbGU7XG4gICAgdGhpcy5zY2FsZSA9IHNjYWxlO1xuICB9O1xuXG4gIEJTY3JvbGwucHJvdG90eXBlLl9oYW5kbGVPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBleHRlbmQoe30sIERFRkFVTFRfT1BUSU9OUywgb3B0aW9ucyk7XG5cbiAgICB0aGlzLnRyYW5zbGF0ZVogPSB0aGlzLm9wdGlvbnMuSFdDb21wb3NpdGluZyAmJiBoYXNQZXJzcGVjdGl2ZSA/ICcgdHJhbnNsYXRlWigwKScgOiAnJztcblxuICAgIHRoaXMub3B0aW9ucy51c2VUcmFuc2l0aW9uID0gdGhpcy5vcHRpb25zLnVzZVRyYW5zaXRpb24gJiYgaGFzVHJhbnNpdGlvbjtcbiAgICB0aGlzLm9wdGlvbnMudXNlVHJhbnNmb3JtID0gdGhpcy5vcHRpb25zLnVzZVRyYW5zZm9ybSAmJiBoYXNUcmFuc2Zvcm07XG5cbiAgICB0aGlzLm9wdGlvbnMucHJldmVudERlZmF1bHQgPSAhdGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2ggJiYgdGhpcy5vcHRpb25zLnByZXZlbnREZWZhdWx0O1xuXG4gICAgLy8gSWYgeW91IHdhbnQgZXZlbnRQYXNzdGhyb3VnaCBJIGhhdmUgdG8gbG9jayBvbmUgb2YgdGhlIGF4ZXNcbiAgICB0aGlzLm9wdGlvbnMuc2Nyb2xsWCA9IHRoaXMub3B0aW9ucy5ldmVudFBhc3N0aHJvdWdoID09PSAnaG9yaXpvbnRhbCcgPyBmYWxzZSA6IHRoaXMub3B0aW9ucy5zY3JvbGxYO1xuICAgIHRoaXMub3B0aW9ucy5zY3JvbGxZID0gdGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2ggPT09ICd2ZXJ0aWNhbCcgPyBmYWxzZSA6IHRoaXMub3B0aW9ucy5zY3JvbGxZO1xuXG4gICAgLy8gV2l0aCBldmVudFBhc3N0aHJvdWdoIHdlIGFsc28gbmVlZCBsb2NrRGlyZWN0aW9uIG1lY2hhbmlzbVxuICAgIHRoaXMub3B0aW9ucy5mcmVlU2Nyb2xsID0gdGhpcy5vcHRpb25zLmZyZWVTY3JvbGwgJiYgIXRoaXMub3B0aW9ucy5ldmVudFBhc3N0aHJvdWdoO1xuICAgIHRoaXMub3B0aW9ucy5kaXJlY3Rpb25Mb2NrVGhyZXNob2xkID0gdGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2ggPyAwIDogdGhpcy5vcHRpb25zLmRpcmVjdGlvbkxvY2tUaHJlc2hvbGQ7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnRhcCA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5vcHRpb25zLnRhcCA9ICd0YXAnO1xuICAgIH1cbiAgfTtcblxuICBCU2Nyb2xsLnByb3RvdHlwZS5fYWRkRE9NRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBldmVudE9wZXJhdGlvbiA9IGFkZEV2ZW50O1xuICAgIHRoaXMuX2hhbmRsZURPTUV2ZW50cyhldmVudE9wZXJhdGlvbik7XG4gIH07XG5cbiAgQlNjcm9sbC5wcm90b3R5cGUuX3JlbW92ZURPTUV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXZlbnRPcGVyYXRpb24gPSByZW1vdmVFdmVudDtcbiAgICB0aGlzLl9oYW5kbGVET01FdmVudHMoZXZlbnRPcGVyYXRpb24pO1xuICB9O1xuXG4gIEJTY3JvbGwucHJvdG90eXBlLl9oYW5kbGVET01FdmVudHMgPSBmdW5jdGlvbiAoZXZlbnRPcGVyYXRpb24pIHtcbiAgICB2YXIgdGFyZ2V0ID0gdGhpcy5vcHRpb25zLmJpbmRUb1dyYXBwZXIgPyB0aGlzLndyYXBwZXIgOiB3aW5kb3c7XG4gICAgZXZlbnRPcGVyYXRpb24od2luZG93LCAnb3JpZW50YXRpb25jaGFuZ2UnLCB0aGlzKTtcbiAgICBldmVudE9wZXJhdGlvbih3aW5kb3csICdyZXNpemUnLCB0aGlzKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuY2xpY2spIHtcbiAgICAgIGV2ZW50T3BlcmF0aW9uKHRoaXMud3JhcHBlciwgJ2NsaWNrJywgdGhpcywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuZGlzYWJsZU1vdXNlKSB7XG4gICAgICBldmVudE9wZXJhdGlvbih0aGlzLndyYXBwZXIsICdtb3VzZWRvd24nLCB0aGlzKTtcbiAgICAgIGV2ZW50T3BlcmF0aW9uKHRhcmdldCwgJ21vdXNlbW92ZScsIHRoaXMpO1xuICAgICAgZXZlbnRPcGVyYXRpb24odGFyZ2V0LCAnbW91c2VjYW5jZWwnLCB0aGlzKTtcbiAgICAgIGV2ZW50T3BlcmF0aW9uKHRhcmdldCwgJ21vdXNldXAnLCB0aGlzKTtcbiAgICB9XG5cbiAgICBpZiAoaGFzVG91Y2ggJiYgIXRoaXMub3B0aW9ucy5kaXNhYmxlVG91Y2gpIHtcbiAgICAgIGV2ZW50T3BlcmF0aW9uKHRoaXMud3JhcHBlciwgJ3RvdWNoc3RhcnQnLCB0aGlzKTtcbiAgICAgIGV2ZW50T3BlcmF0aW9uKHRhcmdldCwgJ3RvdWNobW92ZScsIHRoaXMpO1xuICAgICAgZXZlbnRPcGVyYXRpb24odGFyZ2V0LCAndG91Y2hjYW5jZWwnLCB0aGlzKTtcbiAgICAgIGV2ZW50T3BlcmF0aW9uKHRhcmdldCwgJ3RvdWNoZW5kJywgdGhpcyk7XG4gICAgfVxuXG4gICAgZXZlbnRPcGVyYXRpb24odGhpcy5zY3JvbGxlciwgc3R5bGUudHJhbnNpdGlvbkVuZCwgdGhpcyk7XG4gIH07XG5cbiAgQlNjcm9sbC5wcm90b3R5cGUuX2luaXRFeHRGZWF0dXJlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLnNuYXApIHtcbiAgICAgIHRoaXMuX2luaXRTbmFwKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMuc2Nyb2xsYmFyKSB7XG4gICAgICB0aGlzLl9pbml0U2Nyb2xsYmFyKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMucHVsbFVwTG9hZCkge1xuICAgICAgdGhpcy5faW5pdFB1bGxVcCgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zLnB1bGxEb3duUmVmcmVzaCkge1xuICAgICAgdGhpcy5faW5pdFB1bGxEb3duKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMud2hlZWwpIHtcbiAgICAgIHRoaXMuX2luaXRXaGVlbCgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zLm1vdXNlV2hlZWwpIHtcbiAgICAgIHRoaXMuX2luaXRNb3VzZVdoZWVsKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMuem9vbSkge1xuICAgICAgdGhpcy5faW5pdFpvb20oKTtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5pbmZpbml0eSkge1xuICAgICAgdGhpcy5faW5pdEluZmluaXRlKCk7XG4gICAgfVxuICB9O1xuXG4gIEJTY3JvbGwucHJvdG90eXBlLl93YXRjaFRyYW5zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHR5cGVvZiBPYmplY3QuZGVmaW5lUHJvcGVydHkgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG1lID0gdGhpcztcbiAgICB2YXIgaXNJblRyYW5zaXRpb24gPSBmYWxzZTtcbiAgICB2YXIga2V5ID0gdGhpcy5vcHRpb25zLnVzZVRyYW5zaXRpb24gPyAnaXNJblRyYW5zaXRpb24nIDogJ2lzQW5pbWF0aW5nJztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywga2V5LCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIGlzSW5UcmFuc2l0aW9uO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KG5ld1ZhbCkge1xuICAgICAgICBpc0luVHJhbnNpdGlvbiA9IG5ld1ZhbDtcbiAgICAgICAgLy8gZml4IGlzc3VlICMzNTlcbiAgICAgICAgdmFyIGVsID0gbWUuc2Nyb2xsZXIuY2hpbGRyZW4ubGVuZ3RoID8gbWUuc2Nyb2xsZXIuY2hpbGRyZW4gOiBbbWUuc2Nyb2xsZXJdO1xuICAgICAgICB2YXIgcG9pbnRlckV2ZW50cyA9IGlzSW5UcmFuc2l0aW9uICYmICFtZS5wdWxsaW5nID8gJ25vbmUnIDogJ2F1dG8nO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgZWxbaV0uc3R5bGUucG9pbnRlckV2ZW50cyA9IHBvaW50ZXJFdmVudHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBCU2Nyb2xsLnByb3RvdHlwZS5faGFuZGxlQXV0b0JsdXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5vbignc2Nyb2xsU3RhcnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICBpZiAoYWN0aXZlRWxlbWVudCAmJiAoYWN0aXZlRWxlbWVudC50YWdOYW1lID09PSAnSU5QVVQnIHx8IGFjdGl2ZUVsZW1lbnQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJykpIHtcbiAgICAgICAgYWN0aXZlRWxlbWVudC5ibHVyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgQlNjcm9sbC5wcm90b3R5cGUuX2luaXRET01PYnNlcnZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKHR5cGVvZiBNdXRhdGlvbk9ic2VydmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHRpbWVyID0gdm9pZCAwO1xuICAgICAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykge1xuICAgICAgICAvLyBkb24ndCBkbyBhbnkgcmVmcmVzaCBkdXJpbmcgdGhlIHRyYW5zaXRpb24sIG9yIG91dHNpZGUgb2YgdGhlIGJvdW5kYXJpZXNcbiAgICAgICAgaWYgKF90aGlzLl9zaG91bGROb3RSZWZyZXNoKCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGltbWVkaWF0ZVJlZnJlc2ggPSBmYWxzZTtcbiAgICAgICAgdmFyIGRlZmVycmVkUmVmcmVzaCA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG11dGF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBtdXRhdGlvbiA9IG11dGF0aW9uc1tpXTtcbiAgICAgICAgICBpZiAobXV0YXRpb24udHlwZSAhPT0gJ2F0dHJpYnV0ZXMnKSB7XG4gICAgICAgICAgICBpbW1lZGlhdGVSZWZyZXNoID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAobXV0YXRpb24udGFyZ2V0ICE9PSBfdGhpcy5zY3JvbGxlcikge1xuICAgICAgICAgICAgICBkZWZlcnJlZFJlZnJlc2ggPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGltbWVkaWF0ZVJlZnJlc2gpIHtcbiAgICAgICAgICBfdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGVmZXJyZWRSZWZyZXNoKSB7XG4gICAgICAgICAgLy8gYXR0cmlidXRlcyBjaGFuZ2VzIHRvbyBvZnRlblxuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuX3Nob3VsZE5vdFJlZnJlc2goKSkge1xuICAgICAgICAgICAgICBfdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgNjApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHZhciBjb25maWcgPSB7XG4gICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgICAgc3VidHJlZTogdHJ1ZVxuICAgICAgfTtcbiAgICAgIG9ic2VydmVyLm9ic2VydmUodGhpcy5zY3JvbGxlciwgY29uZmlnKTtcblxuICAgICAgdGhpcy5vbignZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2NoZWNrRE9NVXBkYXRlKCk7XG4gICAgfVxuICB9O1xuXG4gIEJTY3JvbGwucHJvdG90eXBlLl9zaG91bGROb3RSZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBvdXRzaWRlQm91bmRhcmllcyA9IHRoaXMueCA+IHRoaXMubWluU2Nyb2xsWCB8fCB0aGlzLnggPCB0aGlzLm1heFNjcm9sbFggfHwgdGhpcy55ID4gdGhpcy5taW5TY3JvbGxZIHx8IHRoaXMueSA8IHRoaXMubWF4U2Nyb2xsWTtcblxuICAgIHJldHVybiB0aGlzLmlzSW5UcmFuc2l0aW9uIHx8IHRoaXMuc3RvcEZyb21UcmFuc2l0aW9uIHx8IG91dHNpZGVCb3VuZGFyaWVzO1xuICB9O1xuXG4gIEJTY3JvbGwucHJvdG90eXBlLl9jaGVja0RPTVVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2Nyb2xsZXJSZWN0ID0gZ2V0UmVjdCh0aGlzLnNjcm9sbGVyKTtcbiAgICB2YXIgb2xkV2lkdGggPSBzY3JvbGxlclJlY3Qud2lkdGg7XG4gICAgdmFyIG9sZEhlaWdodCA9IHNjcm9sbGVyUmVjdC5oZWlnaHQ7XG5cbiAgICBmdW5jdGlvbiBjaGVjaygpIHtcbiAgICAgIGlmICh0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzY3JvbGxlclJlY3QgPSBnZXRSZWN0KHRoaXMuc2Nyb2xsZXIpO1xuICAgICAgdmFyIG5ld1dpZHRoID0gc2Nyb2xsZXJSZWN0LndpZHRoO1xuICAgICAgdmFyIG5ld0hlaWdodCA9IHNjcm9sbGVyUmVjdC5oZWlnaHQ7XG5cbiAgICAgIGlmIChvbGRXaWR0aCAhPT0gbmV3V2lkdGggfHwgb2xkSGVpZ2h0ICE9PSBuZXdIZWlnaHQpIHtcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICB9XG4gICAgICBvbGRXaWR0aCA9IG5ld1dpZHRoO1xuICAgICAgb2xkSGVpZ2h0ID0gbmV3SGVpZ2h0O1xuXG4gICAgICBuZXh0LmNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2hlY2suY2FsbChfdGhpczIpO1xuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuXG4gICAgbmV4dC5jYWxsKHRoaXMpO1xuICB9O1xuXG4gIEJTY3JvbGwucHJvdG90eXBlLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24gKGUpIHtcbiAgICBzd2l0Y2ggKGUudHlwZSkge1xuICAgICAgY2FzZSAndG91Y2hzdGFydCc6XG4gICAgICBjYXNlICdtb3VzZWRvd24nOlxuICAgICAgICB0aGlzLl9zdGFydChlKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy56b29tICYmIGUudG91Y2hlcyAmJiBlLnRvdWNoZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHRoaXMuX3pvb21TdGFydChlKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RvdWNobW92ZSc6XG4gICAgICBjYXNlICdtb3VzZW1vdmUnOlxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnpvb20gJiYgZS50b3VjaGVzICYmIGUudG91Y2hlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgdGhpcy5fem9vbShlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9tb3ZlKGUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndG91Y2hlbmQnOlxuICAgICAgY2FzZSAnbW91c2V1cCc6XG4gICAgICBjYXNlICd0b3VjaGNhbmNlbCc6XG4gICAgICBjYXNlICdtb3VzZWNhbmNlbCc6XG4gICAgICAgIGlmICh0aGlzLnNjYWxlZCkge1xuICAgICAgICAgIHRoaXMuX3pvb21FbmQoZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fZW5kKGUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnb3JpZW50YXRpb25jaGFuZ2UnOlxuICAgICAgY2FzZSAncmVzaXplJzpcbiAgICAgICAgdGhpcy5fcmVzaXplKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndHJhbnNpdGlvbmVuZCc6XG4gICAgICBjYXNlICd3ZWJraXRUcmFuc2l0aW9uRW5kJzpcbiAgICAgIGNhc2UgJ29UcmFuc2l0aW9uRW5kJzpcbiAgICAgIGNhc2UgJ01TVHJhbnNpdGlvbkVuZCc6XG4gICAgICAgIHRoaXMuX3RyYW5zaXRpb25FbmQoZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnY2xpY2snOlxuICAgICAgICBpZiAodGhpcy5lbmFibGVkICYmICFlLl9jb25zdHJ1Y3RlZCkge1xuICAgICAgICAgIGlmICghcHJldmVudERlZmF1bHRFeGNlcHRpb24oZS50YXJnZXQsIHRoaXMub3B0aW9ucy5wcmV2ZW50RGVmYXVsdEV4Y2VwdGlvbikpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnd2hlZWwnOlxuICAgICAgY2FzZSAnRE9NTW91c2VTY3JvbGwnOlxuICAgICAgY2FzZSAnbW91c2V3aGVlbCc6XG4gICAgICAgIHRoaXMuX29uTW91c2VXaGVlbChlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9O1xuXG4gIEJTY3JvbGwucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGlzV3JhcHBlclN0YXRpYyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMud3JhcHBlciwgbnVsbCkucG9zaXRpb24gPT09ICdzdGF0aWMnO1xuICAgIHZhciB3cmFwcGVyUmVjdCA9IGdldFJlY3QodGhpcy53cmFwcGVyKTtcbiAgICB0aGlzLndyYXBwZXJXaWR0aCA9IHdyYXBwZXJSZWN0LndpZHRoO1xuICAgIHRoaXMud3JhcHBlckhlaWdodCA9IHdyYXBwZXJSZWN0LmhlaWdodDtcblxuICAgIHZhciBzY3JvbGxlclJlY3QgPSBnZXRSZWN0KHRoaXMuc2Nyb2xsZXIpO1xuICAgIHRoaXMuc2Nyb2xsZXJXaWR0aCA9IE1hdGgucm91bmQoc2Nyb2xsZXJSZWN0LndpZHRoICogdGhpcy5zY2FsZSk7XG4gICAgdGhpcy5zY3JvbGxlckhlaWdodCA9IE1hdGgucm91bmQoc2Nyb2xsZXJSZWN0LmhlaWdodCAqIHRoaXMuc2NhbGUpO1xuXG4gICAgdGhpcy5yZWxhdGl2ZVggPSBzY3JvbGxlclJlY3QubGVmdDtcbiAgICB0aGlzLnJlbGF0aXZlWSA9IHNjcm9sbGVyUmVjdC50b3A7XG5cbiAgICBpZiAoaXNXcmFwcGVyU3RhdGljKSB7XG4gICAgICB0aGlzLnJlbGF0aXZlWCAtPSB3cmFwcGVyUmVjdC5sZWZ0O1xuICAgICAgdGhpcy5yZWxhdGl2ZVkgLT0gd3JhcHBlclJlY3QudG9wO1xuICAgIH1cblxuICAgIHRoaXMubWluU2Nyb2xsWCA9IDA7XG4gICAgdGhpcy5taW5TY3JvbGxZID0gMDtcblxuICAgIHZhciB3aGVlbCA9IHRoaXMub3B0aW9ucy53aGVlbDtcbiAgICBpZiAod2hlZWwpIHtcbiAgICAgIHRoaXMuaXRlbXMgPSB0aGlzLnNjcm9sbGVyLmNoaWxkcmVuO1xuICAgICAgLy8gY2hlY2sgd2hldGhlciB0aGVyZSBhcmUgYWxsIGRpc2FibGUgaXRlbXMgb3Igbm90IHdoZW4gcmVmcmVzaFxuICAgICAgdGhpcy5fY2hlY2tXaGVlbEFsbERpc2FibGVkKCk7XG4gICAgICB0aGlzLm9wdGlvbnMuaXRlbUhlaWdodCA9IHRoaXMuaXRlbUhlaWdodCA9IHRoaXMuaXRlbXMubGVuZ3RoID8gdGhpcy5zY3JvbGxlckhlaWdodCAvIHRoaXMuaXRlbXMubGVuZ3RoIDogMDtcbiAgICAgIGlmICh0aGlzLnNlbGVjdGVkSW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSB3aGVlbC5zZWxlY3RlZEluZGV4IHx8IDA7XG4gICAgICB9XG4gICAgICB0aGlzLm9wdGlvbnMuc3RhcnRZID0gLXRoaXMuc2VsZWN0ZWRJbmRleCAqIHRoaXMuaXRlbUhlaWdodDtcblxuICAgICAgdGhpcy5tYXhTY3JvbGxYID0gMDtcbiAgICAgIHRoaXMubWF4U2Nyb2xsWSA9IC10aGlzLml0ZW1IZWlnaHQgKiAodGhpcy5pdGVtcy5sZW5ndGggLSAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tYXhTY3JvbGxYID0gdGhpcy53cmFwcGVyV2lkdGggLSB0aGlzLnNjcm9sbGVyV2lkdGg7XG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy5pbmZpbml0eSkge1xuICAgICAgICB0aGlzLm1heFNjcm9sbFkgPSB0aGlzLndyYXBwZXJIZWlnaHQgLSB0aGlzLnNjcm9sbGVySGVpZ2h0O1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMubWF4U2Nyb2xsWCA8IDApIHtcbiAgICAgICAgdGhpcy5tYXhTY3JvbGxYIC09IHRoaXMucmVsYXRpdmVYO1xuICAgICAgICB0aGlzLm1pblNjcm9sbFggPSAtdGhpcy5yZWxhdGl2ZVg7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc2NhbGUgPiAxKSB7XG4gICAgICAgIHRoaXMubWF4U2Nyb2xsWCA9IHRoaXMubWF4U2Nyb2xsWCAvIDIgLSB0aGlzLnJlbGF0aXZlWDtcbiAgICAgICAgdGhpcy5taW5TY3JvbGxYID0gdGhpcy5tYXhTY3JvbGxYO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMubWF4U2Nyb2xsWSA8IDApIHtcbiAgICAgICAgdGhpcy5tYXhTY3JvbGxZIC09IHRoaXMucmVsYXRpdmVZO1xuICAgICAgICB0aGlzLm1pblNjcm9sbFkgPSAtdGhpcy5yZWxhdGl2ZVk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc2NhbGUgPiAxKSB7XG4gICAgICAgIHRoaXMubWF4U2Nyb2xsWSA9IHRoaXMubWF4U2Nyb2xsWSAvIDIgLSB0aGlzLnJlbGF0aXZlWTtcbiAgICAgICAgdGhpcy5taW5TY3JvbGxZID0gdGhpcy5tYXhTY3JvbGxZO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuaGFzSG9yaXpvbnRhbFNjcm9sbCA9IHRoaXMub3B0aW9ucy5zY3JvbGxYICYmIHRoaXMubWF4U2Nyb2xsWCA8IHRoaXMubWluU2Nyb2xsWDtcbiAgICB0aGlzLmhhc1ZlcnRpY2FsU2Nyb2xsID0gdGhpcy5vcHRpb25zLnNjcm9sbFkgJiYgdGhpcy5tYXhTY3JvbGxZIDwgdGhpcy5taW5TY3JvbGxZO1xuXG4gICAgaWYgKCF0aGlzLmhhc0hvcml6b250YWxTY3JvbGwpIHtcbiAgICAgIHRoaXMubWF4U2Nyb2xsWCA9IHRoaXMubWluU2Nyb2xsWDtcbiAgICAgIHRoaXMuc2Nyb2xsZXJXaWR0aCA9IHRoaXMud3JhcHBlcldpZHRoO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5oYXNWZXJ0aWNhbFNjcm9sbCkge1xuICAgICAgdGhpcy5tYXhTY3JvbGxZID0gdGhpcy5taW5TY3JvbGxZO1xuICAgICAgdGhpcy5zY3JvbGxlckhlaWdodCA9IHRoaXMud3JhcHBlckhlaWdodDtcbiAgICB9XG5cbiAgICB0aGlzLmVuZFRpbWUgPSAwO1xuICAgIHRoaXMuZGlyZWN0aW9uWCA9IDA7XG4gICAgdGhpcy5kaXJlY3Rpb25ZID0gMDtcbiAgICB0aGlzLndyYXBwZXJPZmZzZXQgPSBvZmZzZXQodGhpcy53cmFwcGVyKTtcblxuICAgIHRoaXMudHJpZ2dlcigncmVmcmVzaCcpO1xuXG4gICAgIXRoaXMuc2NhbGVkICYmIHRoaXMucmVzZXRQb3NpdGlvbigpO1xuICB9O1xuXG4gIEJTY3JvbGwucHJvdG90eXBlLmVuYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuICB9O1xuXG4gIEJTY3JvbGwucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gZmFsc2U7XG4gIH07XG59XG5cbnZhciBlYXNlID0ge1xuICAvLyBlYXNlT3V0UXVpbnRcbiAgc3dpcGU6IHtcbiAgICBzdHlsZTogJ2N1YmljLWJlemllcigwLjIzLCAxLCAwLjMyLCAxKScsXG4gICAgZm46IGZ1bmN0aW9uIGZuKHQpIHtcbiAgICAgIHJldHVybiAxICsgLS10ICogdCAqIHQgKiB0ICogdDtcbiAgICB9XG4gIH0sXG4gIC8vIGVhc2VPdXRRdWFyZFxuICBzd2lwZUJvdW5jZToge1xuICAgIHN0eWxlOiAnY3ViaWMtYmV6aWVyKDAuMjUsIDAuNDYsIDAuNDUsIDAuOTQpJyxcbiAgICBmbjogZnVuY3Rpb24gZm4odCkge1xuICAgICAgcmV0dXJuIHQgKiAoMiAtIHQpO1xuICAgIH1cbiAgfSxcbiAgLy8gZWFzZU91dFF1YXJ0XG4gIGJvdW5jZToge1xuICAgIHN0eWxlOiAnY3ViaWMtYmV6aWVyKDAuMTY1LCAwLjg0LCAwLjQ0LCAxKScsXG4gICAgZm46IGZ1bmN0aW9uIGZuKHQpIHtcbiAgICAgIHJldHVybiAxIC0gLS10ICogdCAqIHQgKiB0O1xuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gbW9tZW50dW0oY3VycmVudCwgc3RhcnQsIHRpbWUsIGxvd2VyTWFyZ2luLCB1cHBlck1hcmdpbiwgd3JhcHBlclNpemUsIG9wdGlvbnMsIHNjcm9sbCkge1xuICB2YXIgZGlzdGFuY2UgPSBjdXJyZW50IC0gc3RhcnQ7XG4gIHZhciBzcGVlZCA9IE1hdGguYWJzKGRpc3RhbmNlKSAvIHRpbWU7XG5cbiAgdmFyIGRlY2VsZXJhdGlvbiA9IG9wdGlvbnMuZGVjZWxlcmF0aW9uLFxuICAgICAgaXRlbUhlaWdodCA9IG9wdGlvbnMuaXRlbUhlaWdodCxcbiAgICAgIHN3aXBlQm91bmNlVGltZSA9IG9wdGlvbnMuc3dpcGVCb3VuY2VUaW1lLFxuICAgICAgd2hlZWwgPSBvcHRpb25zLndoZWVsLFxuICAgICAgc3dpcGVUaW1lID0gb3B0aW9ucy5zd2lwZVRpbWU7XG5cbiAgdmFyIGR1cmF0aW9uID0gc3dpcGVUaW1lO1xuICB2YXIgcmF0ZSA9IHdoZWVsID8gNCA6IDE1O1xuXG4gIHZhciBkZXN0aW5hdGlvbiA9IGN1cnJlbnQgKyBzcGVlZCAvIGRlY2VsZXJhdGlvbiAqIChkaXN0YW5jZSA8IDAgPyAtMSA6IDEpO1xuXG4gIGlmICh3aGVlbCAmJiBpdGVtSGVpZ2h0KSB7XG4gICAgZGVzdGluYXRpb24gPSBzY3JvbGwuX2ZpbmROZWFyZXN0VmFsaWRXaGVlbChkZXN0aW5hdGlvbikueTtcbiAgfVxuXG4gIGlmIChkZXN0aW5hdGlvbiA8IGxvd2VyTWFyZ2luKSB7XG4gICAgZGVzdGluYXRpb24gPSB3cmFwcGVyU2l6ZSA/IE1hdGgubWF4KGxvd2VyTWFyZ2luIC0gd3JhcHBlclNpemUgLyA0LCBsb3dlck1hcmdpbiAtIHdyYXBwZXJTaXplIC8gcmF0ZSAqIHNwZWVkKSA6IGxvd2VyTWFyZ2luO1xuICAgIGR1cmF0aW9uID0gc3dpcGVCb3VuY2VUaW1lO1xuICB9IGVsc2UgaWYgKGRlc3RpbmF0aW9uID4gdXBwZXJNYXJnaW4pIHtcbiAgICBkZXN0aW5hdGlvbiA9IHdyYXBwZXJTaXplID8gTWF0aC5taW4odXBwZXJNYXJnaW4gKyB3cmFwcGVyU2l6ZSAvIDQsIHVwcGVyTWFyZ2luICsgd3JhcHBlclNpemUgLyByYXRlICogc3BlZWQpIDogdXBwZXJNYXJnaW47XG4gICAgZHVyYXRpb24gPSBzd2lwZUJvdW5jZVRpbWU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGRlc3RpbmF0aW9uOiBNYXRoLnJvdW5kKGRlc3RpbmF0aW9uKSxcbiAgICBkdXJhdGlvbjogZHVyYXRpb25cbiAgfTtcbn1cblxudmFyIERFRkFVTFRfSU5URVJWQUwgPSAxMDAgLyA2MDtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnZhciByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICghaW5Ccm93c2VyKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgcmV0dXJuIG5vb3A7XG4gIH1cbiAgcmV0dXJuIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gIC8vIGlmIGFsbCBlbHNlIGZhaWxzLCB1c2Ugc2V0VGltZW91dFxuICBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gd2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssIChjYWxsYmFjay5pbnRlcnZhbCB8fCBERUZBVUxUX0lOVEVSVkFMKSAvIDIpOyAvLyBtYWtlIGludGVydmFsIGFzIHByZWNpc2UgYXMgcG9zc2libGUuXG4gIH07XG59KCk7XG5cbnZhciBjYW5jZWxBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCFpbkJyb3dzZXIpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICByZXR1cm4gbm9vcDtcbiAgfVxuICByZXR1cm4gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm9DYW5jZWxBbmltYXRpb25GcmFtZSB8fCBmdW5jdGlvbiAoaWQpIHtcbiAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGlkKTtcbiAgfTtcbn0oKTtcblxudmFyIERJUkVDVElPTl9VUCA9IDE7XG52YXIgRElSRUNUSU9OX0RPV04gPSAtMTtcbnZhciBESVJFQ1RJT05fTEVGVCA9IDE7XG52YXIgRElSRUNUSU9OX1JJR0hUID0gLTE7XG5cbnZhciBQUk9CRV9ERUJPVU5DRSA9IDE7XG5cbnZhciBQUk9CRV9SRUFMVElNRSA9IDM7XG5cbmZ1bmN0aW9uIHdhcm4obXNnKSB7XG4gIGNvbnNvbGUuZXJyb3IoJ1tCU2Nyb2xsIHdhcm5dOiAnICsgbXNnKTtcbn1cblxuZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbiwgbXNnKSB7XG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdbQlNjcm9sbF0gJyArIG1zZyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29yZU1peGluKEJTY3JvbGwpIHtcbiAgQlNjcm9sbC5wcm90b3R5cGUuX3N0YXJ0ID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgX2V2ZW50VHlwZSA9IGV2ZW50VHlwZVtlLnR5cGVdO1xuICAgIGlmIChfZXZlbnRUeXBlICE9PSBUT1VDSF9FVkVOVCkge1xuICAgICAgaWYgKGUuYnV0dG9uICE9PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQgfHwgdGhpcy5kZXN0cm95ZWQgfHwgdGhpcy5pbml0aWF0ZWQgJiYgdGhpcy5pbml0aWF0ZWQgIT09IF9ldmVudFR5cGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5pbml0aWF0ZWQgPSBfZXZlbnRUeXBlO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5wcmV2ZW50RGVmYXVsdCAmJiAhcHJldmVudERlZmF1bHRFeGNlcHRpb24oZS50YXJnZXQsIHRoaXMub3B0aW9ucy5wcmV2ZW50RGVmYXVsdEV4Y2VwdGlvbikpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuXG4gICAgdGhpcy5tb3ZlZCA9IGZhbHNlO1xuICAgIHRoaXMuZGlzdFggPSAwO1xuICAgIHRoaXMuZGlzdFkgPSAwO1xuICAgIHRoaXMuZGlyZWN0aW9uWCA9IDA7XG4gICAgdGhpcy5kaXJlY3Rpb25ZID0gMDtcbiAgICB0aGlzLm1vdmluZ0RpcmVjdGlvblggPSAwO1xuICAgIHRoaXMubW92aW5nRGlyZWN0aW9uWSA9IDA7XG4gICAgdGhpcy5kaXJlY3Rpb25Mb2NrZWQgPSAwO1xuXG4gICAgdGhpcy5fdHJhbnNpdGlvblRpbWUoKTtcbiAgICB0aGlzLnN0YXJ0VGltZSA9IGdldE5vdygpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy53aGVlbCkge1xuICAgICAgdGhpcy50YXJnZXQgPSBlLnRhcmdldDtcbiAgICB9XG5cbiAgICB0aGlzLnN0b3AoKTtcblxuICAgIHZhciBwb2ludCA9IGUudG91Y2hlcyA/IGUudG91Y2hlc1swXSA6IGU7XG5cbiAgICB0aGlzLnN0YXJ0WCA9IHRoaXMueDtcbiAgICB0aGlzLnN0YXJ0WSA9IHRoaXMueTtcbiAgICB0aGlzLmFic1N0YXJ0WCA9IHRoaXMueDtcbiAgICB0aGlzLmFic1N0YXJ0WSA9IHRoaXMueTtcbiAgICB0aGlzLnBvaW50WCA9IHBvaW50LnBhZ2VYO1xuICAgIHRoaXMucG9pbnRZID0gcG9pbnQucGFnZVk7XG5cbiAgICB0aGlzLnRyaWdnZXIoJ2JlZm9yZVNjcm9sbFN0YXJ0Jyk7XG4gIH07XG5cbiAgQlNjcm9sbC5wcm90b3R5cGUuX21vdmUgPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmICghdGhpcy5lbmFibGVkIHx8IHRoaXMuZGVzdHJveWVkIHx8IGV2ZW50VHlwZVtlLnR5cGVdICE9PSB0aGlzLmluaXRpYXRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMucHJldmVudERlZmF1bHQpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuXG4gICAgdmFyIHBvaW50ID0gZS50b3VjaGVzID8gZS50b3VjaGVzWzBdIDogZTtcbiAgICB2YXIgZGVsdGFYID0gcG9pbnQucGFnZVggLSB0aGlzLnBvaW50WDtcbiAgICB2YXIgZGVsdGFZID0gcG9pbnQucGFnZVkgLSB0aGlzLnBvaW50WTtcblxuICAgIHRoaXMucG9pbnRYID0gcG9pbnQucGFnZVg7XG4gICAgdGhpcy5wb2ludFkgPSBwb2ludC5wYWdlWTtcblxuICAgIHRoaXMuZGlzdFggKz0gZGVsdGFYO1xuICAgIHRoaXMuZGlzdFkgKz0gZGVsdGFZO1xuXG4gICAgdmFyIGFic0Rpc3RYID0gTWF0aC5hYnModGhpcy5kaXN0WCk7XG4gICAgdmFyIGFic0Rpc3RZID0gTWF0aC5hYnModGhpcy5kaXN0WSk7XG5cbiAgICB2YXIgdGltZXN0YW1wID0gZ2V0Tm93KCk7XG5cbiAgICAvLyBXZSBuZWVkIHRvIG1vdmUgYXQgbGVhc3QgbW9tZW50dW1MaW1pdERpc3RhbmNlIHBpeGVscyBmb3IgdGhlIHNjcm9sbGluZyB0byBpbml0aWF0ZVxuICAgIGlmICh0aW1lc3RhbXAgLSB0aGlzLmVuZFRpbWUgPiB0aGlzLm9wdGlvbnMubW9tZW50dW1MaW1pdFRpbWUgJiYgIXRoaXMubW92ZWQgJiYgYWJzRGlzdFkgPCB0aGlzLm9wdGlvbnMubW9tZW50dW1MaW1pdERpc3RhbmNlICYmIGFic0Rpc3RYIDwgdGhpcy5vcHRpb25zLm1vbWVudHVtTGltaXREaXN0YW5jZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIHlvdSBhcmUgc2Nyb2xsaW5nIGluIG9uZSBkaXJlY3Rpb24gbG9jayB0aGUgb3RoZXJcbiAgICBpZiAoIXRoaXMuZGlyZWN0aW9uTG9ja2VkICYmICF0aGlzLm9wdGlvbnMuZnJlZVNjcm9sbCkge1xuICAgICAgaWYgKGFic0Rpc3RYID4gYWJzRGlzdFkgKyB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uTG9ja1RocmVzaG9sZCkge1xuICAgICAgICB0aGlzLmRpcmVjdGlvbkxvY2tlZCA9ICdoJzsgLy8gbG9jayBob3Jpem9udGFsbHlcbiAgICAgIH0gZWxzZSBpZiAoYWJzRGlzdFkgPj0gYWJzRGlzdFggKyB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uTG9ja1RocmVzaG9sZCkge1xuICAgICAgICB0aGlzLmRpcmVjdGlvbkxvY2tlZCA9ICd2JzsgLy8gbG9jayB2ZXJ0aWNhbGx5XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmRpcmVjdGlvbkxvY2tlZCA9ICduJzsgLy8gbm8gbG9ja1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmRpcmVjdGlvbkxvY2tlZCA9PT0gJ2gnKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2ggPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuZXZlbnRQYXNzdGhyb3VnaCA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhdGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRlbHRhWSA9IDA7XG4gICAgfSBlbHNlIGlmICh0aGlzLmRpcmVjdGlvbkxvY2tlZCA9PT0gJ3YnKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2ggPT09ICdob3Jpem9udGFsJykge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5ldmVudFBhc3N0aHJvdWdoID09PSAndmVydGljYWwnKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhdGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRlbHRhWCA9IDA7XG4gICAgfVxuXG4gICAgZGVsdGFYID0gdGhpcy5oYXNIb3Jpem9udGFsU2Nyb2xsID8gZGVsdGFYIDogMDtcbiAgICBkZWx0YVkgPSB0aGlzLmhhc1ZlcnRpY2FsU2Nyb2xsID8gZGVsdGFZIDogMDtcbiAgICB0aGlzLm1vdmluZ0RpcmVjdGlvblggPSBkZWx0YVggPiAwID8gRElSRUNUSU9OX1JJR0hUIDogZGVsdGFYIDwgMCA/IERJUkVDVElPTl9MRUZUIDogMDtcbiAgICB0aGlzLm1vdmluZ0RpcmVjdGlvblkgPSBkZWx0YVkgPiAwID8gRElSRUNUSU9OX0RPV04gOiBkZWx0YVkgPCAwID8gRElSRUNUSU9OX1VQIDogMDtcblxuICAgIHZhciBuZXdYID0gdGhpcy54ICsgZGVsdGFYO1xuICAgIHZhciBuZXdZID0gdGhpcy55ICsgZGVsdGFZO1xuXG4gICAgdmFyIHRvcCA9IGZhbHNlO1xuICAgIHZhciBib3R0b20gPSBmYWxzZTtcbiAgICB2YXIgbGVmdCA9IGZhbHNlO1xuICAgIHZhciByaWdodCA9IGZhbHNlO1xuICAgIC8vIFNsb3cgZG93biBvciBzdG9wIGlmIG91dHNpZGUgb2YgdGhlIGJvdW5kYXJpZXNcbiAgICB2YXIgYm91bmNlID0gdGhpcy5vcHRpb25zLmJvdW5jZTtcbiAgICBpZiAoYm91bmNlICE9PSBmYWxzZSkge1xuICAgICAgdG9wID0gYm91bmNlLnRvcCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGJvdW5jZS50b3A7XG4gICAgICBib3R0b20gPSBib3VuY2UuYm90dG9tID09PSB1bmRlZmluZWQgPyB0cnVlIDogYm91bmNlLmJvdHRvbTtcbiAgICAgIGxlZnQgPSBib3VuY2UubGVmdCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGJvdW5jZS5sZWZ0O1xuICAgICAgcmlnaHQgPSBib3VuY2UucmlnaHQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBib3VuY2UucmlnaHQ7XG4gICAgfVxuICAgIGlmIChuZXdYID4gdGhpcy5taW5TY3JvbGxYIHx8IG5ld1ggPCB0aGlzLm1heFNjcm9sbFgpIHtcbiAgICAgIGlmIChuZXdYID4gdGhpcy5taW5TY3JvbGxYICYmIGxlZnQgfHwgbmV3WCA8IHRoaXMubWF4U2Nyb2xsWCAmJiByaWdodCkge1xuICAgICAgICBuZXdYID0gdGhpcy54ICsgZGVsdGFYIC8gMztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1ggPSBuZXdYID4gdGhpcy5taW5TY3JvbGxYID8gdGhpcy5taW5TY3JvbGxYIDogdGhpcy5tYXhTY3JvbGxYO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobmV3WSA+IHRoaXMubWluU2Nyb2xsWSB8fCBuZXdZIDwgdGhpcy5tYXhTY3JvbGxZKSB7XG4gICAgICBpZiAobmV3WSA+IHRoaXMubWluU2Nyb2xsWSAmJiB0b3AgfHwgbmV3WSA8IHRoaXMubWF4U2Nyb2xsWSAmJiBib3R0b20pIHtcbiAgICAgICAgbmV3WSA9IHRoaXMueSArIGRlbHRhWSAvIDM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdZID0gbmV3WSA+IHRoaXMubWluU2Nyb2xsWSA/IHRoaXMubWluU2Nyb2xsWSA6IHRoaXMubWF4U2Nyb2xsWTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXRoaXMubW92ZWQpIHtcbiAgICAgIHRoaXMubW92ZWQgPSB0cnVlO1xuICAgICAgdGhpcy50cmlnZ2VyKCdzY3JvbGxTdGFydCcpO1xuICAgIH1cblxuICAgIHRoaXMuX3RyYW5zbGF0ZShuZXdYLCBuZXdZKTtcblxuICAgIGlmICh0aW1lc3RhbXAgLSB0aGlzLnN0YXJ0VGltZSA+IHRoaXMub3B0aW9ucy5tb21lbnR1bUxpbWl0VGltZSkge1xuICAgICAgdGhpcy5zdGFydFRpbWUgPSB0aW1lc3RhbXA7XG4gICAgICB0aGlzLnN0YXJ0WCA9IHRoaXMueDtcbiAgICAgIHRoaXMuc3RhcnRZID0gdGhpcy55O1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnByb2JlVHlwZSA9PT0gUFJPQkVfREVCT1VOQ0UpIHtcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdzY3JvbGwnLCB7XG4gICAgICAgICAgeDogdGhpcy54LFxuICAgICAgICAgIHk6IHRoaXMueVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnByb2JlVHlwZSA+IFBST0JFX0RFQk9VTkNFKSB7XG4gICAgICB0aGlzLnRyaWdnZXIoJ3Njcm9sbCcsIHtcbiAgICAgICAgeDogdGhpcy54LFxuICAgICAgICB5OiB0aGlzLnlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBzY3JvbGxMZWZ0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgfHwgd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdDtcbiAgICB2YXIgc2Nyb2xsVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7XG5cbiAgICB2YXIgcFggPSB0aGlzLnBvaW50WCAtIHNjcm9sbExlZnQ7XG4gICAgdmFyIHBZID0gdGhpcy5wb2ludFkgLSBzY3JvbGxUb3A7XG5cbiAgICBpZiAocFggPiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggLSB0aGlzLm9wdGlvbnMubW9tZW50dW1MaW1pdERpc3RhbmNlIHx8IHBYIDwgdGhpcy5vcHRpb25zLm1vbWVudHVtTGltaXREaXN0YW5jZSB8fCBwWSA8IHRoaXMub3B0aW9ucy5tb21lbnR1bUxpbWl0RGlzdGFuY2UgfHwgcFkgPiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IC0gdGhpcy5vcHRpb25zLm1vbWVudHVtTGltaXREaXN0YW5jZSkge1xuICAgICAgdGhpcy5fZW5kKGUpO1xuICAgIH1cbiAgfTtcblxuICBCU2Nyb2xsLnByb3RvdHlwZS5fZW5kID0gZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoIXRoaXMuZW5hYmxlZCB8fCB0aGlzLmRlc3Ryb3llZCB8fCBldmVudFR5cGVbZS50eXBlXSAhPT0gdGhpcy5pbml0aWF0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5pbml0aWF0ZWQgPSBmYWxzZTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMucHJldmVudERlZmF1bHQgJiYgIXByZXZlbnREZWZhdWx0RXhjZXB0aW9uKGUudGFyZ2V0LCB0aGlzLm9wdGlvbnMucHJldmVudERlZmF1bHRFeGNlcHRpb24pKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cblxuICAgIHRoaXMudHJpZ2dlcigndG91Y2hFbmQnLCB7XG4gICAgICB4OiB0aGlzLngsXG4gICAgICB5OiB0aGlzLnlcbiAgICB9KTtcblxuICAgIHRoaXMuaXNJblRyYW5zaXRpb24gPSBmYWxzZTtcblxuICAgIC8vIGVuc3VyZXMgdGhhdCB0aGUgbGFzdCBwb3NpdGlvbiBpcyByb3VuZGVkXG4gICAgdmFyIG5ld1ggPSBNYXRoLnJvdW5kKHRoaXMueCk7XG4gICAgdmFyIG5ld1kgPSBNYXRoLnJvdW5kKHRoaXMueSk7XG5cbiAgICB2YXIgZGVsdGFYID0gbmV3WCAtIHRoaXMuYWJzU3RhcnRYO1xuICAgIHZhciBkZWx0YVkgPSBuZXdZIC0gdGhpcy5hYnNTdGFydFk7XG4gICAgdGhpcy5kaXJlY3Rpb25YID0gZGVsdGFYID4gMCA/IERJUkVDVElPTl9SSUdIVCA6IGRlbHRhWCA8IDAgPyBESVJFQ1RJT05fTEVGVCA6IDA7XG4gICAgdGhpcy5kaXJlY3Rpb25ZID0gZGVsdGFZID4gMCA/IERJUkVDVElPTl9ET1dOIDogZGVsdGFZIDwgMCA/IERJUkVDVElPTl9VUCA6IDA7XG5cbiAgICAvLyBpZiBjb25maWd1cmUgcHVsbCBkb3duIHJlZnJlc2gsIGNoZWNrIGl0IGZpcnN0XG4gICAgaWYgKHRoaXMub3B0aW9ucy5wdWxsRG93blJlZnJlc2ggJiYgdGhpcy5fY2hlY2tQdWxsRG93bigpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gY2hlY2sgaWYgaXQgaXMgYSBjbGljayBvcGVyYXRpb25cbiAgICBpZiAodGhpcy5fY2hlY2tDbGljayhlKSkge1xuICAgICAgdGhpcy50cmlnZ2VyKCdzY3JvbGxDYW5jZWwnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyByZXNldCBpZiB3ZSBhcmUgb3V0c2lkZSBvZiB0aGUgYm91bmRhcmllc1xuICAgIGlmICh0aGlzLnJlc2V0UG9zaXRpb24odGhpcy5vcHRpb25zLmJvdW5jZVRpbWUsIGVhc2UuYm91bmNlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3RyYW5zbGF0ZShuZXdYLCBuZXdZKTtcblxuICAgIHRoaXMuZW5kVGltZSA9IGdldE5vdygpO1xuICAgIHZhciBkdXJhdGlvbiA9IHRoaXMuZW5kVGltZSAtIHRoaXMuc3RhcnRUaW1lO1xuICAgIHZhciBhYnNEaXN0WCA9IE1hdGguYWJzKG5ld1ggLSB0aGlzLnN0YXJ0WCk7XG4gICAgdmFyIGFic0Rpc3RZID0gTWF0aC5hYnMobmV3WSAtIHRoaXMuc3RhcnRZKTtcblxuICAgIC8vIGZsaWNrXG4gICAgaWYgKHRoaXMuX2V2ZW50cy5mbGljayAmJiBkdXJhdGlvbiA8IHRoaXMub3B0aW9ucy5mbGlja0xpbWl0VGltZSAmJiBhYnNEaXN0WCA8IHRoaXMub3B0aW9ucy5mbGlja0xpbWl0RGlzdGFuY2UgJiYgYWJzRGlzdFkgPCB0aGlzLm9wdGlvbnMuZmxpY2tMaW1pdERpc3RhbmNlKSB7XG4gICAgICB0aGlzLnRyaWdnZXIoJ2ZsaWNrJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRpbWUgPSAwO1xuICAgIC8vIHN0YXJ0IG1vbWVudHVtIGFuaW1hdGlvbiBpZiBuZWVkZWRcbiAgICBpZiAodGhpcy5vcHRpb25zLm1vbWVudHVtICYmIGR1cmF0aW9uIDwgdGhpcy5vcHRpb25zLm1vbWVudHVtTGltaXRUaW1lICYmIChhYnNEaXN0WSA+IHRoaXMub3B0aW9ucy5tb21lbnR1bUxpbWl0RGlzdGFuY2UgfHwgYWJzRGlzdFggPiB0aGlzLm9wdGlvbnMubW9tZW50dW1MaW1pdERpc3RhbmNlKSkge1xuICAgICAgdmFyIHRvcCA9IGZhbHNlO1xuICAgICAgdmFyIGJvdHRvbSA9IGZhbHNlO1xuICAgICAgdmFyIGxlZnQgPSBmYWxzZTtcbiAgICAgIHZhciByaWdodCA9IGZhbHNlO1xuICAgICAgdmFyIGJvdW5jZSA9IHRoaXMub3B0aW9ucy5ib3VuY2U7XG4gICAgICBpZiAoYm91bmNlICE9PSBmYWxzZSkge1xuICAgICAgICB0b3AgPSBib3VuY2UudG9wID09PSB1bmRlZmluZWQgPyB0cnVlIDogYm91bmNlLnRvcDtcbiAgICAgICAgYm90dG9tID0gYm91bmNlLmJvdHRvbSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGJvdW5jZS5ib3R0b207XG4gICAgICAgIGxlZnQgPSBib3VuY2UubGVmdCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGJvdW5jZS5sZWZ0O1xuICAgICAgICByaWdodCA9IGJvdW5jZS5yaWdodCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGJvdW5jZS5yaWdodDtcbiAgICAgIH1cbiAgICAgIHZhciB3cmFwcGVyV2lkdGggPSB0aGlzLmRpcmVjdGlvblggPT09IERJUkVDVElPTl9SSUdIVCAmJiBsZWZ0IHx8IHRoaXMuZGlyZWN0aW9uWCA9PT0gRElSRUNUSU9OX0xFRlQgJiYgcmlnaHQgPyB0aGlzLndyYXBwZXJXaWR0aCA6IDA7XG4gICAgICB2YXIgd3JhcHBlckhlaWdodCA9IHRoaXMuZGlyZWN0aW9uWSA9PT0gRElSRUNUSU9OX0RPV04gJiYgdG9wIHx8IHRoaXMuZGlyZWN0aW9uWSA9PT0gRElSRUNUSU9OX1VQICYmIGJvdHRvbSA/IHRoaXMud3JhcHBlckhlaWdodCA6IDA7XG4gICAgICB2YXIgbW9tZW50dW1YID0gdGhpcy5oYXNIb3Jpem9udGFsU2Nyb2xsID8gbW9tZW50dW0odGhpcy54LCB0aGlzLnN0YXJ0WCwgZHVyYXRpb24sIHRoaXMubWF4U2Nyb2xsWCwgdGhpcy5taW5TY3JvbGxYLCB3cmFwcGVyV2lkdGgsIHRoaXMub3B0aW9ucywgdGhpcykgOiB7IGRlc3RpbmF0aW9uOiBuZXdYLCBkdXJhdGlvbjogMCB9O1xuICAgICAgdmFyIG1vbWVudHVtWSA9IHRoaXMuaGFzVmVydGljYWxTY3JvbGwgPyBtb21lbnR1bSh0aGlzLnksIHRoaXMuc3RhcnRZLCBkdXJhdGlvbiwgdGhpcy5tYXhTY3JvbGxZLCB0aGlzLm1pblNjcm9sbFksIHdyYXBwZXJIZWlnaHQsIHRoaXMub3B0aW9ucywgdGhpcykgOiB7IGRlc3RpbmF0aW9uOiBuZXdZLCBkdXJhdGlvbjogMCB9O1xuICAgICAgbmV3WCA9IG1vbWVudHVtWC5kZXN0aW5hdGlvbjtcbiAgICAgIG5ld1kgPSBtb21lbnR1bVkuZGVzdGluYXRpb247XG4gICAgICB0aW1lID0gTWF0aC5tYXgobW9tZW50dW1YLmR1cmF0aW9uLCBtb21lbnR1bVkuZHVyYXRpb24pO1xuICAgICAgdGhpcy5pc0luVHJhbnNpdGlvbiA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMud2hlZWwpIHtcbiAgICAgICAgbmV3WSA9IHRoaXMuX2ZpbmROZWFyZXN0VmFsaWRXaGVlbChuZXdZKS55O1xuICAgICAgICB0aW1lID0gdGhpcy5vcHRpb25zLndoZWVsLmFkanVzdFRpbWUgfHwgNDAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBlYXNpbmcgPSBlYXNlLnN3aXBlO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc25hcCkge1xuICAgICAgdmFyIHNuYXAgPSB0aGlzLl9uZWFyZXN0U25hcChuZXdYLCBuZXdZKTtcbiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSBzbmFwO1xuICAgICAgdGltZSA9IHRoaXMub3B0aW9ucy5zbmFwU3BlZWQgfHwgTWF0aC5tYXgoTWF0aC5tYXgoTWF0aC5taW4oTWF0aC5hYnMobmV3WCAtIHNuYXAueCksIDEwMDApLCBNYXRoLm1pbihNYXRoLmFicyhuZXdZIC0gc25hcC55KSwgMTAwMCkpLCAzMDApO1xuICAgICAgbmV3WCA9IHNuYXAueDtcbiAgICAgIG5ld1kgPSBzbmFwLnk7XG5cbiAgICAgIHRoaXMuZGlyZWN0aW9uWCA9IDA7XG4gICAgICB0aGlzLmRpcmVjdGlvblkgPSAwO1xuICAgICAgZWFzaW5nID0gdGhpcy5vcHRpb25zLnNuYXAuZWFzaW5nIHx8IGVhc2UuYm91bmNlO1xuICAgIH1cblxuICAgIGlmIChuZXdYICE9PSB0aGlzLnggfHwgbmV3WSAhPT0gdGhpcy55KSB7XG4gICAgICAvLyBjaGFuZ2UgZWFzaW5nIGZ1bmN0aW9uIHdoZW4gc2Nyb2xsZXIgZ29lcyBvdXQgb2YgdGhlIGJvdW5kYXJpZXNcbiAgICAgIGlmIChuZXdYID4gdGhpcy5taW5TY3JvbGxYIHx8IG5ld1ggPCB0aGlzLm1heFNjcm9sbFggfHwgbmV3WSA+IHRoaXMubWluU2Nyb2xsWSB8fCBuZXdZIDwgdGhpcy5tYXhTY3JvbGxZKSB7XG4gICAgICAgIGVhc2luZyA9IGVhc2Uuc3dpcGVCb3VuY2U7XG4gICAgICB9XG4gICAgICB0aGlzLnNjcm9sbFRvKG5ld1gsIG5ld1ksIHRpbWUsIGVhc2luZyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy53aGVlbCkge1xuICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gdGhpcy5fZmluZE5lYXJlc3RWYWxpZFdoZWVsKHRoaXMueSkuaW5kZXg7XG4gICAgfVxuXG4gICAgdGhpcy50cmlnZ2VyKCdzY3JvbGxFbmQnLCB7XG4gICAgICB4OiB0aGlzLngsXG4gICAgICB5OiB0aGlzLnlcbiAgICB9KTtcbiAgfTtcblxuICBCU2Nyb2xsLnByb3RvdHlwZS5fY2hlY2tDbGljayA9IGZ1bmN0aW9uIChlKSB7XG4gICAgLy8gd2hlbiBpbiB0aGUgcHJvY2VzcyBvZiBwdWxsaW5nIGRvd24sIGl0IHNob3VsZCBub3QgcHJldmVudCBjbGlja1xuICAgIHZhciBwcmV2ZW50Q2xpY2sgPSB0aGlzLnN0b3BGcm9tVHJhbnNpdGlvbiAmJiAhdGhpcy5wdWxsaW5nO1xuICAgIHRoaXMuc3RvcEZyb21UcmFuc2l0aW9uID0gZmFsc2U7XG5cbiAgICAvLyB3ZSBzY3JvbGxlZCBsZXNzIHRoYW4gMTUgcGl4ZWxzXG4gICAgaWYgKCF0aGlzLm1vdmVkKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLndoZWVsKSB7XG4gICAgICAgIGlmICh0aGlzLnRhcmdldCAmJiB0aGlzLnRhcmdldC5jbGFzc05hbWUgPT09IHRoaXMub3B0aW9ucy53aGVlbC53aGVlbFdyYXBwZXJDbGFzcykge1xuICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2ZpbmROZWFyZXN0VmFsaWRXaGVlbCh0aGlzLnkpLmluZGV4O1xuICAgICAgICAgIHZhciBfb2Zmc2V0ID0gTWF0aC5yb3VuZCgodGhpcy5wb2ludFkgKyBvZmZzZXRUb0JvZHkodGhpcy53cmFwcGVyKS50b3AgLSB0aGlzLndyYXBwZXJIZWlnaHQgLyAyKSAvIHRoaXMuaXRlbUhlaWdodCk7XG4gICAgICAgICAgdGhpcy50YXJnZXQgPSB0aGlzLml0ZW1zW2luZGV4ICsgX29mZnNldF07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRvcCA9IG9mZnNldCh0aGlzLnRhcmdldCkudG9wO1xuICAgICAgICB2YXIgbGVmdCA9IG9mZnNldCh0aGlzLnRhcmdldCkubGVmdDtcbiAgICAgICAgdG9wIC09IHRoaXMud3JhcHBlck9mZnNldC50b3A7XG4gICAgICAgIHRvcCAtPSBNYXRoLnJvdW5kKHRoaXMudGFyZ2V0Lm9mZnNldEhlaWdodCAvIDIgLSB0aGlzLndyYXBwZXIub2Zmc2V0SGVpZ2h0IC8gMikgfHwgMDtcbiAgICAgICAgbGVmdCAtPSB0aGlzLndyYXBwZXJPZmZzZXQubGVmdDtcbiAgICAgICAgbGVmdCAtPSBNYXRoLnJvdW5kKHRoaXMudGFyZ2V0Lm9mZnNldFdpZHRoIC8gMiAtIHRoaXMud3JhcHBlci5vZmZzZXRXaWR0aCAvIDIpIHx8IDA7XG5cbiAgICAgICAgdG9wID0gdGhpcy5fZmluZE5lYXJlc3RWYWxpZFdoZWVsKHRvcCkueTtcbiAgICAgICAgdGhpcy5zY3JvbGxUbyhsZWZ0LCB0b3AsIHRoaXMub3B0aW9ucy53aGVlbC5hZGp1c3RUaW1lIHx8IDQwMCwgZWFzZS5zd2lwZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFwcmV2ZW50Q2xpY2spIHtcbiAgICAgICAgICB2YXIgX2RibGNsaWNrID0gdGhpcy5vcHRpb25zLmRibGNsaWNrO1xuICAgICAgICAgIHZhciBkYmxjbGlja1RyaWdnZWQgPSBmYWxzZTtcbiAgICAgICAgICBpZiAoX2RibGNsaWNrICYmIHRoaXMubGFzdENsaWNrVGltZSkge1xuICAgICAgICAgICAgdmFyIF9kYmxjbGljayRkZWxheSA9IF9kYmxjbGljay5kZWxheSxcbiAgICAgICAgICAgICAgICBkZWxheSA9IF9kYmxjbGljayRkZWxheSA9PT0gdW5kZWZpbmVkID8gMzAwIDogX2RibGNsaWNrJGRlbGF5O1xuXG4gICAgICAgICAgICBpZiAoZ2V0Tm93KCkgLSB0aGlzLmxhc3RDbGlja1RpbWUgPCBkZWxheSkge1xuICAgICAgICAgICAgICBkYmxjbGlja1RyaWdnZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBkYmxjbGljayhlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50YXApIHtcbiAgICAgICAgICAgIHRhcChlLCB0aGlzLm9wdGlvbnMudGFwKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNsaWNrICYmICFwcmV2ZW50RGVmYXVsdEV4Y2VwdGlvbihlLnRhcmdldCwgdGhpcy5vcHRpb25zLnByZXZlbnREZWZhdWx0RXhjZXB0aW9uKSkge1xuICAgICAgICAgICAgY2xpY2soZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMubGFzdENsaWNrVGltZSA9IGRibGNsaWNrVHJpZ2dlZCA/IG51bGwgOiBnZXROb3coKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBCU2Nyb2xsLnByb3RvdHlwZS5fcmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAoIXRoaXMuZW5hYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBmaXggYSBzY3JvbGwgcHJvYmxlbSB1bmRlciBBbmRyb2lkIGNvbmRpdGlvblxuICAgIGlmIChpc0FuZHJvaWQpIHtcbiAgICAgIHRoaXMud3JhcHBlci5zY3JvbGxUb3AgPSAwO1xuICAgIH1cbiAgICBjbGVhclRpbWVvdXQodGhpcy5yZXNpemVUaW1lb3V0KTtcbiAgICB0aGlzLnJlc2l6ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnJlZnJlc2goKTtcbiAgICB9LCB0aGlzLm9wdGlvbnMucmVzaXplUG9sbGluZyk7XG4gIH07XG5cbiAgQlNjcm9sbC5wcm90b3R5cGUuX3N0YXJ0UHJvYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5wcm9iZVRpbWVyKTtcbiAgICB0aGlzLnByb2JlVGltZXIgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocHJvYmUpO1xuXG4gICAgdmFyIG1lID0gdGhpcztcblxuICAgIGZ1bmN0aW9uIHByb2JlKCkge1xuICAgICAgdmFyIHBvcyA9IG1lLmdldENvbXB1dGVkUG9zaXRpb24oKTtcbiAgICAgIG1lLnRyaWdnZXIoJ3Njcm9sbCcsIHBvcyk7XG4gICAgICBpZiAoIW1lLmlzSW5UcmFuc2l0aW9uKSB7XG4gICAgICAgIG1lLnRyaWdnZXIoJ3Njcm9sbEVuZCcsIHBvcyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG1lLnByb2JlVGltZXIgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocHJvYmUpO1xuICAgIH1cbiAgfTtcblxuICBCU2Nyb2xsLnByb3RvdHlwZS5fdHJhbnNpdGlvblRpbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRpbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG5cbiAgICB0aGlzLnNjcm9sbGVyU3R5bGVbc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uXSA9IHRpbWUgKyAnbXMnO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy53aGVlbCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuaXRlbXNbaV0uc3R5bGVbc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uXSA9IHRpbWUgKyAnbXMnO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmluZGljYXRvcnMpIHtcbiAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB0aGlzLmluZGljYXRvcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHRoaXMuaW5kaWNhdG9yc1tfaV0udHJhbnNpdGlvblRpbWUodGltZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIEJTY3JvbGwucHJvdG90eXBlLl90cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24gPSBmdW5jdGlvbiAoZWFzaW5nKSB7XG4gICAgdGhpcy5zY3JvbGxlclN0eWxlW3N0eWxlLnRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbl0gPSBlYXNpbmc7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLndoZWVsKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5pdGVtc1tpXS5zdHlsZVtzdHlsZS50cmFuc2l0aW9uVGltaW5nRnVuY3Rpb25dID0gZWFzaW5nO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmluZGljYXRvcnMpIHtcbiAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IHRoaXMuaW5kaWNhdG9ycy5sZW5ndGg7IF9pMisrKSB7XG4gICAgICAgIHRoaXMuaW5kaWNhdG9yc1tfaTJdLnRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbihlYXNpbmcpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBCU2Nyb2xsLnByb3RvdHlwZS5fdHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGUudGFyZ2V0ICE9PSB0aGlzLnNjcm9sbGVyIHx8ICF0aGlzLmlzSW5UcmFuc2l0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fdHJhbnNpdGlvblRpbWUoKTtcbiAgICB2YXIgbmVlZFJlc2V0ID0gIXRoaXMucHVsbGluZyB8fCB0aGlzLm1vdmluZ0RpcmVjdGlvblkgPT09IERJUkVDVElPTl9VUDtcbiAgICBpZiAobmVlZFJlc2V0ICYmICF0aGlzLnJlc2V0UG9zaXRpb24odGhpcy5vcHRpb25zLmJvdW5jZVRpbWUsIGVhc2UuYm91bmNlKSkge1xuICAgICAgdGhpcy5pc0luVHJhbnNpdGlvbiA9IGZhbHNlO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5wcm9iZVR5cGUgIT09IFBST0JFX1JFQUxUSU1FKSB7XG4gICAgICAgIHRoaXMudHJpZ2dlcignc2Nyb2xsRW5kJywge1xuICAgICAgICAgIHg6IHRoaXMueCxcbiAgICAgICAgICB5OiB0aGlzLnlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIEJTY3JvbGwucHJvdG90eXBlLl90cmFuc2xhdGUgPSBmdW5jdGlvbiAoeCwgeSwgc2NhbGUpIHtcbiAgICBhc3NlcnQoIWlzVW5kZWYoeCkgJiYgIWlzVW5kZWYoeSksICdUcmFuc2xhdGUgeCBvciB5IGlzIG51bGwgb3IgdW5kZWZpbmVkLicpO1xuICAgIGlmIChpc1VuZGVmKHNjYWxlKSkge1xuICAgICAgc2NhbGUgPSB0aGlzLnNjYWxlO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zLnVzZVRyYW5zZm9ybSkge1xuICAgICAgdGhpcy5zY3JvbGxlclN0eWxlW3N0eWxlLnRyYW5zZm9ybV0gPSAndHJhbnNsYXRlKCcgKyB4ICsgJ3B4LCcgKyB5ICsgJ3B4KSBzY2FsZSgnICsgc2NhbGUgKyAnKScgKyB0aGlzLnRyYW5zbGF0ZVo7XG4gICAgfSBlbHNlIHtcbiAgICAgIHggPSBNYXRoLnJvdW5kKHgpO1xuICAgICAgeSA9IE1hdGgucm91bmQoeSk7XG4gICAgICB0aGlzLnNjcm9sbGVyU3R5bGUubGVmdCA9IHggKyAncHgnO1xuICAgICAgdGhpcy5zY3JvbGxlclN0eWxlLnRvcCA9IHkgKyAncHgnO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMud2hlZWwpIHtcbiAgICAgIHZhciBfb3B0aW9ucyR3aGVlbCRyb3RhdGUgPSB0aGlzLm9wdGlvbnMud2hlZWwucm90YXRlLFxuICAgICAgICAgIHJvdGF0ZSA9IF9vcHRpb25zJHdoZWVsJHJvdGF0ZSA9PT0gdW5kZWZpbmVkID8gMjUgOiBfb3B0aW9ucyR3aGVlbCRyb3RhdGU7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZGVnID0gcm90YXRlICogKHkgLyB0aGlzLml0ZW1IZWlnaHQgKyBpKTtcbiAgICAgICAgdGhpcy5pdGVtc1tpXS5zdHlsZVtzdHlsZS50cmFuc2Zvcm1dID0gJ3JvdGF0ZVgoJyArIGRlZyArICdkZWcpJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy5zZXRTY2FsZShzY2FsZSk7XG5cbiAgICBpZiAodGhpcy5pbmRpY2F0b3JzKSB7XG4gICAgICBmb3IgKHZhciBfaTMgPSAwOyBfaTMgPCB0aGlzLmluZGljYXRvcnMubGVuZ3RoOyBfaTMrKykge1xuICAgICAgICB0aGlzLmluZGljYXRvcnNbX2kzXS51cGRhdGVQb3NpdGlvbigpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBCU2Nyb2xsLnByb3RvdHlwZS5fYW5pbWF0ZSA9IGZ1bmN0aW9uIChkZXN0WCwgZGVzdFksIGR1cmF0aW9uLCBlYXNpbmdGbikge1xuICAgIHZhciBtZSA9IHRoaXM7XG4gICAgdmFyIHN0YXJ0WCA9IHRoaXMueDtcbiAgICB2YXIgc3RhcnRZID0gdGhpcy55O1xuICAgIHZhciBzdGFydFNjYWxlID0gdGhpcy5sYXN0U2NhbGU7XG4gICAgdmFyIGRlc3RTY2FsZSA9IHRoaXMuc2NhbGU7XG4gICAgdmFyIHN0YXJ0VGltZSA9IGdldE5vdygpO1xuICAgIHZhciBkZXN0VGltZSA9IHN0YXJ0VGltZSArIGR1cmF0aW9uO1xuXG4gICAgZnVuY3Rpb24gc3RlcCgpIHtcbiAgICAgIHZhciBub3cgPSBnZXROb3coKTtcblxuICAgICAgaWYgKG5vdyA+PSBkZXN0VGltZSkge1xuICAgICAgICBtZS5pc0FuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgICBtZS5fdHJhbnNsYXRlKGRlc3RYLCBkZXN0WSwgZGVzdFNjYWxlKTtcblxuICAgICAgICBtZS50cmlnZ2VyKCdzY3JvbGwnLCB7XG4gICAgICAgICAgeDogbWUueCxcbiAgICAgICAgICB5OiBtZS55XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghbWUucHVsbGluZyAmJiAhbWUucmVzZXRQb3NpdGlvbihtZS5vcHRpb25zLmJvdW5jZVRpbWUpKSB7XG4gICAgICAgICAgbWUudHJpZ2dlcignc2Nyb2xsRW5kJywge1xuICAgICAgICAgICAgeDogbWUueCxcbiAgICAgICAgICAgIHk6IG1lLnlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBub3cgPSAobm93IC0gc3RhcnRUaW1lKSAvIGR1cmF0aW9uO1xuICAgICAgdmFyIGVhc2luZyA9IGVhc2luZ0ZuKG5vdyk7XG4gICAgICB2YXIgbmV3WCA9IChkZXN0WCAtIHN0YXJ0WCkgKiBlYXNpbmcgKyBzdGFydFg7XG4gICAgICB2YXIgbmV3WSA9IChkZXN0WSAtIHN0YXJ0WSkgKiBlYXNpbmcgKyBzdGFydFk7XG4gICAgICB2YXIgbmV3U2NhbGUgPSAoZGVzdFNjYWxlIC0gc3RhcnRTY2FsZSkgKiBlYXNpbmcgKyBzdGFydFNjYWxlO1xuXG4gICAgICBtZS5fdHJhbnNsYXRlKG5ld1gsIG5ld1ksIG5ld1NjYWxlKTtcblxuICAgICAgaWYgKG1lLmlzQW5pbWF0aW5nKSB7XG4gICAgICAgIG1lLmFuaW1hdGVUaW1lciA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lLm9wdGlvbnMucHJvYmVUeXBlID09PSBQUk9CRV9SRUFMVElNRSkge1xuICAgICAgICBtZS50cmlnZ2VyKCdzY3JvbGwnLCB7XG4gICAgICAgICAgeDogbWUueCxcbiAgICAgICAgICB5OiBtZS55XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuaXNBbmltYXRpbmcgPSB0cnVlO1xuICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZVRpbWVyKTtcbiAgICBzdGVwKCk7XG4gIH07XG5cbiAgQlNjcm9sbC5wcm90b3R5cGUuc2Nyb2xsQnkgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgIHZhciB0aW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwO1xuICAgIHZhciBlYXNpbmcgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGVhc2UuYm91bmNlO1xuXG4gICAgeCA9IHRoaXMueCArIHg7XG4gICAgeSA9IHRoaXMueSArIHk7XG5cbiAgICB0aGlzLnNjcm9sbFRvKHgsIHksIHRpbWUsIGVhc2luZyk7XG4gIH07XG5cbiAgQlNjcm9sbC5wcm90b3R5cGUuc2Nyb2xsVG8gPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgIHZhciB0aW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwO1xuICAgIHZhciBlYXNpbmcgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGVhc2UuYm91bmNlO1xuICAgIHZhciBpc1NpbGVudCA9IGFyZ3VtZW50c1s0XTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMud2hlZWwpIHtcbiAgICAgIHkgPSB0aGlzLl9maW5kTmVhcmVzdFZhbGlkV2hlZWwoeSkueTtcbiAgICB9XG4gICAgaWYgKHggPT09IHRoaXMueCAmJiB5ID09PSB0aGlzLnkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5pc0luVHJhbnNpdGlvbiA9IHRoaXMub3B0aW9ucy51c2VUcmFuc2l0aW9uICYmIHRpbWUgPiAwICYmICh0aGlzLnggIT09IHggfHwgdGhpcy55ICE9PSB5KTtcblxuICAgIGlmICghdGltZSB8fCB0aGlzLm9wdGlvbnMudXNlVHJhbnNpdGlvbikge1xuICAgICAgdGhpcy5fdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uKGVhc2luZy5zdHlsZSk7XG4gICAgICB0aGlzLl90cmFuc2l0aW9uVGltZSh0aW1lKTtcbiAgICAgIHRoaXMuX3RyYW5zbGF0ZSh4LCB5KTtcblxuICAgICAgaWYgKHRpbWUgJiYgdGhpcy5vcHRpb25zLnByb2JlVHlwZSA9PT0gUFJPQkVfUkVBTFRJTUUpIHtcbiAgICAgICAgdGhpcy5fc3RhcnRQcm9iZSgpO1xuICAgICAgfVxuICAgICAgaWYgKCF0aW1lICYmICFpc1NpbGVudCkge1xuICAgICAgICAvLyBkb24ndCB0cmlnZ2VyIHJlc2V0UG9zaXRpb24gd2hlbiB6b29tIGZlYXR1cmUgaXMgb3BlbiwgZml4ICM3NDhcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy56b29tKSByZXR1cm47XG4gICAgICAgIHRoaXMudHJpZ2dlcignc2Nyb2xsJywge1xuICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgeTogeVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gZm9yY2UgcmVmbG93IHRvIHB1dCBldmVyeXRoaW5nIGluIHBvc2l0aW9uXG4gICAgICAgIHRoaXMuX3JlZmxvdyA9IGRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0O1xuICAgICAgICBpZiAoIXRoaXMucmVzZXRQb3NpdGlvbih0aGlzLm9wdGlvbnMuYm91bmNlVGltZSwgZWFzZS5ib3VuY2UpKSB7XG4gICAgICAgICAgdGhpcy50cmlnZ2VyKCdzY3JvbGxFbmQnLCB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMud2hlZWwpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gdGhpcy5fZmluZE5lYXJlc3RWYWxpZFdoZWVsKHkpLmluZGV4O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9hbmltYXRlKHgsIHksIHRpbWUsIGVhc2luZy5mbik7XG4gICAgfVxuICB9O1xuXG4gIEJTY3JvbGwucHJvdG90eXBlLnNjcm9sbFRvRWxlbWVudCA9IGZ1bmN0aW9uIChlbCwgdGltZSwgb2Zmc2V0WCwgb2Zmc2V0WSwgZWFzaW5nKSB7XG4gICAgaWYgKCFlbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbCA9IGVsLm5vZGVUeXBlID8gZWwgOiB0aGlzLnNjcm9sbGVyLnF1ZXJ5U2VsZWN0b3IoZWwpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy53aGVlbCAmJiAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMub3B0aW9ucy53aGVlbC53aGVlbEl0ZW1DbGFzcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgcG9zID0gb2Zmc2V0KGVsKTtcbiAgICBwb3MubGVmdCAtPSB0aGlzLndyYXBwZXJPZmZzZXQubGVmdDtcbiAgICBwb3MudG9wIC09IHRoaXMud3JhcHBlck9mZnNldC50b3A7XG5cbiAgICAvLyBpZiBvZmZzZXRYL1kgYXJlIHRydWUgd2UgY2VudGVyIHRoZSBlbGVtZW50IHRvIHRoZSBzY3JlZW5cbiAgICBpZiAob2Zmc2V0WCA9PT0gdHJ1ZSkge1xuICAgICAgb2Zmc2V0WCA9IE1hdGgucm91bmQoZWwub2Zmc2V0V2lkdGggLyAyIC0gdGhpcy53cmFwcGVyLm9mZnNldFdpZHRoIC8gMik7XG4gICAgfVxuICAgIGlmIChvZmZzZXRZID09PSB0cnVlKSB7XG4gICAgICBvZmZzZXRZID0gTWF0aC5yb3VuZChlbC5vZmZzZXRIZWlnaHQgLyAyIC0gdGhpcy53cmFwcGVyLm9mZnNldEhlaWdodCAvIDIpO1xuICAgIH1cblxuICAgIHBvcy5sZWZ0IC09IG9mZnNldFggfHwgMDtcbiAgICBwb3MudG9wIC09IG9mZnNldFkgfHwgMDtcbiAgICBwb3MubGVmdCA9IHBvcy5sZWZ0ID4gdGhpcy5taW5TY3JvbGxYID8gdGhpcy5taW5TY3JvbGxYIDogcG9zLmxlZnQgPCB0aGlzLm1heFNjcm9sbFggPyB0aGlzLm1heFNjcm9sbFggOiBwb3MubGVmdDtcbiAgICBwb3MudG9wID0gcG9zLnRvcCA+IHRoaXMubWluU2Nyb2xsWSA/IHRoaXMubWluU2Nyb2xsWSA6IHBvcy50b3AgPCB0aGlzLm1heFNjcm9sbFkgPyB0aGlzLm1heFNjcm9sbFkgOiBwb3MudG9wO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy53aGVlbCkge1xuICAgICAgcG9zLnRvcCA9IHRoaXMuX2ZpbmROZWFyZXN0VmFsaWRXaGVlbChwb3MudG9wKS55O1xuICAgIH1cblxuICAgIHRoaXMuc2Nyb2xsVG8ocG9zLmxlZnQsIHBvcy50b3AsIHRpbWUsIGVhc2luZyk7XG4gIH07XG5cbiAgQlNjcm9sbC5wcm90b3R5cGUucmVzZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGltZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICB2YXIgZWFzZWluZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZWFzZS5ib3VuY2U7XG5cbiAgICB2YXIgeCA9IHRoaXMueDtcbiAgICB2YXIgcm91bmRYID0gTWF0aC5yb3VuZCh4KTtcbiAgICBpZiAoIXRoaXMuaGFzSG9yaXpvbnRhbFNjcm9sbCB8fCByb3VuZFggPiB0aGlzLm1pblNjcm9sbFgpIHtcbiAgICAgIHggPSB0aGlzLm1pblNjcm9sbFg7XG4gICAgfSBlbHNlIGlmIChyb3VuZFggPCB0aGlzLm1heFNjcm9sbFgpIHtcbiAgICAgIHggPSB0aGlzLm1heFNjcm9sbFg7XG4gICAgfVxuXG4gICAgdmFyIHkgPSB0aGlzLnk7XG4gICAgdmFyIHJvdW5kWSA9IE1hdGgucm91bmQoeSk7XG4gICAgaWYgKCF0aGlzLmhhc1ZlcnRpY2FsU2Nyb2xsIHx8IHJvdW5kWSA+IHRoaXMubWluU2Nyb2xsWSkge1xuICAgICAgeSA9IHRoaXMubWluU2Nyb2xsWTtcbiAgICB9IGVsc2UgaWYgKHJvdW5kWSA8IHRoaXMubWF4U2Nyb2xsWSkge1xuICAgICAgeSA9IHRoaXMubWF4U2Nyb2xsWTtcbiAgICB9XG5cbiAgICBpZiAoeCA9PT0gdGhpcy54ICYmIHkgPT09IHRoaXMueSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuc2Nyb2xsVG8oeCwgeSwgdGltZSwgZWFzZWluZyk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICBCU2Nyb2xsLnByb3RvdHlwZS5nZXRDb21wdXRlZFBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBtYXRyaXggPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLnNjcm9sbGVyLCBudWxsKTtcbiAgICB2YXIgeCA9IHZvaWQgMDtcbiAgICB2YXIgeSA9IHZvaWQgMDtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMudXNlVHJhbnNmb3JtKSB7XG4gICAgICBtYXRyaXggPSBtYXRyaXhbc3R5bGUudHJhbnNmb3JtXS5zcGxpdCgnKScpWzBdLnNwbGl0KCcsICcpO1xuICAgICAgeCA9ICsobWF0cml4WzEyXSB8fCBtYXRyaXhbNF0pO1xuICAgICAgeSA9ICsobWF0cml4WzEzXSB8fCBtYXRyaXhbNV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB4ID0gK21hdHJpeC5sZWZ0LnJlcGxhY2UoL1teLVxcZC5dL2csICcnKTtcbiAgICAgIHkgPSArbWF0cml4LnRvcC5yZXBsYWNlKC9bXi1cXGQuXS9nLCAnJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHgsXG4gICAgICB5OiB5XG4gICAgfTtcbiAgfTtcblxuICBCU2Nyb2xsLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMudXNlVHJhbnNpdGlvbiAmJiB0aGlzLmlzSW5UcmFuc2l0aW9uKSB7XG4gICAgICB0aGlzLmlzSW5UcmFuc2l0aW9uID0gZmFsc2U7XG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnByb2JlVGltZXIpO1xuICAgICAgdmFyIHBvcyA9IHRoaXMuZ2V0Q29tcHV0ZWRQb3NpdGlvbigpO1xuICAgICAgdGhpcy5fdHJhbnNsYXRlKHBvcy54LCBwb3MueSk7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLndoZWVsKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5pdGVtc1t0aGlzLl9maW5kTmVhcmVzdFZhbGlkV2hlZWwocG9zLnkpLmluZGV4XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudHJpZ2dlcignc2Nyb2xsRW5kJywge1xuICAgICAgICAgIHg6IHRoaXMueCxcbiAgICAgICAgICB5OiB0aGlzLnlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLnN0b3BGcm9tVHJhbnNpdGlvbiA9IHRydWU7XG4gICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLnVzZVRyYW5zaXRpb24gJiYgdGhpcy5pc0FuaW1hdGluZykge1xuICAgICAgdGhpcy5pc0FuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRlVGltZXIpO1xuICAgICAgdGhpcy50cmlnZ2VyKCdzY3JvbGxFbmQnLCB7XG4gICAgICAgIHg6IHRoaXMueCxcbiAgICAgICAgeTogdGhpcy55XG4gICAgICB9KTtcbiAgICAgIHRoaXMuc3RvcEZyb21UcmFuc2l0aW9uID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgQlNjcm9sbC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgdGhpcy50cmlnZ2VyKCdkZXN0cm95Jyk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy51c2VUcmFuc2l0aW9uKSB7XG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnByb2JlVGltZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGVUaW1lcik7XG4gICAgfVxuICAgIHRoaXMuX3JlbW92ZURPTUV2ZW50cygpO1xuICAgIC8vIHJlbW92ZSBjdXN0b20gZXZlbnRzXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG4gIH07XG59XG5cbmZ1bmN0aW9uIHNuYXBNaXhpbihCU2Nyb2xsKSB7XG4gIEJTY3JvbGwucHJvdG90eXBlLl9pbml0U25hcCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdGhpcy5jdXJyZW50UGFnZSA9IHt9O1xuICAgIHZhciBzbmFwID0gdGhpcy5vcHRpb25zLnNuYXA7XG5cbiAgICBpZiAoc25hcC5sb29wKSB7XG4gICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnNjcm9sbGVyLmNoaWxkcmVuO1xuICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgcHJlcGVuZChjaGlsZHJlbltjaGlsZHJlbi5sZW5ndGggLSAxXS5jbG9uZU5vZGUodHJ1ZSksIHRoaXMuc2Nyb2xsZXIpO1xuICAgICAgICB0aGlzLnNjcm9sbGVyLmFwcGVuZENoaWxkKGNoaWxkcmVuWzFdLmNsb25lTm9kZSh0cnVlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBMb29wIGRvZXMgbm90IG1ha2UgYW55IHNlbnNlIGlmIHRoZXJlIGlzIG9ubHkgb25lIGNoaWxkLlxuICAgICAgICBzbmFwLmxvb3AgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZWwgPSBzbmFwLmVsO1xuICAgIGlmICh0eXBlb2YgZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbCA9IHRoaXMuc2Nyb2xsZXIucXVlcnlTZWxlY3RvckFsbChlbCk7XG4gICAgfVxuXG4gICAgdGhpcy5vbigncmVmcmVzaCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnBhZ2VzID0gW107XG5cbiAgICAgIGlmICghX3RoaXMud3JhcHBlcldpZHRoIHx8ICFfdGhpcy53cmFwcGVySGVpZ2h0IHx8ICFfdGhpcy5zY3JvbGxlcldpZHRoIHx8ICFfdGhpcy5zY3JvbGxlckhlaWdodCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBzdGVwWCA9IHNuYXAuc3RlcFggfHwgX3RoaXMud3JhcHBlcldpZHRoO1xuICAgICAgdmFyIHN0ZXBZID0gc25hcC5zdGVwWSB8fCBfdGhpcy53cmFwcGVySGVpZ2h0O1xuXG4gICAgICB2YXIgeCA9IDA7XG4gICAgICB2YXIgeSA9IHZvaWQgMDtcbiAgICAgIHZhciBjeCA9IHZvaWQgMDtcbiAgICAgIHZhciBjeSA9IHZvaWQgMDtcbiAgICAgIHZhciBpID0gMDtcbiAgICAgIHZhciBsID0gdm9pZCAwO1xuICAgICAgdmFyIG0gPSAwO1xuICAgICAgdmFyIG4gPSB2b2lkIDA7XG4gICAgICB2YXIgcmVjdCA9IHZvaWQgMDtcbiAgICAgIGlmICghZWwpIHtcbiAgICAgICAgY3ggPSBNYXRoLnJvdW5kKHN0ZXBYIC8gMik7XG4gICAgICAgIGN5ID0gTWF0aC5yb3VuZChzdGVwWSAvIDIpO1xuXG4gICAgICAgIHdoaWxlICh4ID4gLV90aGlzLnNjcm9sbGVyV2lkdGgpIHtcbiAgICAgICAgICBfdGhpcy5wYWdlc1tpXSA9IFtdO1xuICAgICAgICAgIGwgPSAwO1xuICAgICAgICAgIHkgPSAwO1xuXG4gICAgICAgICAgd2hpbGUgKHkgPiAtX3RoaXMuc2Nyb2xsZXJIZWlnaHQpIHtcbiAgICAgICAgICAgIF90aGlzLnBhZ2VzW2ldW2xdID0ge1xuICAgICAgICAgICAgICB4OiBNYXRoLm1heCh4LCBfdGhpcy5tYXhTY3JvbGxYKSxcbiAgICAgICAgICAgICAgeTogTWF0aC5tYXgoeSwgX3RoaXMubWF4U2Nyb2xsWSksXG4gICAgICAgICAgICAgIHdpZHRoOiBzdGVwWCxcbiAgICAgICAgICAgICAgaGVpZ2h0OiBzdGVwWSxcbiAgICAgICAgICAgICAgY3g6IHggLSBjeCxcbiAgICAgICAgICAgICAgY3k6IHkgLSBjeVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgeSAtPSBzdGVwWTtcbiAgICAgICAgICAgIGwrKztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB4IC09IHN0ZXBYO1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbCA9IGVsLmxlbmd0aDtcbiAgICAgICAgbiA9IC0xO1xuXG4gICAgICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgcmVjdCA9IGdldFJlY3QoZWxbaV0pO1xuICAgICAgICAgIGlmIChpID09PSAwIHx8IHJlY3QubGVmdCA8PSBnZXRSZWN0KGVsW2kgLSAxXSkubGVmdCkge1xuICAgICAgICAgICAgbSA9IDA7XG4gICAgICAgICAgICBuKys7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFfdGhpcy5wYWdlc1ttXSkge1xuICAgICAgICAgICAgX3RoaXMucGFnZXNbbV0gPSBbXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB4ID0gTWF0aC5tYXgoLXJlY3QubGVmdCwgX3RoaXMubWF4U2Nyb2xsWCk7XG4gICAgICAgICAgeSA9IE1hdGgubWF4KC1yZWN0LnRvcCwgX3RoaXMubWF4U2Nyb2xsWSk7XG4gICAgICAgICAgY3ggPSB4IC0gTWF0aC5yb3VuZChyZWN0LndpZHRoIC8gMik7XG4gICAgICAgICAgY3kgPSB5IC0gTWF0aC5yb3VuZChyZWN0LmhlaWdodCAvIDIpO1xuXG4gICAgICAgICAgX3RoaXMucGFnZXNbbV1bbl0gPSB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgIHdpZHRoOiByZWN0LndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiByZWN0LmhlaWdodCxcbiAgICAgICAgICAgIGN4OiBjeCxcbiAgICAgICAgICAgIGN5OiBjeVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBpZiAoeCA+IF90aGlzLm1heFNjcm9sbFgpIHtcbiAgICAgICAgICAgIG0rKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgX3RoaXMuX2NoZWNrU25hcExvb3AoKTtcblxuICAgICAgdmFyIGluaXRQYWdlWCA9IHNuYXAuX2xvb3BYID8gMSA6IDA7XG4gICAgICB2YXIgaW5pdFBhZ2VZID0gc25hcC5fbG9vcFkgPyAxIDogMDtcbiAgICAgIF90aGlzLl9nb1RvUGFnZShfdGhpcy5jdXJyZW50UGFnZS5wYWdlWCB8fCBpbml0UGFnZVgsIF90aGlzLmN1cnJlbnRQYWdlLnBhZ2VZIHx8IGluaXRQYWdlWSwgMCwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgICAgLy8gVXBkYXRlIHNuYXAgdGhyZXNob2xkIGlmIG5lZWRlZC5cbiAgICAgIHZhciBzbmFwVGhyZXNob2xkID0gc25hcC50aHJlc2hvbGQ7XG4gICAgICBpZiAoc25hcFRocmVzaG9sZCAlIDEgPT09IDApIHtcbiAgICAgICAgX3RoaXMuc25hcFRocmVzaG9sZFggPSBzbmFwVGhyZXNob2xkO1xuICAgICAgICBfdGhpcy5zbmFwVGhyZXNob2xkWSA9IHNuYXBUaHJlc2hvbGQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5zbmFwVGhyZXNob2xkWCA9IE1hdGgucm91bmQoX3RoaXMucGFnZXNbX3RoaXMuY3VycmVudFBhZ2UucGFnZVhdW190aGlzLmN1cnJlbnRQYWdlLnBhZ2VZXS53aWR0aCAqIHNuYXBUaHJlc2hvbGQpO1xuICAgICAgICBfdGhpcy5zbmFwVGhyZXNob2xkWSA9IE1hdGgucm91bmQoX3RoaXMucGFnZXNbX3RoaXMuY3VycmVudFBhZ2UucGFnZVhdW190aGlzLmN1cnJlbnRQYWdlLnBhZ2VZXS5oZWlnaHQgKiBzbmFwVGhyZXNob2xkKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMub24oJ3Njcm9sbEVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChzbmFwLmxvb3ApIHtcbiAgICAgICAgaWYgKHNuYXAuX2xvb3BYKSB7XG4gICAgICAgICAgaWYgKF90aGlzLmN1cnJlbnRQYWdlLnBhZ2VYID09PSAwKSB7XG4gICAgICAgICAgICBfdGhpcy5fZ29Ub1BhZ2UoX3RoaXMucGFnZXMubGVuZ3RoIC0gMiwgX3RoaXMuY3VycmVudFBhZ2UucGFnZVksIDAsIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChfdGhpcy5jdXJyZW50UGFnZS5wYWdlWCA9PT0gX3RoaXMucGFnZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgX3RoaXMuX2dvVG9QYWdlKDEsIF90aGlzLmN1cnJlbnRQYWdlLnBhZ2VZLCAwLCB1bmRlZmluZWQsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoX3RoaXMuY3VycmVudFBhZ2UucGFnZVkgPT09IDApIHtcbiAgICAgICAgICAgIF90aGlzLl9nb1RvUGFnZShfdGhpcy5jdXJyZW50UGFnZS5wYWdlWCwgX3RoaXMucGFnZXNbMF0ubGVuZ3RoIC0gMiwgMCwgdW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKF90aGlzLmN1cnJlbnRQYWdlLnBhZ2VZID09PSBfdGhpcy5wYWdlc1swXS5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBfdGhpcy5fZ29Ub1BhZ2UoX3RoaXMuY3VycmVudFBhZ2UucGFnZVgsIDEsIDAsIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoc25hcC5saXN0ZW5GbGljayAhPT0gZmFsc2UpIHtcbiAgICAgIHRoaXMub24oJ2ZsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGltZSA9IHNuYXAuc3BlZWQgfHwgTWF0aC5tYXgoTWF0aC5tYXgoTWF0aC5taW4oTWF0aC5hYnMoX3RoaXMueCAtIF90aGlzLnN0YXJ0WCksIDEwMDApLCBNYXRoLm1pbihNYXRoLmFicyhfdGhpcy55IC0gX3RoaXMuc3RhcnRZKSwgMTAwMCkpLCAzMDApO1xuXG4gICAgICAgIF90aGlzLl9nb1RvUGFnZShfdGhpcy5jdXJyZW50UGFnZS5wYWdlWCArIF90aGlzLmRpcmVjdGlvblgsIF90aGlzLmN1cnJlbnRQYWdlLnBhZ2VZICsgX3RoaXMuZGlyZWN0aW9uWSwgdGltZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLm9uKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHNuYXAubG9vcCkge1xuICAgICAgICB2YXIgX2NoaWxkcmVuID0gX3RoaXMuc2Nyb2xsZXIuY2hpbGRyZW47XG4gICAgICAgIGlmIChfY2hpbGRyZW4ubGVuZ3RoID4gMikge1xuICAgICAgICAgIHJlbW92ZUNoaWxkKF90aGlzLnNjcm9sbGVyLCBfY2hpbGRyZW5bX2NoaWxkcmVuLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICByZW1vdmVDaGlsZChfdGhpcy5zY3JvbGxlciwgX2NoaWxkcmVuWzBdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIEJTY3JvbGwucHJvdG90eXBlLl9jaGVja1NuYXBMb29wID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzbmFwID0gdGhpcy5vcHRpb25zLnNuYXA7XG5cbiAgICBpZiAoIXNuYXAubG9vcCB8fCAhdGhpcy5wYWdlcyB8fCAhdGhpcy5wYWdlcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wYWdlcy5sZW5ndGggPiAxKSB7XG4gICAgICBzbmFwLl9sb29wWCA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0aGlzLnBhZ2VzWzBdICYmIHRoaXMucGFnZXNbMF0ubGVuZ3RoID4gMSkge1xuICAgICAgc25hcC5fbG9vcFkgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoc25hcC5fbG9vcFggJiYgc25hcC5fbG9vcFkpIHtcbiAgICAgIHdhcm4oJ0xvb3AgZG9lcyBub3Qgc3VwcG9ydCB0d28gZGlyZWN0aW9uIGF0IHRoZSBzYW1lIHRpbWUuJyk7XG4gICAgfVxuICB9O1xuXG4gIEJTY3JvbGwucHJvdG90eXBlLl9uZWFyZXN0U25hcCA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgaWYgKCF0aGlzLnBhZ2VzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHsgeDogMCwgeTogMCwgcGFnZVg6IDAsIHBhZ2VZOiAwIH07XG4gICAgfVxuXG4gICAgdmFyIGkgPSAwO1xuICAgIC8vIENoZWNrIGlmIHdlIGV4Y2VlZGVkIHRoZSBzbmFwIHRocmVzaG9sZFxuICAgIGlmIChNYXRoLmFicyh4IC0gdGhpcy5hYnNTdGFydFgpIDw9IHRoaXMuc25hcFRocmVzaG9sZFggJiYgTWF0aC5hYnMoeSAtIHRoaXMuYWJzU3RhcnRZKSA8PSB0aGlzLnNuYXBUaHJlc2hvbGRZKSB7XG4gICAgICByZXR1cm4gdGhpcy5jdXJyZW50UGFnZTtcbiAgICB9XG5cbiAgICBpZiAoeCA+IHRoaXMubWluU2Nyb2xsWCkge1xuICAgICAgeCA9IHRoaXMubWluU2Nyb2xsWDtcbiAgICB9IGVsc2UgaWYgKHggPCB0aGlzLm1heFNjcm9sbFgpIHtcbiAgICAgIHggPSB0aGlzLm1heFNjcm9sbFg7XG4gICAgfVxuXG4gICAgaWYgKHkgPiB0aGlzLm1pblNjcm9sbFkpIHtcbiAgICAgIHkgPSB0aGlzLm1pblNjcm9sbFk7XG4gICAgfSBlbHNlIGlmICh5IDwgdGhpcy5tYXhTY3JvbGxZKSB7XG4gICAgICB5ID0gdGhpcy5tYXhTY3JvbGxZO1xuICAgIH1cblxuICAgIHZhciBsID0gdGhpcy5wYWdlcy5sZW5ndGg7XG4gICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmICh4ID49IHRoaXMucGFnZXNbaV1bMF0uY3gpIHtcbiAgICAgICAgeCA9IHRoaXMucGFnZXNbaV1bMF0ueDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbCA9IHRoaXMucGFnZXNbaV0ubGVuZ3RoO1xuXG4gICAgdmFyIG0gPSAwO1xuICAgIGZvciAoOyBtIDwgbDsgbSsrKSB7XG4gICAgICBpZiAoeSA+PSB0aGlzLnBhZ2VzWzBdW21dLmN5KSB7XG4gICAgICAgIHkgPSB0aGlzLnBhZ2VzWzBdW21dLnk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpID09PSB0aGlzLmN1cnJlbnRQYWdlLnBhZ2VYKSB7XG4gICAgICBpICs9IHRoaXMuZGlyZWN0aW9uWDtcblxuICAgICAgaWYgKGkgPCAwKSB7XG4gICAgICAgIGkgPSAwO1xuICAgICAgfSBlbHNlIGlmIChpID49IHRoaXMucGFnZXMubGVuZ3RoKSB7XG4gICAgICAgIGkgPSB0aGlzLnBhZ2VzLmxlbmd0aCAtIDE7XG4gICAgICB9XG5cbiAgICAgIHggPSB0aGlzLnBhZ2VzW2ldWzBdLng7XG4gICAgfVxuXG4gICAgaWYgKG0gPT09IHRoaXMuY3VycmVudFBhZ2UucGFnZVkpIHtcbiAgICAgIG0gKz0gdGhpcy5kaXJlY3Rpb25ZO1xuXG4gICAgICBpZiAobSA8IDApIHtcbiAgICAgICAgbSA9IDA7XG4gICAgICB9IGVsc2UgaWYgKG0gPj0gdGhpcy5wYWdlc1swXS5sZW5ndGgpIHtcbiAgICAgICAgbSA9IHRoaXMucGFnZXNbMF0ubGVuZ3RoIC0gMTtcbiAgICAgIH1cblxuICAgICAgeSA9IHRoaXMucGFnZXNbMF1bbV0ueTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgeDogeCxcbiAgICAgIHk6IHksXG4gICAgICBwYWdlWDogaSxcbiAgICAgIHBhZ2VZOiBtXG4gICAgfTtcbiAgfTtcblxuICBCU2Nyb2xsLnByb3RvdHlwZS5fZ29Ub1BhZ2UgPSBmdW5jdGlvbiAoeCkge1xuICAgIHZhciB5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgIHZhciB0aW1lID0gYXJndW1lbnRzWzJdO1xuICAgIHZhciBlYXNpbmcgPSBhcmd1bWVudHNbM107XG4gICAgdmFyIGlzU2lsZW50ID0gYXJndW1lbnRzWzRdO1xuXG4gICAgdmFyIHNuYXAgPSB0aGlzLm9wdGlvbnMuc25hcDtcblxuICAgIGlmICghc25hcCB8fCAhdGhpcy5wYWdlcyB8fCAhdGhpcy5wYWdlcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBlYXNpbmcgPSBlYXNpbmcgfHwgc25hcC5lYXNpbmcgfHwgZWFzZS5ib3VuY2U7XG5cbiAgICBpZiAoeCA+PSB0aGlzLnBhZ2VzLmxlbmd0aCkge1xuICAgICAgeCA9IHRoaXMucGFnZXMubGVuZ3RoIC0gMTtcbiAgICB9IGVsc2UgaWYgKHggPCAwKSB7XG4gICAgICB4ID0gMDtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMucGFnZXNbeF0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoeSA+PSB0aGlzLnBhZ2VzW3hdLmxlbmd0aCkge1xuICAgICAgeSA9IHRoaXMucGFnZXNbeF0ubGVuZ3RoIC0gMTtcbiAgICB9IGVsc2UgaWYgKHkgPCAwKSB7XG4gICAgICB5ID0gMDtcbiAgICB9XG5cbiAgICB2YXIgcG9zWCA9IHRoaXMucGFnZXNbeF1beV0ueDtcbiAgICB2YXIgcG9zWSA9IHRoaXMucGFnZXNbeF1beV0ueTtcblxuICAgIHRpbWUgPSB0aW1lID09PSB1bmRlZmluZWQgPyBzbmFwLnNwZWVkIHx8IE1hdGgubWF4KE1hdGgubWF4KE1hdGgubWluKE1hdGguYWJzKHBvc1ggLSB0aGlzLngpLCAxMDAwKSwgTWF0aC5taW4oTWF0aC5hYnMocG9zWSAtIHRoaXMueSksIDEwMDApKSwgMzAwKSA6IHRpbWU7XG5cbiAgICB0aGlzLmN1cnJlbnRQYWdlID0ge1xuICAgICAgeDogcG9zWCxcbiAgICAgIHk6IHBvc1ksXG4gICAgICBwYWdlWDogeCxcbiAgICAgIHBhZ2VZOiB5XG4gICAgfTtcbiAgICB0aGlzLnNjcm9sbFRvKHBvc1gsIHBvc1ksIHRpbWUsIGVhc2luZywgaXNTaWxlbnQpO1xuICB9O1xuXG4gIEJTY3JvbGwucHJvdG90eXBlLmdvVG9QYWdlID0gZnVuY3Rpb24gKHgsIHksIHRpbWUsIGVhc2luZykge1xuICAgIHZhciBzbmFwID0gdGhpcy5vcHRpb25zLnNuYXA7XG4gICAgaWYgKCFzbmFwIHx8ICF0aGlzLnBhZ2VzIHx8ICF0aGlzLnBhZ2VzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzbmFwLmxvb3ApIHtcbiAgICAgIHZhciBsZW4gPSB2b2lkIDA7XG4gICAgICBpZiAoc25hcC5fbG9vcFgpIHtcbiAgICAgICAgbGVuID0gdGhpcy5wYWdlcy5sZW5ndGggLSAyO1xuICAgICAgICBpZiAoeCA+PSBsZW4pIHtcbiAgICAgICAgICB4ID0gbGVuIC0gMTtcbiAgICAgICAgfSBlbHNlIGlmICh4IDwgMCkge1xuICAgICAgICAgIHggPSAwO1xuICAgICAgICB9XG4gICAgICAgIHggKz0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxlbiA9IHRoaXMucGFnZXNbMF0ubGVuZ3RoIC0gMjtcbiAgICAgICAgaWYgKHkgPj0gbGVuKSB7XG4gICAgICAgICAgeSA9IGxlbiAtIDE7XG4gICAgICAgIH0gZWxzZSBpZiAoeSA8IDApIHtcbiAgICAgICAgICB5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICB5ICs9IDE7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2dvVG9QYWdlKHgsIHksIHRpbWUsIGVhc2luZyk7XG4gIH07XG5cbiAgQlNjcm9sbC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh0aW1lLCBlYXNpbmcpIHtcbiAgICB2YXIgc25hcCA9IHRoaXMub3B0aW9ucy5zbmFwO1xuICAgIGlmICghc25hcCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB4ID0gdGhpcy5jdXJyZW50UGFnZS5wYWdlWDtcbiAgICB2YXIgeSA9IHRoaXMuY3VycmVudFBhZ2UucGFnZVk7XG5cbiAgICB4Kys7XG4gICAgaWYgKHggPj0gdGhpcy5wYWdlcy5sZW5ndGggJiYgdGhpcy5oYXNWZXJ0aWNhbFNjcm9sbCkge1xuICAgICAgeCA9IDA7XG4gICAgICB5Kys7XG4gICAgfVxuXG4gICAgdGhpcy5fZ29Ub1BhZ2UoeCwgeSwgdGltZSwgZWFzaW5nKTtcbiAgfTtcblxuICBCU2Nyb2xsLnByb3RvdHlwZS5wcmV2ID0gZnVuY3Rpb24gKHRpbWUsIGVhc2luZykge1xuICAgIHZhciBzbmFwID0gdGhpcy5vcHRpb25zLnNuYXA7XG4gICAgaWYgKCFzbmFwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHggPSB0aGlzLmN1cnJlbnRQYWdlLnBhZ2VYO1xuICAgIHZhciB5ID0gdGhpcy5jdXJyZW50UGFnZS5wYWdlWTtcblxuICAgIHgtLTtcbiAgICBpZiAoeCA8IDAgJiYgdGhpcy5oYXNWZXJ0aWNhbFNjcm9sbCkge1xuICAgICAgeCA9IDA7XG4gICAgICB5LS07XG4gICAgfVxuXG4gICAgdGhpcy5fZ29Ub1BhZ2UoeCwgeSwgdGltZSwgZWFzaW5nKTtcbiAgfTtcblxuICBCU2Nyb2xsLnByb3RvdHlwZS5nZXRDdXJyZW50UGFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc25hcCA9IHRoaXMub3B0aW9ucy5zbmFwO1xuICAgIGlmICghc25hcCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHNuYXAubG9vcCkge1xuICAgICAgdmFyIGN1cnJlbnRQYWdlID0gdm9pZCAwO1xuICAgICAgaWYgKHNuYXAuX2xvb3BYKSB7XG4gICAgICAgIGN1cnJlbnRQYWdlID0gZXh0ZW5kKHt9LCB0aGlzLmN1cnJlbnRQYWdlLCB7XG4gICAgICAgICAgcGFnZVg6IHRoaXMuY3VycmVudFBhZ2UucGFnZVggLSAxXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudFBhZ2UgPSBleHRlbmQoe30sIHRoaXMuY3VycmVudFBhZ2UsIHtcbiAgICAgICAgICBwYWdlWTogdGhpcy5jdXJyZW50UGFnZS5wYWdlWSAtIDFcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3VycmVudFBhZ2U7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmN1cnJlbnRQYWdlO1xuICB9O1xufVxuXG5mdW5jdGlvbiB3aGVlbE1peGluKEJTY3JvbGwpIHtcbiAgQlNjcm9sbC5wcm90b3R5cGUud2hlZWxUbyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLndoZWVsKSB7XG4gICAgICB2YXIgeSA9IC1pbmRleCAqIHRoaXMuaXRlbUhlaWdodDtcbiAgICAgIHRoaXMuc2Nyb2xsVG8oMCwgeSk7XG4gICAgfVxuICB9O1xuXG4gIEJTY3JvbGwucHJvdG90eXBlLmdldFNlbGVjdGVkSW5kZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy53aGVlbCAmJiB0aGlzLnNlbGVjdGVkSW5kZXg7XG4gIH07XG5cbiAgQlNjcm9sbC5wcm90b3R5cGUuX2luaXRXaGVlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgd2hlZWwgPSB0aGlzLm9wdGlvbnMud2hlZWw7XG4gICAgaWYgKCF3aGVlbC53aGVlbFdyYXBwZXJDbGFzcykge1xuICAgICAgd2hlZWwud2hlZWxXcmFwcGVyQ2xhc3MgPSAnd2hlZWwtc2Nyb2xsJztcbiAgICB9XG4gICAgaWYgKCF3aGVlbC53aGVlbEl0ZW1DbGFzcykge1xuICAgICAgd2hlZWwud2hlZWxJdGVtQ2xhc3MgPSAnd2hlZWwtaXRlbSc7XG4gICAgfVxuICAgIGlmICghd2hlZWwud2hlZWxEaXNhYmxlZEl0ZW1DbGFzcykge1xuICAgICAgd2hlZWwud2hlZWxEaXNhYmxlZEl0ZW1DbGFzcyA9ICd3aGVlbC1kaXNhYmxlZC1pdGVtJztcbiAgICB9XG4gICAgaWYgKHdoZWVsLnNlbGVjdGVkSW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgd2hlZWwuc2VsZWN0ZWRJbmRleCA9IDA7XG4gICAgfVxuICB9O1xuXG4gIEJTY3JvbGwucHJvdG90eXBlLl9maW5kTmVhcmVzdFZhbGlkV2hlZWwgPSBmdW5jdGlvbiAoeSkge1xuICAgIHkgPSB5ID4gMCA/IDAgOiB5IDwgdGhpcy5tYXhTY3JvbGxZID8gdGhpcy5tYXhTY3JvbGxZIDogeTtcbiAgICB2YXIgd2hlZWwgPSB0aGlzLm9wdGlvbnMud2hlZWw7XG4gICAgdmFyIGN1cnJlbnRJbmRleCA9IE1hdGguYWJzKE1hdGgucm91bmQoLXkgLyB0aGlzLml0ZW1IZWlnaHQpKTtcbiAgICB2YXIgY2FjaGVJbmRleCA9IGN1cnJlbnRJbmRleDtcbiAgICB2YXIgaXRlbXMgPSB0aGlzLml0ZW1zO1xuICAgIC8vIEltcGVyc29uYXRpb24gd2ViIG5hdGl2ZSBzZWxlY3RcbiAgICAvLyBmaXJzdCwgY2hlY2sgd2hldGhlciB0aGVyZSBpcyBhIGVuYWJsZSBpdGVtIHdob3NlIGluZGV4IGlzIHNtYWxsZXIgdGhhbiBjdXJyZW50SW5kZXhcbiAgICAvLyB0aGVuLCBjaGVjayB3aGV0aGVyIHRoZXJlIGlzIGEgZW5hYmxlIGl0ZW0gd2hvc2UgaW5kZXggaXMgYmlnZ2VyIHRoYW4gY3VycmVudEluZGV4XG4gICAgLy8gb3RoZXJ3aXNlLCB0aGVyZSBhcmUgYWxsIGRpc2FibGVkIGl0ZW1zLCBqdXN0IGtlZXAgY3VycmVudEluZGV4IHVuY2hhbmdlXG4gICAgd2hpbGUgKGN1cnJlbnRJbmRleCA+PSAwKSB7XG4gICAgICBpZiAoaXRlbXNbY3VycmVudEluZGV4XS5jbGFzc05hbWUuaW5kZXhPZih3aGVlbC53aGVlbERpc2FibGVkSXRlbUNsYXNzKSA9PT0gLTEpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjdXJyZW50SW5kZXgtLTtcbiAgICB9XG5cbiAgICBpZiAoY3VycmVudEluZGV4IDwgMCkge1xuICAgICAgY3VycmVudEluZGV4ID0gY2FjaGVJbmRleDtcbiAgICAgIHdoaWxlIChjdXJyZW50SW5kZXggPD0gaXRlbXMubGVuZ3RoIC0gMSkge1xuICAgICAgICBpZiAoaXRlbXNbY3VycmVudEluZGV4XS5jbGFzc05hbWUuaW5kZXhPZih3aGVlbC53aGVlbERpc2FibGVkSXRlbUNsYXNzKSA9PT0gLTEpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50SW5kZXgrKztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBrZWVwIGl0IHVuY2hhbmdlIHdoZW4gYWxsIHRoZSBpdGVtcyBhcmUgZGlzYWJsZWRcbiAgICBpZiAoY3VycmVudEluZGV4ID09PSBpdGVtcy5sZW5ndGgpIHtcbiAgICAgIGN1cnJlbnRJbmRleCA9IGNhY2hlSW5kZXg7XG4gICAgfVxuICAgIC8vIHdoZW4gYWxsIHRoZSBpdGVtcyBhcmUgZGlzYWJsZWQsIHRoaXMuc2VsZWN0ZWRJbmRleCBzaG91bGQgYWx3YXlzIGJlIC0xXG4gICAgcmV0dXJuIHtcbiAgICAgIGluZGV4OiB0aGlzLndoZWVsSXRlbXNBbGxEaXNhYmxlZCA/IC0xIDogY3VycmVudEluZGV4LFxuICAgICAgeTogLWN1cnJlbnRJbmRleCAqIHRoaXMuaXRlbUhlaWdodFxuICAgIH07XG4gIH07XG5cbiAgQlNjcm9sbC5wcm90b3R5cGUuX2NoZWNrV2hlZWxBbGxEaXNhYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgd2hlZWwgPSB0aGlzLm9wdGlvbnMud2hlZWw7XG4gICAgdmFyIGl0ZW1zID0gdGhpcy5pdGVtcztcbiAgICB0aGlzLndoZWVsSXRlbXNBbGxEaXNhYmxlZCA9IHRydWU7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGl0ZW1zW2ldLmNsYXNzTmFtZS5pbmRleE9mKHdoZWVsLndoZWVsRGlzYWJsZWRJdGVtQ2xhc3MpID09PSAtMSkge1xuICAgICAgICB0aGlzLndoZWVsSXRlbXNBbGxEaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbnZhciBJTkRJQ0FUT1JfTUlOX0xFTiA9IDg7XG5cbmZ1bmN0aW9uIHNjcm9sbGJhck1peGluKEJTY3JvbGwpIHtcbiAgQlNjcm9sbC5wcm90b3R5cGUuX2luaXRTY3JvbGxiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBfb3B0aW9ucyRzY3JvbGxiYXIgPSB0aGlzLm9wdGlvbnMuc2Nyb2xsYmFyLFxuICAgICAgICBfb3B0aW9ucyRzY3JvbGxiYXIkZmEgPSBfb3B0aW9ucyRzY3JvbGxiYXIuZmFkZSxcbiAgICAgICAgZmFkZSA9IF9vcHRpb25zJHNjcm9sbGJhciRmYSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IF9vcHRpb25zJHNjcm9sbGJhciRmYSxcbiAgICAgICAgX29wdGlvbnMkc2Nyb2xsYmFyJGluID0gX29wdGlvbnMkc2Nyb2xsYmFyLmludGVyYWN0aXZlLFxuICAgICAgICBpbnRlcmFjdGl2ZSA9IF9vcHRpb25zJHNjcm9sbGJhciRpbiA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfb3B0aW9ucyRzY3JvbGxiYXIkaW47XG5cbiAgICB0aGlzLmluZGljYXRvcnMgPSBbXTtcbiAgICB2YXIgaW5kaWNhdG9yID0gdm9pZCAwO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5zY3JvbGxYKSB7XG4gICAgICBpbmRpY2F0b3IgPSB7XG4gICAgICAgIGVsOiBjcmVhdGVTY3JvbGxiYXIoJ2hvcml6b250YWwnKSxcbiAgICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXG4gICAgICAgIGZhZGU6IGZhZGUsXG4gICAgICAgIGludGVyYWN0aXZlOiBpbnRlcmFjdGl2ZVxuICAgICAgfTtcbiAgICAgIHRoaXMuX2luc2VydFNjcm9sbEJhcihpbmRpY2F0b3IuZWwpO1xuXG4gICAgICB0aGlzLmluZGljYXRvcnMucHVzaChuZXcgSW5kaWNhdG9yKHRoaXMsIGluZGljYXRvcikpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMuc2Nyb2xsWSkge1xuICAgICAgaW5kaWNhdG9yID0ge1xuICAgICAgICBlbDogY3JlYXRlU2Nyb2xsYmFyKCd2ZXJ0aWNhbCcpLFxuICAgICAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCcsXG4gICAgICAgIGZhZGU6IGZhZGUsXG4gICAgICAgIGludGVyYWN0aXZlOiBpbnRlcmFjdGl2ZVxuICAgICAgfTtcbiAgICAgIHRoaXMuX2luc2VydFNjcm9sbEJhcihpbmRpY2F0b3IuZWwpO1xuICAgICAgdGhpcy5pbmRpY2F0b3JzLnB1c2gobmV3IEluZGljYXRvcih0aGlzLCBpbmRpY2F0b3IpKTtcbiAgICB9XG5cbiAgICB0aGlzLm9uKCdyZWZyZXNoJywgZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpcy5pbmRpY2F0b3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIF90aGlzLmluZGljYXRvcnNbaV0ucmVmcmVzaCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGZhZGUpIHtcbiAgICAgIHRoaXMub24oJ3Njcm9sbEVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpcy5pbmRpY2F0b3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgX3RoaXMuaW5kaWNhdG9yc1tpXS5mYWRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLm9uKCdzY3JvbGxDYW5jZWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMuaW5kaWNhdG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIF90aGlzLmluZGljYXRvcnNbaV0uZmFkZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5vbignc2Nyb2xsU3RhcnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMuaW5kaWNhdG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIF90aGlzLmluZGljYXRvcnNbaV0uZmFkZSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMub24oJ2JlZm9yZVNjcm9sbFN0YXJ0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzLmluZGljYXRvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBfdGhpcy5pbmRpY2F0b3JzW2ldLmZhZGUodHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5fcmVtb3ZlU2Nyb2xsQmFycygpO1xuICAgIH0pO1xuICB9O1xuXG4gIEJTY3JvbGwucHJvdG90eXBlLl9pbnNlcnRTY3JvbGxCYXIgPSBmdW5jdGlvbiAoc2Nyb2xsYmFyKSB7XG4gICAgdGhpcy53cmFwcGVyLmFwcGVuZENoaWxkKHNjcm9sbGJhcik7XG4gIH07XG5cbiAgQlNjcm9sbC5wcm90b3R5cGUuX3JlbW92ZVNjcm9sbEJhcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmluZGljYXRvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuaW5kaWNhdG9yc1tpXS5kZXN0cm95KCk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTY3JvbGxiYXIoZGlyZWN0aW9uKSB7XG4gIHZhciBzY3JvbGxiYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdmFyIGluZGljYXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gIHNjcm9sbGJhci5zdHlsZS5jc3NUZXh0ID0gJ3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6OTk5OTtwb2ludGVyRXZlbnRzOm5vbmUnO1xuICBpbmRpY2F0b3Iuc3R5bGUuY3NzVGV4dCA9ICdib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLDAuNSk7Ym9yZGVyOjFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuOSk7Ym9yZGVyLXJhZGl1czozcHg7JztcblxuICBpbmRpY2F0b3IuY2xhc3NOYW1lID0gJ2JzY3JvbGwtaW5kaWNhdG9yJztcblxuICBpZiAoZGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICBzY3JvbGxiYXIuc3R5bGUuY3NzVGV4dCArPSAnO2hlaWdodDo3cHg7bGVmdDoycHg7cmlnaHQ6MnB4O2JvdHRvbTowJztcbiAgICBpbmRpY2F0b3Iuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIHNjcm9sbGJhci5jbGFzc05hbWUgPSAnYnNjcm9sbC1ob3Jpem9udGFsLXNjcm9sbGJhcic7XG4gIH0gZWxzZSB7XG4gICAgc2Nyb2xsYmFyLnN0eWxlLmNzc1RleHQgKz0gJzt3aWR0aDo3cHg7Ym90dG9tOjJweDt0b3A6MnB4O3JpZ2h0OjFweCc7XG4gICAgaW5kaWNhdG9yLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgIHNjcm9sbGJhci5jbGFzc05hbWUgPSAnYnNjcm9sbC12ZXJ0aWNhbC1zY3JvbGxiYXInO1xuICB9XG5cbiAgc2Nyb2xsYmFyLnN0eWxlLmNzc1RleHQgKz0gJztvdmVyZmxvdzpoaWRkZW4nO1xuICBzY3JvbGxiYXIuYXBwZW5kQ2hpbGQoaW5kaWNhdG9yKTtcblxuICByZXR1cm4gc2Nyb2xsYmFyO1xufVxuXG5mdW5jdGlvbiBJbmRpY2F0b3Ioc2Nyb2xsZXIsIG9wdGlvbnMpIHtcbiAgdGhpcy53cmFwcGVyID0gb3B0aW9ucy5lbDtcbiAgdGhpcy53cmFwcGVyU3R5bGUgPSB0aGlzLndyYXBwZXIuc3R5bGU7XG4gIHRoaXMuaW5kaWNhdG9yID0gdGhpcy53cmFwcGVyLmNoaWxkcmVuWzBdO1xuICB0aGlzLmluZGljYXRvclN0eWxlID0gdGhpcy5pbmRpY2F0b3Iuc3R5bGU7XG4gIHRoaXMuc2Nyb2xsZXIgPSBzY3JvbGxlcjtcbiAgdGhpcy5kaXJlY3Rpb24gPSBvcHRpb25zLmRpcmVjdGlvbjtcbiAgaWYgKG9wdGlvbnMuZmFkZSkge1xuICAgIHRoaXMudmlzaWJsZSA9IDA7XG4gICAgdGhpcy53cmFwcGVyU3R5bGUub3BhY2l0eSA9ICcwJztcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnZpc2libGUgPSAxO1xuICB9XG5cbiAgdGhpcy5zaXplUmF0aW9YID0gMTtcbiAgdGhpcy5zaXplUmF0aW9ZID0gMTtcbiAgdGhpcy5tYXhQb3NYID0gMDtcbiAgdGhpcy5tYXhQb3NZID0gMDtcbiAgdGhpcy54ID0gMDtcbiAgdGhpcy55ID0gMDtcblxuICBpZiAob3B0aW9ucy5pbnRlcmFjdGl2ZSkge1xuICAgIHRoaXMuX2FkZERPTUV2ZW50cygpO1xuICB9XG59XG5cbkluZGljYXRvci5wcm90b3R5cGUuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiAoZSkge1xuICBzd2l0Y2ggKGUudHlwZSkge1xuICAgIGNhc2UgJ3RvdWNoc3RhcnQnOlxuICAgIGNhc2UgJ21vdXNlZG93bic6XG4gICAgICB0aGlzLl9zdGFydChlKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3RvdWNobW92ZSc6XG4gICAgY2FzZSAnbW91c2Vtb3ZlJzpcbiAgICAgIHRoaXMuX21vdmUoZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd0b3VjaGVuZCc6XG4gICAgY2FzZSAnbW91c2V1cCc6XG4gICAgY2FzZSAndG91Y2hjYW5jZWwnOlxuICAgIGNhc2UgJ21vdXNlY2FuY2VsJzpcbiAgICAgIHRoaXMuX2VuZChlKTtcbiAgICAgIGJyZWFrO1xuICB9XG59O1xuXG5JbmRpY2F0b3IucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLl9zaG91bGRTaG93KCkpIHtcbiAgICB0aGlzLnRyYW5zaXRpb25UaW1lKCk7XG4gICAgdGhpcy5fY2FsY3VsYXRlKCk7XG4gICAgdGhpcy51cGRhdGVQb3NpdGlvbigpO1xuICB9XG59O1xuXG5JbmRpY2F0b3IucHJvdG90eXBlLmZhZGUgPSBmdW5jdGlvbiAodmlzaWJsZSwgaG9sZCkge1xuICB2YXIgX3RoaXMyID0gdGhpcztcblxuICBpZiAoaG9sZCAmJiAhdGhpcy52aXNpYmxlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHRpbWUgPSB2aXNpYmxlID8gMjUwIDogNTAwO1xuXG4gIHZpc2libGUgPSB2aXNpYmxlID8gJzEnIDogJzAnO1xuXG4gIHRoaXMud3JhcHBlclN0eWxlW3N0eWxlLnRyYW5zaXRpb25EdXJhdGlvbl0gPSB0aW1lICsgJ21zJztcblxuICBjbGVhclRpbWVvdXQodGhpcy5mYWRlVGltZW91dCk7XG4gIHRoaXMuZmFkZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICBfdGhpczIud3JhcHBlclN0eWxlLm9wYWNpdHkgPSB2aXNpYmxlO1xuICAgIF90aGlzMi52aXNpYmxlID0gK3Zpc2libGU7XG4gIH0sIDApO1xufTtcblxuSW5kaWNhdG9yLnByb3RvdHlwZS51cGRhdGVQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSAndmVydGljYWwnKSB7XG4gICAgdmFyIHkgPSBNYXRoLnJvdW5kKHRoaXMuc2l6ZVJhdGlvWSAqIHRoaXMuc2Nyb2xsZXIueSk7XG5cbiAgICBpZiAoeSA8IDApIHtcbiAgICAgIHRoaXMudHJhbnNpdGlvblRpbWUoNTAwKTtcbiAgICAgIHZhciBoZWlnaHQgPSBNYXRoLm1heCh0aGlzLmluZGljYXRvckhlaWdodCArIHkgKiAzLCBJTkRJQ0FUT1JfTUlOX0xFTik7XG4gICAgICB0aGlzLmluZGljYXRvclN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XG4gICAgICB5ID0gMDtcbiAgICB9IGVsc2UgaWYgKHkgPiB0aGlzLm1heFBvc1kpIHtcbiAgICAgIHRoaXMudHJhbnNpdGlvblRpbWUoNTAwKTtcbiAgICAgIHZhciBfaGVpZ2h0ID0gTWF0aC5tYXgodGhpcy5pbmRpY2F0b3JIZWlnaHQgLSAoeSAtIHRoaXMubWF4UG9zWSkgKiAzLCBJTkRJQ0FUT1JfTUlOX0xFTik7XG4gICAgICB0aGlzLmluZGljYXRvclN0eWxlLmhlaWdodCA9IF9oZWlnaHQgKyAncHgnO1xuICAgICAgeSA9IHRoaXMubWF4UG9zWSArIHRoaXMuaW5kaWNhdG9ySGVpZ2h0IC0gX2hlaWdodDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbmRpY2F0b3JTdHlsZS5oZWlnaHQgPSB0aGlzLmluZGljYXRvckhlaWdodCArICdweCc7XG4gICAgfVxuICAgIHRoaXMueSA9IHk7XG5cbiAgICBpZiAodGhpcy5zY3JvbGxlci5vcHRpb25zLnVzZVRyYW5zZm9ybSkge1xuICAgICAgdGhpcy5pbmRpY2F0b3JTdHlsZVtzdHlsZS50cmFuc2Zvcm1dID0gJ3RyYW5zbGF0ZVkoJyArIHkgKyAncHgpJyArIHRoaXMuc2Nyb2xsZXIudHJhbnNsYXRlWjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbmRpY2F0b3JTdHlsZS50b3AgPSB5ICsgJ3B4JztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIHggPSBNYXRoLnJvdW5kKHRoaXMuc2l6ZVJhdGlvWCAqIHRoaXMuc2Nyb2xsZXIueCk7XG5cbiAgICBpZiAoeCA8IDApIHtcbiAgICAgIHRoaXMudHJhbnNpdGlvblRpbWUoNTAwKTtcbiAgICAgIHZhciB3aWR0aCA9IE1hdGgubWF4KHRoaXMuaW5kaWNhdG9yV2lkdGggKyB4ICogMywgSU5ESUNBVE9SX01JTl9MRU4pO1xuICAgICAgdGhpcy5pbmRpY2F0b3JTdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4JztcbiAgICAgIHggPSAwO1xuICAgIH0gZWxzZSBpZiAoeCA+IHRoaXMubWF4UG9zWCkge1xuICAgICAgdGhpcy50cmFuc2l0aW9uVGltZSg1MDApO1xuICAgICAgdmFyIF93aWR0aCA9IE1hdGgubWF4KHRoaXMuaW5kaWNhdG9yV2lkdGggLSAoeCAtIHRoaXMubWF4UG9zWCkgKiAzLCBJTkRJQ0FUT1JfTUlOX0xFTik7XG4gICAgICB0aGlzLmluZGljYXRvclN0eWxlLndpZHRoID0gX3dpZHRoICsgJ3B4JztcbiAgICAgIHggPSB0aGlzLm1heFBvc1ggKyB0aGlzLmluZGljYXRvcldpZHRoIC0gX3dpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluZGljYXRvclN0eWxlLndpZHRoID0gdGhpcy5pbmRpY2F0b3JXaWR0aCArICdweCc7XG4gICAgfVxuXG4gICAgdGhpcy54ID0geDtcblxuICAgIGlmICh0aGlzLnNjcm9sbGVyLm9wdGlvbnMudXNlVHJhbnNmb3JtKSB7XG4gICAgICB0aGlzLmluZGljYXRvclN0eWxlW3N0eWxlLnRyYW5zZm9ybV0gPSAndHJhbnNsYXRlWCgnICsgeCArICdweCknICsgdGhpcy5zY3JvbGxlci50cmFuc2xhdGVaO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluZGljYXRvclN0eWxlLmxlZnQgPSB4ICsgJ3B4JztcbiAgICB9XG4gIH1cbn07XG5cbkluZGljYXRvci5wcm90b3R5cGUudHJhbnNpdGlvblRpbWUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB0aW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuXG4gIHRoaXMuaW5kaWNhdG9yU3R5bGVbc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uXSA9IHRpbWUgKyAnbXMnO1xufTtcblxuSW5kaWNhdG9yLnByb3RvdHlwZS50cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24gPSBmdW5jdGlvbiAoZWFzaW5nKSB7XG4gIHRoaXMuaW5kaWNhdG9yU3R5bGVbc3R5bGUudHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uXSA9IGVhc2luZztcbn07XG5cbkluZGljYXRvci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fcmVtb3ZlRE9NRXZlbnRzKCk7XG4gIHRoaXMud3JhcHBlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMud3JhcHBlcik7XG59O1xuXG5JbmRpY2F0b3IucHJvdG90eXBlLl9zdGFydCA9IGZ1bmN0aW9uIChlKSB7XG4gIHZhciBwb2ludCA9IGUudG91Y2hlcyA/IGUudG91Y2hlc1swXSA6IGU7XG5cbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gIHRoaXMudHJhbnNpdGlvblRpbWUoKTtcblxuICB0aGlzLmluaXRpYXRlZCA9IHRydWU7XG4gIHRoaXMubW92ZWQgPSBmYWxzZTtcbiAgdGhpcy5sYXN0UG9pbnRYID0gcG9pbnQucGFnZVg7XG4gIHRoaXMubGFzdFBvaW50WSA9IHBvaW50LnBhZ2VZO1xuXG4gIHRoaXMuc3RhcnRUaW1lID0gZ2V0Tm93KCk7XG5cbiAgdGhpcy5faGFuZGxlTW92ZUV2ZW50cyhhZGRFdmVudCk7XG4gIHRoaXMuc2Nyb2xsZXIudHJpZ2dlcignYmVmb3JlU2Nyb2xsU3RhcnQnKTtcbn07XG5cbkluZGljYXRvci5wcm90b3R5cGUuX21vdmUgPSBmdW5jdGlvbiAoZSkge1xuICB2YXIgcG9pbnQgPSBlLnRvdWNoZXMgPyBlLnRvdWNoZXNbMF0gOiBlO1xuXG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICBpZiAoIXRoaXMubW92ZWQpIHtcbiAgICB0aGlzLnNjcm9sbGVyLnRyaWdnZXIoJ3Njcm9sbFN0YXJ0Jyk7XG4gIH1cblxuICB0aGlzLm1vdmVkID0gdHJ1ZTtcblxuICB2YXIgZGVsdGFYID0gcG9pbnQucGFnZVggLSB0aGlzLmxhc3RQb2ludFg7XG4gIHRoaXMubGFzdFBvaW50WCA9IHBvaW50LnBhZ2VYO1xuXG4gIHZhciBkZWx0YVkgPSBwb2ludC5wYWdlWSAtIHRoaXMubGFzdFBvaW50WTtcbiAgdGhpcy5sYXN0UG9pbnRZID0gcG9pbnQucGFnZVk7XG5cbiAgdmFyIG5ld1ggPSB0aGlzLnggKyBkZWx0YVg7XG4gIHZhciBuZXdZID0gdGhpcy55ICsgZGVsdGFZO1xuXG4gIHRoaXMuX3BvcyhuZXdYLCBuZXdZKTtcbn07XG5cbkluZGljYXRvci5wcm90b3R5cGUuX2VuZCA9IGZ1bmN0aW9uIChlKSB7XG4gIGlmICghdGhpcy5pbml0aWF0ZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5pbml0aWF0ZWQgPSBmYWxzZTtcblxuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgdGhpcy5faGFuZGxlTW92ZUV2ZW50cyhyZW1vdmVFdmVudCk7XG5cbiAgdmFyIHNuYXBPcHRpb24gPSB0aGlzLnNjcm9sbGVyLm9wdGlvbnMuc25hcDtcbiAgaWYgKHNuYXBPcHRpb24pIHtcbiAgICB2YXIgc3BlZWQgPSBzbmFwT3B0aW9uLnNwZWVkLFxuICAgICAgICBfc25hcE9wdGlvbiRlYXNpbmcgPSBzbmFwT3B0aW9uLmVhc2luZyxcbiAgICAgICAgZWFzaW5nID0gX3NuYXBPcHRpb24kZWFzaW5nID09PSB1bmRlZmluZWQgPyBlYXNlLmJvdW5jZSA6IF9zbmFwT3B0aW9uJGVhc2luZztcblxuICAgIHZhciBzbmFwID0gdGhpcy5zY3JvbGxlci5fbmVhcmVzdFNuYXAodGhpcy5zY3JvbGxlci54LCB0aGlzLnNjcm9sbGVyLnkpO1xuXG4gICAgdmFyIHRpbWUgPSBzcGVlZCB8fCBNYXRoLm1heChNYXRoLm1heChNYXRoLm1pbihNYXRoLmFicyh0aGlzLnNjcm9sbGVyLnggLSBzbmFwLngpLCAxMDAwKSwgTWF0aC5taW4oTWF0aC5hYnModGhpcy5zY3JvbGxlci55IC0gc25hcC55KSwgMTAwMCkpLCAzMDApO1xuXG4gICAgaWYgKHRoaXMuc2Nyb2xsZXIueCAhPT0gc25hcC54IHx8IHRoaXMuc2Nyb2xsZXIueSAhPT0gc25hcC55KSB7XG4gICAgICB0aGlzLnNjcm9sbGVyLmRpcmVjdGlvblggPSAwO1xuICAgICAgdGhpcy5zY3JvbGxlci5kaXJlY3Rpb25ZID0gMDtcbiAgICAgIHRoaXMuc2Nyb2xsZXIuY3VycmVudFBhZ2UgPSBzbmFwO1xuICAgICAgdGhpcy5zY3JvbGxlci5zY3JvbGxUbyhzbmFwLngsIHNuYXAueSwgdGltZSwgZWFzaW5nKTtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5tb3ZlZCkge1xuICAgIHRoaXMuc2Nyb2xsZXIudHJpZ2dlcignc2Nyb2xsRW5kJywge1xuICAgICAgeDogdGhpcy5zY3JvbGxlci54LFxuICAgICAgeTogdGhpcy5zY3JvbGxlci55XG4gICAgfSk7XG4gIH1cbn07XG5cbkluZGljYXRvci5wcm90b3R5cGUuX3BvcyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gIGlmICh4IDwgMCkge1xuICAgIHggPSAwO1xuICB9IGVsc2UgaWYgKHggPiB0aGlzLm1heFBvc1gpIHtcbiAgICB4ID0gdGhpcy5tYXhQb3NYO1xuICB9XG5cbiAgaWYgKHkgPCAwKSB7XG4gICAgeSA9IDA7XG4gIH0gZWxzZSBpZiAoeSA+IHRoaXMubWF4UG9zWSkge1xuICAgIHkgPSB0aGlzLm1heFBvc1k7XG4gIH1cblxuICB4ID0gTWF0aC5yb3VuZCh4IC8gdGhpcy5zaXplUmF0aW9YKTtcbiAgeSA9IE1hdGgucm91bmQoeSAvIHRoaXMuc2l6ZVJhdGlvWSk7XG5cbiAgdGhpcy5zY3JvbGxlci5zY3JvbGxUbyh4LCB5KTtcbiAgdGhpcy5zY3JvbGxlci50cmlnZ2VyKCdzY3JvbGwnLCB7XG4gICAgeDogdGhpcy5zY3JvbGxlci54LFxuICAgIHk6IHRoaXMuc2Nyb2xsZXIueVxuICB9KTtcbn07XG5cbkluZGljYXRvci5wcm90b3R5cGUuX3Nob3VsZFNob3cgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmRpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJyAmJiB0aGlzLnNjcm9sbGVyLmhhc1ZlcnRpY2FsU2Nyb2xsIHx8IHRoaXMuZGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcgJiYgdGhpcy5zY3JvbGxlci5oYXNIb3Jpem9udGFsU2Nyb2xsKSB7XG4gICAgdGhpcy53cmFwcGVyLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB0aGlzLndyYXBwZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuSW5kaWNhdG9yLnByb3RvdHlwZS5fY2FsY3VsYXRlID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICB2YXIgd3JhcHBlckhlaWdodCA9IHRoaXMud3JhcHBlci5jbGllbnRIZWlnaHQ7XG4gICAgdGhpcy5pbmRpY2F0b3JIZWlnaHQgPSBNYXRoLm1heChNYXRoLnJvdW5kKHdyYXBwZXJIZWlnaHQgKiB3cmFwcGVySGVpZ2h0IC8gKHRoaXMuc2Nyb2xsZXIuc2Nyb2xsZXJIZWlnaHQgfHwgd3JhcHBlckhlaWdodCB8fCAxKSksIElORElDQVRPUl9NSU5fTEVOKTtcbiAgICB0aGlzLmluZGljYXRvclN0eWxlLmhlaWdodCA9IHRoaXMuaW5kaWNhdG9ySGVpZ2h0ICsgJ3B4JztcblxuICAgIHRoaXMubWF4UG9zWSA9IHdyYXBwZXJIZWlnaHQgLSB0aGlzLmluZGljYXRvckhlaWdodDtcblxuICAgIHRoaXMuc2l6ZVJhdGlvWSA9IHRoaXMubWF4UG9zWSAvIHRoaXMuc2Nyb2xsZXIubWF4U2Nyb2xsWTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgd3JhcHBlcldpZHRoID0gdGhpcy53cmFwcGVyLmNsaWVudFdpZHRoO1xuICAgIHRoaXMuaW5kaWNhdG9yV2lkdGggPSBNYXRoLm1heChNYXRoLnJvdW5kKHdyYXBwZXJXaWR0aCAqIHdyYXBwZXJXaWR0aCAvICh0aGlzLnNjcm9sbGVyLnNjcm9sbGVyV2lkdGggfHwgd3JhcHBlcldpZHRoIHx8IDEpKSwgSU5ESUNBVE9SX01JTl9MRU4pO1xuICAgIHRoaXMuaW5kaWNhdG9yU3R5bGUud2lkdGggPSB0aGlzLmluZGljYXRvcldpZHRoICsgJ3B4JztcblxuICAgIHRoaXMubWF4UG9zWCA9IHdyYXBwZXJXaWR0aCAtIHRoaXMuaW5kaWNhdG9yV2lkdGg7XG5cbiAgICB0aGlzLnNpemVSYXRpb1ggPSB0aGlzLm1heFBvc1ggLyB0aGlzLnNjcm9sbGVyLm1heFNjcm9sbFg7XG4gIH1cbn07XG5cbkluZGljYXRvci5wcm90b3R5cGUuX2FkZERPTUV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGV2ZW50T3BlcmF0aW9uID0gYWRkRXZlbnQ7XG4gIHRoaXMuX2hhbmRsZURPTUV2ZW50cyhldmVudE9wZXJhdGlvbik7XG59O1xuXG5JbmRpY2F0b3IucHJvdG90eXBlLl9yZW1vdmVET01FdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBldmVudE9wZXJhdGlvbiA9IHJlbW92ZUV2ZW50O1xuICB0aGlzLl9oYW5kbGVET01FdmVudHMoZXZlbnRPcGVyYXRpb24pO1xuICB0aGlzLl9oYW5kbGVNb3ZlRXZlbnRzKGV2ZW50T3BlcmF0aW9uKTtcbn07XG5cbkluZGljYXRvci5wcm90b3R5cGUuX2hhbmRsZU1vdmVFdmVudHMgPSBmdW5jdGlvbiAoZXZlbnRPcGVyYXRpb24pIHtcbiAgaWYgKCF0aGlzLnNjcm9sbGVyLm9wdGlvbnMuZGlzYWJsZVRvdWNoKSB7XG4gICAgZXZlbnRPcGVyYXRpb24od2luZG93LCAndG91Y2htb3ZlJywgdGhpcyk7XG4gIH1cbiAgaWYgKCF0aGlzLnNjcm9sbGVyLm9wdGlvbnMuZGlzYWJsZU1vdXNlKSB7XG4gICAgZXZlbnRPcGVyYXRpb24od2luZG93LCAnbW91c2Vtb3ZlJywgdGhpcyk7XG4gIH1cbn07XG5cbkluZGljYXRvci5wcm90b3R5cGUuX2hhbmRsZURPTUV2ZW50cyA9IGZ1bmN0aW9uIChldmVudE9wZXJhdGlvbikge1xuICBpZiAoIXRoaXMuc2Nyb2xsZXIub3B0aW9ucy5kaXNhYmxlVG91Y2gpIHtcbiAgICBldmVudE9wZXJhdGlvbih0aGlzLmluZGljYXRvciwgJ3RvdWNoc3RhcnQnLCB0aGlzKTtcbiAgICBldmVudE9wZXJhdGlvbih3aW5kb3csICd0b3VjaGVuZCcsIHRoaXMpO1xuICB9XG4gIGlmICghdGhpcy5zY3JvbGxlci5vcHRpb25zLmRpc2FibGVNb3VzZSkge1xuICAgIGV2ZW50T3BlcmF0aW9uKHRoaXMuaW5kaWNhdG9yLCAnbW91c2Vkb3duJywgdGhpcyk7XG4gICAgZXZlbnRPcGVyYXRpb24od2luZG93LCAnbW91c2V1cCcsIHRoaXMpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBwdWxsRG93bk1peGluKEJTY3JvbGwpIHtcbiAgQlNjcm9sbC5wcm90b3R5cGUuX2luaXRQdWxsRG93biA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBtdXN0IHdhdGNoIHNjcm9sbCBpbiByZWFsIHRpbWVcbiAgICB0aGlzLm9wdGlvbnMucHJvYmVUeXBlID0gUFJPQkVfUkVBTFRJTUU7XG4gIH07XG5cbiAgQlNjcm9sbC5wcm90b3R5cGUuX2NoZWNrUHVsbERvd24gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9vcHRpb25zJHB1bGxEb3duUmVmciA9IHRoaXMub3B0aW9ucy5wdWxsRG93blJlZnJlc2gsXG4gICAgICAgIF9vcHRpb25zJHB1bGxEb3duUmVmcjIgPSBfb3B0aW9ucyRwdWxsRG93blJlZnIudGhyZXNob2xkLFxuICAgICAgICB0aHJlc2hvbGQgPSBfb3B0aW9ucyRwdWxsRG93blJlZnIyID09PSB1bmRlZmluZWQgPyA5MCA6IF9vcHRpb25zJHB1bGxEb3duUmVmcjIsXG4gICAgICAgIF9vcHRpb25zJHB1bGxEb3duUmVmcjMgPSBfb3B0aW9ucyRwdWxsRG93blJlZnIuc3RvcCxcbiAgICAgICAgc3RvcCA9IF9vcHRpb25zJHB1bGxEb3duUmVmcjMgPT09IHVuZGVmaW5lZCA/IDQwIDogX29wdGlvbnMkcHVsbERvd25SZWZyMztcblxuICAgIC8vIGNoZWNrIGlmIGEgcmVhbCBwdWxsIGRvd24gYWN0aW9uXG5cbiAgICBpZiAodGhpcy5kaXJlY3Rpb25ZICE9PSBESVJFQ1RJT05fRE9XTiB8fCB0aGlzLnkgPCB0aHJlc2hvbGQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMucHVsbGluZykge1xuICAgICAgdGhpcy5wdWxsaW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMudHJpZ2dlcigncHVsbGluZ0Rvd24nKTtcbiAgICB9XG4gICAgdGhpcy5zY3JvbGxUbyh0aGlzLngsIHN0b3AsIHRoaXMub3B0aW9ucy5ib3VuY2VUaW1lLCBlYXNlLmJvdW5jZSk7XG5cbiAgICByZXR1cm4gdGhpcy5wdWxsaW5nO1xuICB9O1xuXG4gIEJTY3JvbGwucHJvdG90eXBlLmZpbmlzaFB1bGxEb3duID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMucHVsbGluZyA9IGZhbHNlO1xuICAgIHRoaXMucmVzZXRQb3NpdGlvbih0aGlzLm9wdGlvbnMuYm91bmNlVGltZSwgZWFzZS5ib3VuY2UpO1xuICB9O1xuXG4gIEJTY3JvbGwucHJvdG90eXBlLm9wZW5QdWxsRG93biA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY29uZmlnID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0cnVlO1xuXG4gICAgdGhpcy5vcHRpb25zLnB1bGxEb3duUmVmcmVzaCA9IGNvbmZpZztcbiAgICB0aGlzLl9pbml0UHVsbERvd24oKTtcbiAgfTtcblxuICBCU2Nyb2xsLnByb3RvdHlwZS5jbG9zZVB1bGxEb3duID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMub3B0aW9ucy5wdWxsRG93blJlZnJlc2ggPSBmYWxzZTtcbiAgfTtcblxuICBCU2Nyb2xsLnByb3RvdHlwZS5hdXRvUHVsbERvd25SZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfb3B0aW9ucyRwdWxsRG93blJlZnI0ID0gdGhpcy5vcHRpb25zLnB1bGxEb3duUmVmcmVzaCxcbiAgICAgICAgX29wdGlvbnMkcHVsbERvd25SZWZyNSA9IF9vcHRpb25zJHB1bGxEb3duUmVmcjQudGhyZXNob2xkLFxuICAgICAgICB0aHJlc2hvbGQgPSBfb3B0aW9ucyRwdWxsRG93blJlZnI1ID09PSB1bmRlZmluZWQgPyA5MCA6IF9vcHRpb25zJHB1bGxEb3duUmVmcjUsXG4gICAgICAgIF9vcHRpb25zJHB1bGxEb3duUmVmcjYgPSBfb3B0aW9ucyRwdWxsRG93blJlZnI0LnN0b3AsXG4gICAgICAgIHN0b3AgPSBfb3B0aW9ucyRwdWxsRG93blJlZnI2ID09PSB1bmRlZmluZWQgPyA0MCA6IF9vcHRpb25zJHB1bGxEb3duUmVmcjY7XG5cblxuICAgIGlmICh0aGlzLnB1bGxpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5wdWxsaW5nID0gdHJ1ZTtcblxuICAgIHRoaXMuc2Nyb2xsVG8odGhpcy54LCB0aHJlc2hvbGQpO1xuICAgIHRoaXMudHJpZ2dlcigncHVsbGluZ0Rvd24nKTtcbiAgICB0aGlzLnNjcm9sbFRvKHRoaXMueCwgc3RvcCwgdGhpcy5vcHRpb25zLmJvdW5jZVRpbWUsIGVhc2UuYm91bmNlKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gcHVsbFVwTWl4aW4oQlNjcm9sbCkge1xuICBCU2Nyb2xsLnByb3RvdHlwZS5faW5pdFB1bGxVcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBtdXN0IHdhdGNoIHNjcm9sbCBpbiByZWFsIHRpbWVcbiAgICB0aGlzLm9wdGlvbnMucHJvYmVUeXBlID0gUFJPQkVfUkVBTFRJTUU7XG5cbiAgICB0aGlzLnB1bGx1cFdhdGNoaW5nID0gZmFsc2U7XG4gICAgdGhpcy5fd2F0Y2hQdWxsVXAoKTtcbiAgfTtcblxuICBCU2Nyb2xsLnByb3RvdHlwZS5fd2F0Y2hQdWxsVXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMucHVsbHVwV2F0Y2hpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5wdWxsdXBXYXRjaGluZyA9IHRydWU7XG4gICAgdGhpcy5vbignc2Nyb2xsJywgdGhpcy5fY2hlY2tUb0VuZCk7XG4gIH07XG5cbiAgQlNjcm9sbC5wcm90b3R5cGUuX2NoZWNrVG9FbmQgPSBmdW5jdGlvbiAocG9zKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBfb3B0aW9ucyRwdWxsVXBMb2FkJHQgPSB0aGlzLm9wdGlvbnMucHVsbFVwTG9hZC50aHJlc2hvbGQsXG4gICAgICAgIHRocmVzaG9sZCA9IF9vcHRpb25zJHB1bGxVcExvYWQkdCA9PT0gdW5kZWZpbmVkID8gMCA6IF9vcHRpb25zJHB1bGxVcExvYWQkdDtcblxuICAgIGlmICh0aGlzLm1vdmluZ0RpcmVjdGlvblkgPT09IERJUkVDVElPTl9VUCAmJiBwb3MueSA8PSB0aGlzLm1heFNjcm9sbFkgKyB0aHJlc2hvbGQpIHtcbiAgICAgIC8vIHJlc2V0IHB1bGx1cFdhdGNoaW5nIHN0YXR1cyBhZnRlciBzY3JvbGwgZW5kLlxuICAgICAgdGhpcy5vbmNlKCdzY3JvbGxFbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnB1bGx1cFdhdGNoaW5nID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICAgIHRoaXMudHJpZ2dlcigncHVsbGluZ1VwJyk7XG4gICAgICB0aGlzLm9mZignc2Nyb2xsJywgdGhpcy5fY2hlY2tUb0VuZCk7XG4gICAgfVxuICB9O1xuXG4gIEJTY3JvbGwucHJvdG90eXBlLmZpbmlzaFB1bGxVcCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIGlmICh0aGlzLnB1bGx1cFdhdGNoaW5nKSB7XG4gICAgICB0aGlzLm9uY2UoJ3Njcm9sbEVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMyLl93YXRjaFB1bGxVcCgpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3dhdGNoUHVsbFVwKCk7XG4gICAgfVxuICB9O1xuXG4gIEJTY3JvbGwucHJvdG90eXBlLm9wZW5QdWxsVXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbmZpZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdHJ1ZTtcblxuICAgIHRoaXMub3B0aW9ucy5wdWxsVXBMb2FkID0gY29uZmlnO1xuICAgIHRoaXMuX2luaXRQdWxsVXAoKTtcbiAgfTtcblxuICBCU2Nyb2xsLnByb3RvdHlwZS5jbG9zZVB1bGxVcCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLm9wdGlvbnMucHVsbFVwTG9hZCA9IGZhbHNlO1xuICAgIGlmICghdGhpcy5wdWxsdXBXYXRjaGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnB1bGx1cFdhdGNoaW5nID0gZmFsc2U7XG4gICAgdGhpcy5vZmYoJ3Njcm9sbCcsIHRoaXMuX2NoZWNrVG9FbmQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBtb3VzZVdoZWVsTWl4aW4oQlNjcm9sbCkge1xuICBCU2Nyb2xsLnByb3RvdHlwZS5faW5pdE1vdXNlV2hlZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHRoaXMuX2hhbmRsZU1vdXNlV2hlZWxFdmVudChhZGRFdmVudCk7XG5cbiAgICB0aGlzLm9uKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xuICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLm1vdXNlV2hlZWxUaW1lcik7XG4gICAgICBjbGVhclRpbWVvdXQoX3RoaXMubW91c2VXaGVlbEVuZFRpbWVyKTtcbiAgICAgIF90aGlzLl9oYW5kbGVNb3VzZVdoZWVsRXZlbnQocmVtb3ZlRXZlbnQpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5maXJzdFdoZWVsT3ByZWF0aW9uID0gdHJ1ZTtcbiAgfTtcblxuICBCU2Nyb2xsLnByb3RvdHlwZS5faGFuZGxlTW91c2VXaGVlbEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50T3BlcmF0aW9uKSB7XG4gICAgZXZlbnRPcGVyYXRpb24odGhpcy53cmFwcGVyLCAnd2hlZWwnLCB0aGlzKTtcbiAgICBldmVudE9wZXJhdGlvbih0aGlzLndyYXBwZXIsICdtb3VzZXdoZWVsJywgdGhpcyk7XG4gICAgZXZlbnRPcGVyYXRpb24odGhpcy53cmFwcGVyLCAnRE9NTW91c2VTY3JvbGwnLCB0aGlzKTtcbiAgfTtcblxuICBCU2Nyb2xsLnByb3RvdHlwZS5fb25Nb3VzZVdoZWVsID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIGlmICghdGhpcy5lbmFibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZpcnN0V2hlZWxPcHJlYXRpb24pIHtcbiAgICAgIHRoaXMudHJpZ2dlcignc2Nyb2xsU3RhcnQnKTtcbiAgICB9XG4gICAgdGhpcy5maXJzdFdoZWVsT3ByZWF0aW9uID0gZmFsc2U7XG5cbiAgICB2YXIgX29wdGlvbnMkbW91c2VXaGVlbCA9IHRoaXMub3B0aW9ucy5tb3VzZVdoZWVsLFxuICAgICAgICBfb3B0aW9ucyRtb3VzZVdoZWVsJHMgPSBfb3B0aW9ucyRtb3VzZVdoZWVsLnNwZWVkLFxuICAgICAgICBzcGVlZCA9IF9vcHRpb25zJG1vdXNlV2hlZWwkcyA9PT0gdW5kZWZpbmVkID8gMjAgOiBfb3B0aW9ucyRtb3VzZVdoZWVsJHMsXG4gICAgICAgIF9vcHRpb25zJG1vdXNlV2hlZWwkaSA9IF9vcHRpb25zJG1vdXNlV2hlZWwuaW52ZXJ0LFxuICAgICAgICBpbnZlcnQgPSBfb3B0aW9ucyRtb3VzZVdoZWVsJGkgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogX29wdGlvbnMkbW91c2VXaGVlbCRpLFxuICAgICAgICBfb3B0aW9ucyRtb3VzZVdoZWVsJGUgPSBfb3B0aW9ucyRtb3VzZVdoZWVsLmVhc2VUaW1lLFxuICAgICAgICBlYXNlVGltZSA9IF9vcHRpb25zJG1vdXNlV2hlZWwkZSA9PT0gdW5kZWZpbmVkID8gMzAwIDogX29wdGlvbnMkbW91c2VXaGVlbCRlO1xuXG5cbiAgICBjbGVhclRpbWVvdXQodGhpcy5tb3VzZVdoZWVsVGltZXIpO1xuICAgIHRoaXMubW91c2VXaGVlbFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIV90aGlzMi5vcHRpb25zLnNuYXAgJiYgIWVhc2VUaW1lKSB7XG4gICAgICAgIF90aGlzMi50cmlnZ2VyKCdzY3JvbGxFbmQnLCB7XG4gICAgICAgICAgeDogX3RoaXMyLngsXG4gICAgICAgICAgeTogX3RoaXMyLnlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBfdGhpczIuZmlyc3RXaGVlbE9wcmVhdGlvbiA9IHRydWU7XG4gICAgfSwgNDAwKTtcblxuICAgIHZhciB3aGVlbERlbHRhWCA9IHZvaWQgMDtcbiAgICB2YXIgd2hlZWxEZWx0YVkgPSB2b2lkIDA7XG5cbiAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgIGNhc2UgJ2RlbHRhWCcgaW4gZTpcbiAgICAgICAgaWYgKGUuZGVsdGFNb2RlID09PSAxKSB7XG4gICAgICAgICAgd2hlZWxEZWx0YVggPSAtZS5kZWx0YVggKiBzcGVlZDtcbiAgICAgICAgICB3aGVlbERlbHRhWSA9IC1lLmRlbHRhWSAqIHNwZWVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdoZWVsRGVsdGFYID0gLWUuZGVsdGFYO1xuICAgICAgICAgIHdoZWVsRGVsdGFZID0gLWUuZGVsdGFZO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnd2hlZWxEZWx0YVgnIGluIGU6XG4gICAgICAgIHdoZWVsRGVsdGFYID0gZS53aGVlbERlbHRhWCAvIDEyMCAqIHNwZWVkO1xuICAgICAgICB3aGVlbERlbHRhWSA9IGUud2hlZWxEZWx0YVkgLyAxMjAgKiBzcGVlZDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd3aGVlbERlbHRhJyBpbiBlOlxuICAgICAgICB3aGVlbERlbHRhWCA9IHdoZWVsRGVsdGFZID0gZS53aGVlbERlbHRhIC8gMTIwICogc3BlZWQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZGV0YWlsJyBpbiBlOlxuICAgICAgICB3aGVlbERlbHRhWCA9IHdoZWVsRGVsdGFZID0gLWUuZGV0YWlsIC8gMyAqIHNwZWVkO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZGlyZWN0aW9uID0gaW52ZXJ0ID8gLTEgOiAxO1xuICAgIHdoZWVsRGVsdGFYICo9IGRpcmVjdGlvbjtcbiAgICB3aGVlbERlbHRhWSAqPSBkaXJlY3Rpb247XG5cbiAgICBpZiAoIXRoaXMuaGFzVmVydGljYWxTY3JvbGwpIHtcbiAgICAgIHdoZWVsRGVsdGFYID0gd2hlZWxEZWx0YVk7XG4gICAgICB3aGVlbERlbHRhWSA9IDA7XG4gICAgfVxuXG4gICAgdmFyIG5ld1ggPSB2b2lkIDA7XG4gICAgdmFyIG5ld1kgPSB2b2lkIDA7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5zbmFwKSB7XG4gICAgICBuZXdYID0gdGhpcy5jdXJyZW50UGFnZS5wYWdlWDtcbiAgICAgIG5ld1kgPSB0aGlzLmN1cnJlbnRQYWdlLnBhZ2VZO1xuXG4gICAgICBpZiAod2hlZWxEZWx0YVggPiAwKSB7XG4gICAgICAgIG5ld1gtLTtcbiAgICAgIH0gZWxzZSBpZiAod2hlZWxEZWx0YVggPCAwKSB7XG4gICAgICAgIG5ld1grKztcbiAgICAgIH1cblxuICAgICAgaWYgKHdoZWVsRGVsdGFZID4gMCkge1xuICAgICAgICBuZXdZLS07XG4gICAgICB9IGVsc2UgaWYgKHdoZWVsRGVsdGFZIDwgMCkge1xuICAgICAgICBuZXdZKys7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2dvVG9QYWdlKG5ld1gsIG5ld1kpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG5ld1ggPSB0aGlzLnggKyBNYXRoLnJvdW5kKHRoaXMuaGFzSG9yaXpvbnRhbFNjcm9sbCA/IHdoZWVsRGVsdGFYIDogMCk7XG4gICAgbmV3WSA9IHRoaXMueSArIE1hdGgucm91bmQodGhpcy5oYXNWZXJ0aWNhbFNjcm9sbCA/IHdoZWVsRGVsdGFZIDogMCk7XG5cbiAgICB0aGlzLm1vdmluZ0RpcmVjdGlvblggPSB0aGlzLmRpcmVjdGlvblggPSB3aGVlbERlbHRhWCA+IDAgPyAtMSA6IHdoZWVsRGVsdGFYIDwgMCA/IDEgOiAwO1xuICAgIHRoaXMubW92aW5nRGlyZWN0aW9uWSA9IHRoaXMuZGlyZWN0aW9uWSA9IHdoZWVsRGVsdGFZID4gMCA/IC0xIDogd2hlZWxEZWx0YVkgPCAwID8gMSA6IDA7XG5cbiAgICBpZiAobmV3WCA+IHRoaXMubWluU2Nyb2xsWCkge1xuICAgICAgbmV3WCA9IHRoaXMubWluU2Nyb2xsWDtcbiAgICB9IGVsc2UgaWYgKG5ld1ggPCB0aGlzLm1heFNjcm9sbFgpIHtcbiAgICAgIG5ld1ggPSB0aGlzLm1heFNjcm9sbFg7XG4gICAgfVxuXG4gICAgaWYgKG5ld1kgPiB0aGlzLm1pblNjcm9sbFkpIHtcbiAgICAgIG5ld1kgPSB0aGlzLm1pblNjcm9sbFk7XG4gICAgfSBlbHNlIGlmIChuZXdZIDwgdGhpcy5tYXhTY3JvbGxZKSB7XG4gICAgICBuZXdZID0gdGhpcy5tYXhTY3JvbGxZO1xuICAgIH1cblxuICAgIHZhciBuZWVkVHJpZ2dlckVuZCA9IHRoaXMueSA9PT0gbmV3WTtcbiAgICB0aGlzLnNjcm9sbFRvKG5ld1gsIG5ld1ksIGVhc2VUaW1lLCBlYXNlLnN3aXBlKTtcbiAgICB0aGlzLnRyaWdnZXIoJ3Njcm9sbCcsIHtcbiAgICAgIHg6IHRoaXMueCxcbiAgICAgIHk6IHRoaXMueVxuICAgIH0pO1xuICAgIGNsZWFyVGltZW91dCh0aGlzLm1vdXNlV2hlZWxFbmRUaW1lcik7XG4gICAgaWYgKG5lZWRUcmlnZ2VyRW5kKSB7XG4gICAgICB0aGlzLm1vdXNlV2hlZWxFbmRUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczIudHJpZ2dlcignc2Nyb2xsRW5kJywge1xuICAgICAgICAgIHg6IF90aGlzMi54LFxuICAgICAgICAgIHk6IF90aGlzMi55XG4gICAgICAgIH0pO1xuICAgICAgfSwgZWFzZVRpbWUpO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gem9vbU1peGluKEJTY3JvbGwpIHtcbiAgQlNjcm9sbC5wcm90b3R5cGUuX2luaXRab29tID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfb3B0aW9ucyR6b29tID0gdGhpcy5vcHRpb25zLnpvb20sXG4gICAgICAgIF9vcHRpb25zJHpvb20kc3RhcnQgPSBfb3B0aW9ucyR6b29tLnN0YXJ0LFxuICAgICAgICBzdGFydCA9IF9vcHRpb25zJHpvb20kc3RhcnQgPT09IHVuZGVmaW5lZCA/IDEgOiBfb3B0aW9ucyR6b29tJHN0YXJ0LFxuICAgICAgICBfb3B0aW9ucyR6b29tJG1pbiA9IF9vcHRpb25zJHpvb20ubWluLFxuICAgICAgICBtaW4gPSBfb3B0aW9ucyR6b29tJG1pbiA9PT0gdW5kZWZpbmVkID8gMSA6IF9vcHRpb25zJHpvb20kbWluLFxuICAgICAgICBfb3B0aW9ucyR6b29tJG1heCA9IF9vcHRpb25zJHpvb20ubWF4LFxuICAgICAgICBtYXggPSBfb3B0aW9ucyR6b29tJG1heCA9PT0gdW5kZWZpbmVkID8gNCA6IF9vcHRpb25zJHpvb20kbWF4O1xuXG4gICAgdGhpcy5zY2FsZSA9IE1hdGgubWluKE1hdGgubWF4KHN0YXJ0LCBtaW4pLCBtYXgpO1xuICAgIHRoaXMuc2V0U2NhbGUodGhpcy5zY2FsZSk7XG4gICAgdGhpcy5zY3JvbGxlclN0eWxlW3N0eWxlLnRyYW5zZm9ybU9yaWdpbl0gPSAnMCAwJztcbiAgfTtcblxuICBCU2Nyb2xsLnByb3RvdHlwZS5fem9vbVRvID0gZnVuY3Rpb24gKHNjYWxlLCBvcmlnaW5YLCBvcmlnaW5ZLCBzdGFydFNjYWxlKSB7XG4gICAgdGhpcy5zY2FsZWQgPSB0cnVlO1xuXG4gICAgdmFyIGxhc3RTY2FsZSA9IHNjYWxlIC8gKHN0YXJ0U2NhbGUgfHwgdGhpcy5zY2FsZSk7XG4gICAgdGhpcy5zZXRTY2FsZShzY2FsZSk7XG5cbiAgICB0aGlzLnJlZnJlc2goKTtcblxuICAgIHZhciBuZXdYID0gTWF0aC5yb3VuZCh0aGlzLnN0YXJ0WCAtIChvcmlnaW5YIC0gdGhpcy5yZWxhdGl2ZVgpICogKGxhc3RTY2FsZSAtIDEpKTtcbiAgICB2YXIgbmV3WSA9IE1hdGgucm91bmQodGhpcy5zdGFydFkgLSAob3JpZ2luWSAtIHRoaXMucmVsYXRpdmVZKSAqIChsYXN0U2NhbGUgLSAxKSk7XG5cbiAgICBpZiAobmV3WCA+IHRoaXMubWluU2Nyb2xsWCkge1xuICAgICAgbmV3WCA9IHRoaXMubWluU2Nyb2xsWDtcbiAgICB9IGVsc2UgaWYgKG5ld1ggPCB0aGlzLm1heFNjcm9sbFgpIHtcbiAgICAgIG5ld1ggPSB0aGlzLm1heFNjcm9sbFg7XG4gICAgfVxuXG4gICAgaWYgKG5ld1kgPiB0aGlzLm1pblNjcm9sbFkpIHtcbiAgICAgIG5ld1kgPSB0aGlzLm1pblNjcm9sbFk7XG4gICAgfSBlbHNlIGlmIChuZXdZIDwgdGhpcy5tYXhTY3JvbGxZKSB7XG4gICAgICBuZXdZID0gdGhpcy5tYXhTY3JvbGxZO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnggIT09IG5ld1ggfHwgdGhpcy55ICE9PSBuZXdZKSB7XG4gICAgICB0aGlzLnNjcm9sbFRvKG5ld1gsIG5ld1ksIHRoaXMub3B0aW9ucy5ib3VuY2VUaW1lKTtcbiAgICB9XG5cbiAgICB0aGlzLnNjYWxlZCA9IGZhbHNlO1xuICB9O1xuXG4gIEJTY3JvbGwucHJvdG90eXBlLnpvb21UbyA9IGZ1bmN0aW9uIChzY2FsZSwgeCwgeSkge1xuICAgIHZhciBfb2Zmc2V0VG9Cb2R5ID0gb2Zmc2V0VG9Cb2R5KHRoaXMud3JhcHBlciksXG4gICAgICAgIGxlZnQgPSBfb2Zmc2V0VG9Cb2R5LmxlZnQsXG4gICAgICAgIHRvcCA9IF9vZmZzZXRUb0JvZHkudG9wO1xuXG4gICAgdmFyIG9yaWdpblggPSB4ICsgbGVmdCAtIHRoaXMueDtcbiAgICB2YXIgb3JpZ2luWSA9IHkgKyB0b3AgLSB0aGlzLnk7XG4gICAgdGhpcy5fem9vbVRvKHNjYWxlLCBvcmlnaW5YLCBvcmlnaW5ZKTtcbiAgfTtcblxuICBCU2Nyb2xsLnByb3RvdHlwZS5fem9vbVN0YXJ0ID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgZmlyc3RGaW5nZXIgPSBlLnRvdWNoZXNbMF07XG4gICAgdmFyIHNlY29uZEZpbmdlciA9IGUudG91Y2hlc1sxXTtcbiAgICB2YXIgZGVsdGFYID0gTWF0aC5hYnMoZmlyc3RGaW5nZXIucGFnZVggLSBzZWNvbmRGaW5nZXIucGFnZVgpO1xuICAgIHZhciBkZWx0YVkgPSBNYXRoLmFicyhmaXJzdEZpbmdlci5wYWdlWSAtIHNlY29uZEZpbmdlci5wYWdlWSk7XG5cbiAgICB0aGlzLnN0YXJ0RGlzdGFuY2UgPSBnZXREaXN0YW5jZShkZWx0YVgsIGRlbHRhWSk7XG4gICAgdGhpcy5zdGFydFNjYWxlID0gdGhpcy5zY2FsZTtcblxuICAgIHZhciBfb2Zmc2V0VG9Cb2R5MiA9IG9mZnNldFRvQm9keSh0aGlzLndyYXBwZXIpLFxuICAgICAgICBsZWZ0ID0gX29mZnNldFRvQm9keTIubGVmdCxcbiAgICAgICAgdG9wID0gX29mZnNldFRvQm9keTIudG9wO1xuXG4gICAgdGhpcy5vcmlnaW5YID0gTWF0aC5hYnMoZmlyc3RGaW5nZXIucGFnZVggKyBzZWNvbmRGaW5nZXIucGFnZVgpIC8gMiArIGxlZnQgLSB0aGlzLng7XG4gICAgdGhpcy5vcmlnaW5ZID0gTWF0aC5hYnMoZmlyc3RGaW5nZXIucGFnZVkgKyBzZWNvbmRGaW5nZXIucGFnZVkpIC8gMiArIHRvcCAtIHRoaXMueTtcblxuICAgIHRoaXMudHJpZ2dlcignem9vbVN0YXJ0Jyk7XG4gIH07XG5cbiAgQlNjcm9sbC5wcm90b3R5cGUuX3pvb20gPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmICghdGhpcy5lbmFibGVkIHx8IHRoaXMuZGVzdHJveWVkIHx8IGV2ZW50VHlwZVtlLnR5cGVdICE9PSB0aGlzLmluaXRpYXRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMucHJldmVudERlZmF1bHQpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG5cbiAgICB2YXIgZmlyc3RGaW5nZXIgPSBlLnRvdWNoZXNbMF07XG4gICAgdmFyIHNlY29uZEZpbmdlciA9IGUudG91Y2hlc1sxXTtcbiAgICB2YXIgZGVsdGFYID0gTWF0aC5hYnMoZmlyc3RGaW5nZXIucGFnZVggLSBzZWNvbmRGaW5nZXIucGFnZVgpO1xuICAgIHZhciBkZWx0YVkgPSBNYXRoLmFicyhmaXJzdEZpbmdlci5wYWdlWSAtIHNlY29uZEZpbmdlci5wYWdlWSk7XG4gICAgdmFyIGRpc3RhbmNlID0gZ2V0RGlzdGFuY2UoZGVsdGFYLCBkZWx0YVkpO1xuICAgIHZhciBzY2FsZSA9IGRpc3RhbmNlIC8gdGhpcy5zdGFydERpc3RhbmNlICogdGhpcy5zdGFydFNjYWxlO1xuXG4gICAgdGhpcy5zY2FsZWQgPSB0cnVlO1xuXG4gICAgdmFyIF9vcHRpb25zJHpvb20yID0gdGhpcy5vcHRpb25zLnpvb20sXG4gICAgICAgIF9vcHRpb25zJHpvb20yJG1pbiA9IF9vcHRpb25zJHpvb20yLm1pbixcbiAgICAgICAgbWluID0gX29wdGlvbnMkem9vbTIkbWluID09PSB1bmRlZmluZWQgPyAxIDogX29wdGlvbnMkem9vbTIkbWluLFxuICAgICAgICBfb3B0aW9ucyR6b29tMiRtYXggPSBfb3B0aW9ucyR6b29tMi5tYXgsXG4gICAgICAgIG1heCA9IF9vcHRpb25zJHpvb20yJG1heCA9PT0gdW5kZWZpbmVkID8gNCA6IF9vcHRpb25zJHpvb20yJG1heDtcblxuXG4gICAgaWYgKHNjYWxlIDwgbWluKSB7XG4gICAgICBzY2FsZSA9IDAuNSAqIG1pbiAqIE1hdGgucG93KDIuMCwgc2NhbGUgLyBtaW4pO1xuICAgIH0gZWxzZSBpZiAoc2NhbGUgPiBtYXgpIHtcbiAgICAgIHNjYWxlID0gMi4wICogbWF4ICogTWF0aC5wb3coMC41LCBtYXggLyBzY2FsZSk7XG4gICAgfVxuXG4gICAgdmFyIGxhc3RTY2FsZSA9IHNjYWxlIC8gdGhpcy5zdGFydFNjYWxlO1xuXG4gICAgdmFyIHggPSB0aGlzLnN0YXJ0WCAtICh0aGlzLm9yaWdpblggLSB0aGlzLnJlbGF0aXZlWCkgKiAobGFzdFNjYWxlIC0gMSk7XG4gICAgdmFyIHkgPSB0aGlzLnN0YXJ0WSAtICh0aGlzLm9yaWdpblkgLSB0aGlzLnJlbGF0aXZlWSkgKiAobGFzdFNjYWxlIC0gMSk7XG5cbiAgICB0aGlzLnNldFNjYWxlKHNjYWxlKTtcblxuICAgIHRoaXMuc2Nyb2xsVG8oeCwgeSwgMCk7XG4gIH07XG5cbiAgQlNjcm9sbC5wcm90b3R5cGUuX3pvb21FbmQgPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmICghdGhpcy5lbmFibGVkIHx8IHRoaXMuZGVzdHJveWVkIHx8IGV2ZW50VHlwZVtlLnR5cGVdICE9PSB0aGlzLmluaXRpYXRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMucHJldmVudERlZmF1bHQpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG5cbiAgICB0aGlzLmlzSW5UcmFuc2l0aW9uID0gZmFsc2U7XG4gICAgdGhpcy5pc0FuaW1hdGluZyA9IGZhbHNlO1xuICAgIHRoaXMuaW5pdGlhdGVkID0gMDtcblxuICAgIHZhciBfb3B0aW9ucyR6b29tMyA9IHRoaXMub3B0aW9ucy56b29tLFxuICAgICAgICBfb3B0aW9ucyR6b29tMyRtaW4gPSBfb3B0aW9ucyR6b29tMy5taW4sXG4gICAgICAgIG1pbiA9IF9vcHRpb25zJHpvb20zJG1pbiA9PT0gdW5kZWZpbmVkID8gMSA6IF9vcHRpb25zJHpvb20zJG1pbixcbiAgICAgICAgX29wdGlvbnMkem9vbTMkbWF4ID0gX29wdGlvbnMkem9vbTMubWF4LFxuICAgICAgICBtYXggPSBfb3B0aW9ucyR6b29tMyRtYXggPT09IHVuZGVmaW5lZCA/IDQgOiBfb3B0aW9ucyR6b29tMyRtYXg7XG5cblxuICAgIHZhciBzY2FsZSA9IHRoaXMuc2NhbGUgPiBtYXggPyBtYXggOiB0aGlzLnNjYWxlIDwgbWluID8gbWluIDogdGhpcy5zY2FsZTtcblxuICAgIHRoaXMuX3pvb21UbyhzY2FsZSwgdGhpcy5vcmlnaW5YLCB0aGlzLm9yaWdpblksIHRoaXMuc3RhcnRTY2FsZSk7XG5cbiAgICB0aGlzLnRyaWdnZXIoJ3pvb21FbmQnKTtcbiAgfTtcbn1cblxuLy8gaW1wb3J0IHsgZWFzZSB9IGZyb20gJy4uL3V0aWwvZWFzZSdcblxuLy8gTnVtYmVyIG9mIGl0ZW1zIHRvIGluc3RhbnRpYXRlIGJleW9uZCBjdXJyZW50IHZpZXcgaW4gdGhlIHNjcm9sbCBkaXJlY3Rpb24uXG52YXIgUlVOV0FZX0lURU1TID0gMzA7XG5cbi8vIE51bWJlciBvZiBpdGVtcyB0byBpbnN0YW50aWF0ZSBiZXlvbmQgY3VycmVudCB2aWV3IGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb24uXG52YXIgUlVOV0FZX0lURU1TX09QUE9TSVRFID0gMTA7XG5cbi8vIFRoZSBhbmltYXRpb24gaW50ZXJ2YWwgKGluIG1zKSBmb3IgZmFkaW5nIGluIGNvbnRlbnQgZnJvbSB0b21ic3RvbmVzLlxudmFyIEFOSU1BVElPTl9EVVJBVElPTl9NUyA9IDIwMDtcblxuLy8gVGhlIG51bWJlciBvZiBwaXhlbHMgb2YgZGVmYXVsdCBhZGRpdGlvbmFsIGxlbmd0aCB0byBhbGxvdyBzY3JvbGxpbmcgdG8uXG52YXIgREVGQVVMVF9TQ1JPTExfUlVOV0FZID0gMjAwMDtcblxuZnVuY3Rpb24gaW5maW5pdGVNaXhpbihCU2Nyb2xsKSB7XG4gIEJTY3JvbGwucHJvdG90eXBlLl9pbml0SW5maW5pdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5vcHRpb25zLnByb2JlVHlwZSA9IDM7XG4gICAgdGhpcy5tYXhTY3JvbGxZID0gLURFRkFVTFRfU0NST0xMX1JVTldBWTtcbiAgICB0aGlzLmluZmluaXRlU2Nyb2xsZXIgPSBuZXcgSW5maW5pdGVTY3JvbGxlcih0aGlzLCB0aGlzLm9wdGlvbnMuaW5maW5pdHkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBpc1RvbWJzdG9uZU5vZGUobm9kZSkge1xuICBpZiAobm9kZSAmJiBub2RlLmNsYXNzTGlzdCkge1xuICAgIHJldHVybiBub2RlLmNsYXNzTGlzdC5jb250YWlucygndG9tYnN0b25lJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gSW5maW5pdGVTY3JvbGxlcihzY3JvbGxlciwgb3B0aW9ucykge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIGFzc2VydCh0eXBlb2YgdGhpcy5vcHRpb25zLmNyZWF0ZVRvbWJzdG9uZSA9PT0gJ2Z1bmN0aW9uJywgJ0luZmluaXRlIHNjcm9sbCBuZWVkIGNyZWF0ZVRvbWJzdG9uZSBGdW5jdGlvbiB0byBjcmVhdGUgdG9tYnN0b25lJyk7XG5cbiAgYXNzZXJ0KHR5cGVvZiB0aGlzLm9wdGlvbnMuZmV0Y2ggPT09ICdmdW5jdGlvbicsICdJbmZpbml0ZSBzY3JvbGwgbmVlZCBmZXRjaCBGdW5jdGlvbiB0byBmZXRjaCBuZXcgZGF0YS4nKTtcblxuICBhc3NlcnQodHlwZW9mIHRoaXMub3B0aW9ucy5yZW5kZXIgPT09ICdmdW5jdGlvbicsICdJbmZpbml0ZSBzY3JvbGwgbmVlZCByZW5kZXIgRnVuY3Rpb24gdG8gcmVuZGVyIGVhY2ggaXRlbS4nKTtcblxuICB0aGlzLmZpcnN0QXR0YWNoZWRJdGVtID0gMDtcbiAgdGhpcy5sYXN0QXR0YWNoZWRJdGVtID0gMDtcblxuICB0aGlzLmFuY2hvclNjcm9sbFRvcCA9IDA7XG4gIHRoaXMuYW5jaG9ySXRlbSA9IHtcbiAgICBpbmRleDogMCxcbiAgICBvZmZzZXQ6IDBcbiAgfTtcbiAgdGhpcy50b21ic3RvbmVIZWlnaHQgPSAwO1xuICB0aGlzLnRvbWJzdG9uZVdpZHRoID0gMDtcbiAgdGhpcy50b21ic3RvbmVzID0gW107XG4gIHRoaXMudG9tYnN0b25lc0FuaW1hdGlvbkhhbmRsZXJzID0gW107XG5cbiAgdGhpcy5pdGVtcyA9IFtdO1xuICB0aGlzLmxvYWRlZEl0ZW1zID0gMDtcbiAgdGhpcy5yZXF1ZXN0SW5Qcm9ncmVzcyA9IGZhbHNlO1xuICB0aGlzLmhhc01vcmUgPSB0cnVlO1xuXG4gIHRoaXMuc2Nyb2xsZXIgPSBzY3JvbGxlcjtcbiAgdGhpcy53cmFwcGVyRWwgPSB0aGlzLnNjcm9sbGVyLndyYXBwZXI7XG4gIHRoaXMuc2Nyb2xsZXJFbCA9IHRoaXMuc2Nyb2xsZXIuc2Nyb2xsZXI7XG5cbiAgdGhpcy5zY3JvbGxlci5vbigncmVzaXplJywgZnVuY3Rpb24gKCkge1xuICAgIF90aGlzLm9uUmVzaXplKCk7XG4gIH0pO1xuICB0aGlzLnNjcm9sbGVyLm9uKCdkZXN0cm95JywgZnVuY3Rpb24gKCkge1xuICAgIF90aGlzLmRlc3Ryb3koKTtcbiAgfSk7XG5cbiAgLy8gd2FpdCBzY3JvbGwgY29yZSBpbml0XG4gIHRoaXMuX29uUmVzaXplSGFuZGxlciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIF90aGlzLm9uUmVzaXplKCk7XG5cbiAgICAvLyBtdXN0IHdhaXQgdG9tYnN0b25lSGVpZ2h0IGhhcyBzaXplXG4gICAgX3RoaXMuc2Nyb2xsZXIub24oJ3Njcm9sbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLm9uU2Nyb2xsKCk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5JbmZpbml0ZVNjcm9sbGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAvLyBJbiBleHRyZW1lIHNjZW5lLCBkZXN0cm95IGlzIHRyaWdnZXJlZCBiZWZvcmUgX29uUmVzaXplSGFuZGxlclxuICBjbGVhclRpbWVvdXQodGhpcy5fb25SZXNpemVIYW5kbGVyKTtcbiAgdGhpcy50b21ic3RvbmVzQW5pbWF0aW9uSGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgIGNsZWFyVGltZW91dChoYW5kbGVyKTtcbiAgfSk7XG4gIHRoaXMudG9tYnN0b25lc0FuaW1hdGlvbkhhbmRsZXJzID0gbnVsbDtcbiAgdGhpcy5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgaWYgKGl0ZW0ubm9kZSkge1xuICAgICAgX3RoaXMyLnNjcm9sbGVyRWwucmVtb3ZlQ2hpbGQoaXRlbS5ub2RlKTtcbiAgICAgIGl0ZW0ubm9kZSA9IG51bGw7XG4gICAgfVxuICB9KTtcbiAgdGhpcy5zY3JvbGxlci5pbmZpbml0ZVNjcm9sbGVyID0gbnVsbDtcbiAgdGhpcy5zY3JvbGxlciA9IG51bGw7XG4gIHRoaXMud3JhcHBlckVsID0gbnVsbDtcbiAgdGhpcy5zY3JvbGxlckVsID0gbnVsbDtcbiAgdGhpcy5pdGVtcyA9IG51bGw7XG4gIHRoaXMudG9tYnN0b25lcyA9IG51bGw7XG59O1xuXG5JbmZpbml0ZVNjcm9sbGVyLnByb3RvdHlwZS5vblNjcm9sbCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNjcm9sbFRvcCA9IC10aGlzLnNjcm9sbGVyLnk7XG4gIHZhciBkZWx0YSA9IHNjcm9sbFRvcCAtIHRoaXMuYW5jaG9yU2Nyb2xsVG9wO1xuICBpZiAoc2Nyb2xsVG9wID09PSAwKSB7XG4gICAgdGhpcy5hbmNob3JJdGVtID0ge1xuICAgICAgaW5kZXg6IDAsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHRoaXMuYW5jaG9ySXRlbSA9IHRoaXMuX2NhbGN1bGF0ZUFuY2hvcmVkSXRlbSh0aGlzLmFuY2hvckl0ZW0sIGRlbHRhKTtcbiAgfVxuXG4gIHRoaXMuYW5jaG9yU2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuICB2YXIgbGFzdFNjcmVlbkl0ZW0gPSB0aGlzLl9jYWxjdWxhdGVBbmNob3JlZEl0ZW0odGhpcy5hbmNob3JJdGVtLCB0aGlzLnNjcm9sbGVyLndyYXBwZXJIZWlnaHQpO1xuXG4gIHZhciBzdGFydCA9IHRoaXMuYW5jaG9ySXRlbS5pbmRleDtcbiAgdmFyIGVuZCA9IGxhc3RTY3JlZW5JdGVtLmluZGV4O1xuICBpZiAoZGVsdGEgPCAwKSB7XG4gICAgc3RhcnQgLT0gUlVOV0FZX0lURU1TO1xuICAgIGVuZCArPSBSVU5XQVlfSVRFTVNfT1BQT1NJVEU7XG4gIH0gZWxzZSB7XG4gICAgc3RhcnQgLT0gUlVOV0FZX0lURU1TX09QUE9TSVRFO1xuICAgIGVuZCArPSBSVU5XQVlfSVRFTVM7XG4gIH1cbiAgdGhpcy5maWxsKHN0YXJ0LCBlbmQpO1xuICB0aGlzLm1heWJlUmVxdWVzdENvbnRlbnQoKTtcbn07XG5cbkluZmluaXRlU2Nyb2xsZXIucHJvdG90eXBlLm9uUmVzaXplID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdG9tYnN0b25lID0gdGhpcy5vcHRpb25zLmNyZWF0ZVRvbWJzdG9uZSgpO1xuICB0b21ic3RvbmUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICB0aGlzLnNjcm9sbGVyRWwuYXBwZW5kQ2hpbGQodG9tYnN0b25lKTtcbiAgdG9tYnN0b25lLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgdGhpcy50b21ic3RvbmVIZWlnaHQgPSB0b21ic3RvbmUub2Zmc2V0SGVpZ2h0O1xuICB0aGlzLnRvbWJzdG9uZVdpZHRoID0gdG9tYnN0b25lLm9mZnNldFdpZHRoO1xuICB0aGlzLnNjcm9sbGVyRWwucmVtb3ZlQ2hpbGQodG9tYnN0b25lKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICB0aGlzLml0ZW1zW2ldLmhlaWdodCA9IHRoaXMuaXRlbXNbaV0ud2lkdGggPSAwO1xuICB9XG5cbiAgdGhpcy5vblNjcm9sbCgpO1xufTtcblxuSW5maW5pdGVTY3JvbGxlci5wcm90b3R5cGUuZmlsbCA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7XG4gIHRoaXMuZmlyc3RBdHRhY2hlZEl0ZW0gPSBNYXRoLm1heCgwLCBzdGFydCk7XG4gIGlmICghdGhpcy5oYXNNb3JlKSB7XG4gICAgZW5kID0gTWF0aC5taW4oZW5kLCB0aGlzLml0ZW1zLmxlbmd0aCk7XG4gIH1cbiAgdGhpcy5sYXN0QXR0YWNoZWRJdGVtID0gZW5kO1xuICB0aGlzLmF0dGFjaENvbnRlbnQoKTtcbn07XG5cbkluZmluaXRlU2Nyb2xsZXIucHJvdG90eXBlLm1heWJlUmVxdWVzdENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gIGlmICh0aGlzLnJlcXVlc3RJblByb2dyZXNzIHx8ICF0aGlzLmhhc01vcmUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGl0ZW1zTmVlZGVkID0gdGhpcy5sYXN0QXR0YWNoZWRJdGVtIC0gdGhpcy5sb2FkZWRJdGVtcztcbiAgaWYgKGl0ZW1zTmVlZGVkIDw9IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5yZXF1ZXN0SW5Qcm9ncmVzcyA9IHRydWU7XG4gIHRoaXMub3B0aW9ucy5mZXRjaChpdGVtc05lZWRlZCkudGhlbihmdW5jdGlvbiAoaXRlbXMpIHtcbiAgICBfdGhpczMucmVxdWVzdEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICBpZiAoaXRlbXMpIHtcbiAgICAgIF90aGlzMy5hZGRDb250ZW50KGl0ZW1zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX3RoaXMzLmhhc01vcmUgPSBmYWxzZTtcbiAgICAgIHZhciB0b21ic3RvbmVMZW4gPSBfdGhpczMuX3JlbW92ZVRvbWJzdG9uZXMoKTtcbiAgICAgIHZhciBjdXJQb3MgPSAwO1xuICAgICAgaWYgKF90aGlzMy5hbmNob3JJdGVtLmluZGV4IDw9IF90aGlzMy5pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgY3VyUG9zID0gX3RoaXMzLl9maXhTY3JvbGxQb3NpdGlvbigpO1xuICAgICAgICBfdGhpczMuX3NldHVwQW5pbWF0aW9ucyh7fSwgY3VyUG9zKTtcbiAgICAgICAgX3RoaXMzLnNjcm9sbGVyLnJlc2V0UG9zaXRpb24oX3RoaXMzLnNjcm9sbGVyLm9wdGlvbnMuYm91bmNlVGltZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpczMuYW5jaG9ySXRlbS5pbmRleCAtPSB0b21ic3RvbmVMZW47XG4gICAgICAgIGN1clBvcyA9IF90aGlzMy5fZml4U2Nyb2xsUG9zaXRpb24oKTtcbiAgICAgICAgX3RoaXMzLl9zZXR1cEFuaW1hdGlvbnMoe30sIGN1clBvcyk7XG4gICAgICAgIF90aGlzMy5zY3JvbGxlci5zdG9wKCk7XG4gICAgICAgIF90aGlzMy5zY3JvbGxlci5yZXNldFBvc2l0aW9uKCk7XG4gICAgICAgIF90aGlzMy5vblNjcm9sbCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuXG5JbmZpbml0ZVNjcm9sbGVyLnByb3RvdHlwZS5hZGRDb250ZW50ID0gZnVuY3Rpb24gKGl0ZW1zKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodGhpcy5pdGVtcy5sZW5ndGggPD0gdGhpcy5sb2FkZWRJdGVtcykge1xuICAgICAgdGhpcy5fYWRkSXRlbSgpO1xuICAgIH1cbiAgICB0aGlzLml0ZW1zW3RoaXMubG9hZGVkSXRlbXMrK10uZGF0YSA9IGl0ZW1zW2ldO1xuICB9XG4gIHRoaXMuYXR0YWNoQ29udGVudCgpO1xuICB0aGlzLm1heWJlUmVxdWVzdENvbnRlbnQoKTtcbn07XG5cbkluZmluaXRlU2Nyb2xsZXIucHJvdG90eXBlLmF0dGFjaENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB1bnVzZWROb2RlcyA9IHRoaXMuX2NvbGxlY3RVbnVzZWROb2RlcygpO1xuICB2YXIgdG9tYnN0b25lQW5pbWF0aW9ucyA9IHRoaXMuX2NyZWF0ZURPTU5vZGVzKHVudXNlZE5vZGVzKTtcbiAgdGhpcy5fY2xlYW51cFVudXNlZE5vZGVzKHVudXNlZE5vZGVzKTtcbiAgdGhpcy5fY2FjaGVOb2RlU2l6ZSgpO1xuICB2YXIgY3VyUG9zID0gdGhpcy5fZml4U2Nyb2xsUG9zaXRpb24oKTtcbiAgdGhpcy5fc2V0dXBBbmltYXRpb25zKHRvbWJzdG9uZUFuaW1hdGlvbnMsIGN1clBvcyk7XG59O1xuXG5JbmZpbml0ZVNjcm9sbGVyLnByb3RvdHlwZS5yZXNldE1vcmUgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuaGFzTW9yZSA9IHRydWU7XG59O1xuXG5JbmZpbml0ZVNjcm9sbGVyLnByb3RvdHlwZS5fcmVtb3ZlVG9tYnN0b25lcyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIG1hcmtJbmRleCA9IHZvaWQgMDtcbiAgdmFyIHRvbWJzdG9uZUxlbiA9IDA7XG4gIHZhciBpdGVtTGVuID0gdGhpcy5pdGVtcy5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbUxlbjsgaSsrKSB7XG4gICAgdmFyIGN1cnJlbnROb2RlID0gdGhpcy5pdGVtc1tpXS5ub2RlO1xuICAgIHZhciBjdXJyZW50RGF0YSA9IHRoaXMuaXRlbXNbaV0uZGF0YTtcbiAgICBpZiAoKCFjdXJyZW50Tm9kZSB8fCBpc1RvbWJzdG9uZU5vZGUoY3VycmVudE5vZGUpKSAmJiAhY3VycmVudERhdGEpIHtcbiAgICAgIC8vIDAgc2hvdWxkIGJlIGV4Y2x1ZGVkXG4gICAgICBpZiAobWFya0luZGV4ID09PSB2b2lkIDApIHtcbiAgICAgICAgbWFya0luZGV4ID0gaTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50Tm9kZSkge1xuICAgICAgICB0aGlzLnNjcm9sbGVyRWwucmVtb3ZlQ2hpbGQoY3VycmVudE5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB0b21ic3RvbmVMZW4gPSBpdGVtTGVuIC0gbWFya0luZGV4O1xuICB0aGlzLml0ZW1zLnNwbGljZShtYXJrSW5kZXgpO1xuICB0aGlzLmxhc3RBdHRhY2hlZEl0ZW0gPSBNYXRoLm1pbih0aGlzLmxhc3RBdHRhY2hlZEl0ZW0sIHRoaXMuaXRlbXMubGVuZ3RoKTtcbiAgcmV0dXJuIHRvbWJzdG9uZUxlbjtcbn07XG5cbkluZmluaXRlU2Nyb2xsZXIucHJvdG90eXBlLl9jb2xsZWN0VW51c2VkTm9kZXMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB1bnVzZWROb2RlcyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAvLyBTa2lwIHRoZSBpdGVtcyB3aGljaCBzaG91bGQgYmUgdmlzaWJsZS5cbiAgICBpZiAoaSA9PT0gdGhpcy5maXJzdEF0dGFjaGVkSXRlbSkge1xuICAgICAgaSA9IHRoaXMubGFzdEF0dGFjaGVkSXRlbSAtIDE7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgdmFyIGN1cnJlbnROb2RlID0gdGhpcy5pdGVtc1tpXS5ub2RlO1xuICAgIGlmIChjdXJyZW50Tm9kZSkge1xuICAgICAgaWYgKGlzVG9tYnN0b25lTm9kZShjdXJyZW50Tm9kZSkpIHtcbiAgICAgICAgLy8gQ2FjaGUgdG9tYnN0b25lcyBmb3IgcmV1c2VcbiAgICAgICAgdGhpcy50b21ic3RvbmVzLnB1c2goY3VycmVudE5vZGUpO1xuICAgICAgICB0aGlzLnRvbWJzdG9uZXNbdGhpcy50b21ic3RvbmVzLmxlbmd0aCAtIDFdLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1bnVzZWROb2Rlcy5wdXNoKGN1cnJlbnROb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5pdGVtc1tpXS5ub2RlID0gbnVsbDtcbiAgfVxuICByZXR1cm4gdW51c2VkTm9kZXM7XG59O1xuXG5JbmZpbml0ZVNjcm9sbGVyLnByb3RvdHlwZS5fY3JlYXRlRE9NTm9kZXMgPSBmdW5jdGlvbiAodW51c2VkTm9kZXMpIHtcbiAgdmFyIHRvbWJzdG9uZUFuaW1hdGlvbnMgPSB7fTtcbiAgZm9yICh2YXIgaSA9IHRoaXMuZmlyc3RBdHRhY2hlZEl0ZW07IGkgPCB0aGlzLmxhc3RBdHRhY2hlZEl0ZW07IGkrKykge1xuICAgIHdoaWxlICh0aGlzLml0ZW1zLmxlbmd0aCA8PSBpKSB7XG4gICAgICB0aGlzLl9hZGRJdGVtKCk7XG4gICAgfVxuICAgIHZhciBjdXJyZW50Tm9kZSA9IHRoaXMuaXRlbXNbaV0ubm9kZTtcbiAgICB2YXIgY3VycmVudERhdGEgPSB0aGlzLml0ZW1zW2ldLmRhdGE7XG4gICAgaWYgKGN1cnJlbnROb2RlKSB7XG4gICAgICBpZiAoaXNUb21ic3RvbmVOb2RlKGN1cnJlbnROb2RlKSAmJiBjdXJyZW50RGF0YSkge1xuICAgICAgICBjdXJyZW50Tm9kZS5zdHlsZS56SW5kZXggPSAxO1xuICAgICAgICB0b21ic3RvbmVBbmltYXRpb25zW2ldID0gW2N1cnJlbnROb2RlLCB0aGlzLml0ZW1zW2ldLnRvcCAtIHRoaXMuYW5jaG9yU2Nyb2xsVG9wXTtcbiAgICAgICAgdGhpcy5pdGVtc1tpXS5ub2RlID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgbm9kZSA9IGN1cnJlbnREYXRhID8gdGhpcy5vcHRpb25zLnJlbmRlcihjdXJyZW50RGF0YSwgdW51c2VkTm9kZXMucG9wKCkpIDogdGhpcy5fZ2V0VG9tYlN0b25lKCk7XG4gICAgbm9kZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgdGhpcy5pdGVtc1tpXS50b3AgPSAtMTtcbiAgICB0aGlzLnNjcm9sbGVyRWwuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgdGhpcy5pdGVtc1tpXS5ub2RlID0gbm9kZTtcbiAgfVxuICByZXR1cm4gdG9tYnN0b25lQW5pbWF0aW9ucztcbn07XG5cbkluZmluaXRlU2Nyb2xsZXIucHJvdG90eXBlLl9jbGVhbnVwVW51c2VkTm9kZXMgPSBmdW5jdGlvbiAodW51c2VkTm9kZXMpIHtcbiAgd2hpbGUgKHVudXNlZE5vZGVzLmxlbmd0aCkge1xuICAgIHRoaXMuc2Nyb2xsZXJFbC5yZW1vdmVDaGlsZCh1bnVzZWROb2Rlcy5wb3AoKSk7XG4gIH1cbn07XG5cbkluZmluaXRlU2Nyb2xsZXIucHJvdG90eXBlLl9jYWNoZU5vZGVTaXplID0gZnVuY3Rpb24gKCkge1xuICBmb3IgKHZhciBpID0gdGhpcy5maXJzdEF0dGFjaGVkSXRlbTsgaSA8IHRoaXMubGFzdEF0dGFjaGVkSXRlbTsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1zW2ldO1xuICAgIC8vIE9ubHkgY2FjaGUgdGhlIGhlaWdodCBpZiB3ZSBoYXZlIHRoZSByZWFsIGNvbnRlbnRzLCBub3QgYSBwbGFjZWhvbGRlci5cbiAgICBpZiAoaXRlbS5kYXRhICYmICFpdGVtLmhlaWdodCkge1xuICAgICAgdmFyIGlzVG9tYnN0b25lID0gaXNUb21ic3RvbmVOb2RlKGl0ZW0ubm9kZSk7XG4gICAgICBpdGVtLmhlaWdodCA9IGlzVG9tYnN0b25lID8gdGhpcy50b21ic3RvbmVIZWlnaHQgOiBpdGVtLm5vZGUub2Zmc2V0SGVpZ2h0O1xuICAgICAgaXRlbS53aWR0aCA9IGlzVG9tYnN0b25lID8gdGhpcy50b21ic3RvbmVXaWR0aCA6IGl0ZW0ubm9kZS5vZmZzZXRXaWR0aDtcbiAgICB9XG4gIH1cbn07XG5cbkluZmluaXRlU2Nyb2xsZXIucHJvdG90eXBlLl9maXhTY3JvbGxQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5hbmNob3JTY3JvbGxUb3AgPSAwO1xuICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdGhpcy5hbmNob3JJdGVtLmluZGV4OyBfaSsrKSB7XG4gICAgdGhpcy5hbmNob3JTY3JvbGxUb3AgKz0gdGhpcy5pdGVtc1tfaV0uaGVpZ2h0IHx8IHRoaXMudG9tYnN0b25lSGVpZ2h0O1xuICB9XG4gIHRoaXMuYW5jaG9yU2Nyb2xsVG9wICs9IHRoaXMuYW5jaG9ySXRlbS5vZmZzZXQ7XG5cbiAgLy8gUG9zaXRpb24gYWxsIG5vZGVzLlxuICB2YXIgY3VyUG9zID0gdGhpcy5hbmNob3JTY3JvbGxUb3AgLSB0aGlzLmFuY2hvckl0ZW0ub2Zmc2V0O1xuICB2YXIgaSA9IHRoaXMuYW5jaG9ySXRlbS5pbmRleDtcbiAgd2hpbGUgKGkgPiB0aGlzLmZpcnN0QXR0YWNoZWRJdGVtKSB7XG4gICAgY3VyUG9zIC09IHRoaXMuaXRlbXNbaSAtIDFdLmhlaWdodCB8fCB0aGlzLnRvbWJzdG9uZUhlaWdodDtcbiAgICBpLS07XG4gIH1cblxuICByZXR1cm4gY3VyUG9zO1xufTtcblxuSW5maW5pdGVTY3JvbGxlci5wcm90b3R5cGUuX3NldHVwQW5pbWF0aW9ucyA9IGZ1bmN0aW9uICh0b21ic3RvbmVBbmltYXRpb25zLCBjdXJQb3MpIHtcbiAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgZm9yICh2YXIgaSBpbiB0b21ic3RvbmVBbmltYXRpb25zKSB7XG4gICAgdmFyIGFuaW1hdGlvbiA9IHRvbWJzdG9uZUFuaW1hdGlvbnNbaV07XG4gICAgdGhpcy5pdGVtc1tpXS5ub2RlLnN0eWxlW3N0eWxlLnRyYW5zZm9ybV0gPSAndHJhbnNsYXRlWSgnICsgKHRoaXMuYW5jaG9yU2Nyb2xsVG9wICsgYW5pbWF0aW9uWzFdKSArICdweCkgc2NhbGUoJyArIHRoaXMudG9tYnN0b25lV2lkdGggLyB0aGlzLml0ZW1zW2ldLndpZHRoICsgJywgJyArIHRoaXMudG9tYnN0b25lSGVpZ2h0IC8gdGhpcy5pdGVtc1tpXS5oZWlnaHQgKyAnKSc7XG4gICAgLy8gQ2FsbCBvZmZzZXRUb3Agb24gdGhlIG5vZGVzIHRvIGJlIGFuaW1hdGVkIHRvIGZvcmNlIHRoZW0gdG8gYXBwbHkgY3VycmVudCB0cmFuc2Zvcm1zLlxuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC1leHByZXNzaW9ucyAqL1xuICAgIHRoaXMuaXRlbXNbaV0ubm9kZS5vZmZzZXRUb3A7XG4gICAgYW5pbWF0aW9uWzBdLm9mZnNldFRvcDtcbiAgICB0aGlzLml0ZW1zW2ldLm5vZGUuc3R5bGVbc3R5bGUudHJhbnNpdGlvbl0gPSBjc3NWZW5kb3IgKyAndHJhbnNmb3JtICcgKyBBTklNQVRJT05fRFVSQVRJT05fTVMgKyAnbXMnO1xuICB9XG5cbiAgZm9yICh2YXIgX2kyID0gdGhpcy5maXJzdEF0dGFjaGVkSXRlbTsgX2kyIDwgdGhpcy5sYXN0QXR0YWNoZWRJdGVtOyBfaTIrKykge1xuICAgIHZhciBfYW5pbWF0aW9uID0gdG9tYnN0b25lQW5pbWF0aW9uc1tfaTJdO1xuICAgIGlmIChfYW5pbWF0aW9uKSB7XG4gICAgICB2YXIgdG9tYnN0b25lTm9kZSA9IF9hbmltYXRpb25bMF07XG4gICAgICB0b21ic3RvbmVOb2RlLnN0eWxlW3N0eWxlLnRyYW5zaXRpb25dID0gY3NzVmVuZG9yICsgJ3RyYW5zZm9ybSAnICsgQU5JTUFUSU9OX0RVUkFUSU9OX01TICsgJ21zLCBvcGFjaXR5ICcgKyBBTklNQVRJT05fRFVSQVRJT05fTVMgKyAnbXMnO1xuICAgICAgdG9tYnN0b25lTm9kZS5zdHlsZVtzdHlsZS50cmFuc2Zvcm1dID0gJ3RyYW5zbGF0ZVkoJyArIGN1clBvcyArICdweCkgc2NhbGUoJyArIHRoaXMuaXRlbXNbX2kyXS53aWR0aCAvIHRoaXMudG9tYnN0b25lV2lkdGggKyAnLCAnICsgdGhpcy5pdGVtc1tfaTJdLmhlaWdodCAvIHRoaXMudG9tYnN0b25lSGVpZ2h0ICsgJyknO1xuICAgICAgdG9tYnN0b25lTm9kZS5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICB9XG4gICAgaWYgKGN1clBvcyAhPT0gdGhpcy5pdGVtc1tfaTJdLnRvcCkge1xuICAgICAgaWYgKCFfYW5pbWF0aW9uKSB7XG4gICAgICAgIHRoaXMuaXRlbXNbX2kyXS5ub2RlLnN0eWxlW3N0eWxlLnRyYW5zaXRpb25dID0gJyc7XG4gICAgICB9XG4gICAgICB0aGlzLml0ZW1zW19pMl0ubm9kZS5zdHlsZVtzdHlsZS50cmFuc2Zvcm1dID0gJ3RyYW5zbGF0ZVkoJyArIGN1clBvcyArICdweCknO1xuICAgIH1cbiAgICB0aGlzLml0ZW1zW19pMl0udG9wID0gY3VyUG9zO1xuICAgIGN1clBvcyArPSB0aGlzLml0ZW1zW19pMl0uaGVpZ2h0IHx8IHRoaXMudG9tYnN0b25lSGVpZ2h0O1xuICB9XG5cbiAgdGhpcy5zY3JvbGxlci5tYXhTY3JvbGxZID0gLShjdXJQb3MgLSB0aGlzLnNjcm9sbGVyLndyYXBwZXJIZWlnaHQgKyAodGhpcy5oYXNNb3JlID8gREVGQVVMVF9TQ1JPTExfUlVOV0FZIDogMCkpO1xuXG4gIHZhciB0b21ic3RvbmVBbmltYXRpb25zSGFuZGxlciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIF9pMyBpbiB0b21ic3RvbmVBbmltYXRpb25zKSB7XG4gICAgICB2YXIgX2FuaW1hdGlvbjIgPSB0b21ic3RvbmVBbmltYXRpb25zW19pM107XG4gICAgICBfYW5pbWF0aW9uMlswXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgLy8gVG9tYnN0b25lIGNhbiBiZSByZWN5Y2xlZCBub3cuXG4gICAgICBfdGhpczQudG9tYnN0b25lcy5wdXNoKF9hbmltYXRpb24yWzBdKTtcbiAgICB9XG4gIH0sIEFOSU1BVElPTl9EVVJBVElPTl9NUyk7XG5cbiAgdGhpcy50b21ic3RvbmVzQW5pbWF0aW9uSGFuZGxlcnMucHVzaCh0b21ic3RvbmVBbmltYXRpb25zSGFuZGxlcik7XG59O1xuXG5JbmZpbml0ZVNjcm9sbGVyLnByb3RvdHlwZS5fZ2V0VG9tYlN0b25lID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdG9tYnN0b25lID0gdGhpcy50b21ic3RvbmVzLnBvcCgpO1xuICBpZiAodG9tYnN0b25lKSB7XG4gICAgdG9tYnN0b25lLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICB0b21ic3RvbmUuc3R5bGUub3BhY2l0eSA9IDE7XG4gICAgdG9tYnN0b25lLnN0eWxlW3N0eWxlLnRyYW5zZm9ybV0gPSAnJztcbiAgICB0b21ic3RvbmUuc3R5bGVbc3R5bGUudHJhbnNpdGlvbl0gPSAnJztcbiAgICByZXR1cm4gdG9tYnN0b25lO1xuICB9XG4gIHJldHVybiB0aGlzLm9wdGlvbnMuY3JlYXRlVG9tYnN0b25lKCk7XG59O1xuXG5JbmZpbml0ZVNjcm9sbGVyLnByb3RvdHlwZS5fYWRkSXRlbSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5pdGVtcy5wdXNoKHtcbiAgICBkYXRhOiBudWxsLFxuICAgIG5vZGU6IG51bGwsXG4gICAgaGVpZ2h0OiAwLFxuICAgIHdpZHRoOiAwLFxuICAgIHRvcDogMFxuICB9KTtcbn07XG5cbkluZmluaXRlU2Nyb2xsZXIucHJvdG90eXBlLl9jYWxjdWxhdGVBbmNob3JlZEl0ZW0gPSBmdW5jdGlvbiAoaW5pdGlhbEFuY2hvciwgZGVsdGEpIHtcbiAgaWYgKGRlbHRhID09PSAwKSB7XG4gICAgcmV0dXJuIGluaXRpYWxBbmNob3I7XG4gIH1cbiAgdmFyIGkgPSBpbml0aWFsQW5jaG9yLmluZGV4O1xuICB2YXIgdG9tYnN0b25lcyA9IDA7XG5cbiAgZGVsdGEgKz0gaW5pdGlhbEFuY2hvci5vZmZzZXQ7XG4gIGlmIChkZWx0YSA8IDApIHtcbiAgICB3aGlsZSAoZGVsdGEgPCAwICYmIGkgPiAwICYmIHRoaXMuaXRlbXNbaSAtIDFdLmhlaWdodCkge1xuICAgICAgZGVsdGEgKz0gdGhpcy5pdGVtc1tpIC0gMV0uaGVpZ2h0O1xuICAgICAgaS0tO1xuICAgIH1cbiAgICB0b21ic3RvbmVzID0gTWF0aC5tYXgoLWksIE1hdGguY2VpbChNYXRoLm1pbihkZWx0YSwgMCkgLyB0aGlzLnRvbWJzdG9uZUhlaWdodCkpO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChkZWx0YSA+IDAgJiYgaSA8IHRoaXMuaXRlbXMubGVuZ3RoICYmIHRoaXMuaXRlbXNbaV0uaGVpZ2h0ICYmIHRoaXMuaXRlbXNbaV0uaGVpZ2h0IDwgZGVsdGEpIHtcbiAgICAgIGRlbHRhIC09IHRoaXMuaXRlbXNbaV0uaGVpZ2h0O1xuICAgICAgaSsrO1xuICAgIH1cbiAgICBpZiAoaSA+PSB0aGlzLml0ZW1zLmxlbmd0aCB8fCAhdGhpcy5pdGVtc1tpXS5oZWlnaHQpIHtcbiAgICAgIHRvbWJzdG9uZXMgPSBNYXRoLmZsb29yKE1hdGgubWF4KGRlbHRhLCAwKSAvIHRoaXMudG9tYnN0b25lSGVpZ2h0KTtcbiAgICB9XG4gIH1cbiAgaSArPSB0b21ic3RvbmVzO1xuICBkZWx0YSAtPSB0b21ic3RvbmVzICogdGhpcy50b21ic3RvbmVIZWlnaHQ7XG5cbiAgcmV0dXJuIHtcbiAgICBpbmRleDogaSxcbiAgICBvZmZzZXQ6IGRlbHRhXG4gIH07XG59O1xuXG5mdW5jdGlvbiBCU2Nyb2xsKGVsLCBvcHRpb25zKSB7XG4gIHRoaXMud3JhcHBlciA9IHR5cGVvZiBlbCA9PT0gJ3N0cmluZycgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsKSA6IGVsO1xuICBpZiAoIXRoaXMud3JhcHBlcikge1xuICAgIHdhcm4oJ0NhbiBub3QgcmVzb2x2ZSB0aGUgd3JhcHBlciBET00uJyk7XG4gIH1cbiAgdGhpcy5zY3JvbGxlciA9IHRoaXMud3JhcHBlci5jaGlsZHJlblswXTtcbiAgaWYgKCF0aGlzLnNjcm9sbGVyKSB7XG4gICAgd2FybignVGhlIHdyYXBwZXIgbmVlZCBhdCBsZWFzdCBvbmUgY2hpbGQgZWxlbWVudCB0byBiZSBzY3JvbGxlci4nKTtcbiAgfVxuICAvLyBjYWNoZSBzdHlsZSBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG4gIHRoaXMuc2Nyb2xsZXJTdHlsZSA9IHRoaXMuc2Nyb2xsZXIuc3R5bGU7XG5cbiAgdGhpcy5faW5pdChvcHRpb25zKTtcbn1cblxuaW5pdE1peGluKEJTY3JvbGwpO1xuY29yZU1peGluKEJTY3JvbGwpO1xuZXZlbnRNaXhpbihCU2Nyb2xsKTtcbnNuYXBNaXhpbihCU2Nyb2xsKTtcbndoZWVsTWl4aW4oQlNjcm9sbCk7XG5zY3JvbGxiYXJNaXhpbihCU2Nyb2xsKTtcbnB1bGxEb3duTWl4aW4oQlNjcm9sbCk7XG5wdWxsVXBNaXhpbihCU2Nyb2xsKTtcbm1vdXNlV2hlZWxNaXhpbihCU2Nyb2xsKTtcbnpvb21NaXhpbihCU2Nyb2xsKTtcbmluZmluaXRlTWl4aW4oQlNjcm9sbCk7XG5cbkJTY3JvbGwuVmVyc2lvbiA9ICcxLjE1LjInO1xuXG5leHBvcnQgZGVmYXVsdCBCU2Nyb2xsO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2JldHRlci1zY3JvbGwvZGlzdC9ic2Nyb2xsLmVzbS5qc1xuLy8gbW9kdWxlIGlkID0gNDg5XG4vLyBtb2R1bGUgY2h1bmtzID0gMTMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///489\n");

/***/ }),

/***/ 642:
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"box\"\n  }, [_c('div', {\n    ref: \"listView\",\n    staticClass: \"list-view\"\n  }, [_c('ul', _vm._l((_vm.singers), function(group) {\n    return _c('li', {\n      key: group.id,\n      ref: \"listGroup\",\n      refInFor: true,\n      staticClass: \"list-group\"\n    }, [_c('h2', {\n      staticClass: \"list-group-title\"\n    }, [_vm._v(_vm._s(group.title))]), _vm._v(\" \"), _c('ul', _vm._l((group.items), function(item) {\n      return _c('li', {\n        key: item.id,\n        staticClass: \"list-group-item\"\n      }, [_c('img', {\n        directives: [{\n          name: \"lazy\",\n          rawName: \"v-lazy\",\n          value: (item.avatar),\n          expression: \"item.avatar\"\n        }],\n        staticClass: \"avatar\"\n      }), _vm._v(\" \"), _c('span', {\n        staticClass: \"name\"\n      }, [_vm._v(_vm._s(item.name))])])\n    }), 0)])\n  }), 0), _vm._v(\" \"), _c('div', {\n    staticClass: \"list-shortcut\"\n  }, [_c('ul', _vm._l((_vm.shortcutList), function(item, index) {\n    return _c('li', {\n      key: item.id,\n      staticClass: \"item\",\n      class: {\n        'current': _vm.currentIndex === index\n      },\n      attrs: {\n        \"data-index\": index\n      },\n      on: {\n        \"touchstart\": _vm.onShortcutStart,\n        \"touchmove\": function($event) {\n          $event.stopPropagation();\n          $event.preventDefault();\n          return _vm.onShortcutMove($event)\n        }\n      }\n    }, [_vm._v(\"\\n          \" + _vm._s(item) + \"\\n        \")])\n  }), 0)])])])\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (true) {\n  module.hot.accept()\n  if (module.hot.data) {\n     __webpack_require__(0).rerender(\"data-v-1b910784\", module.exports)\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL2RlbW8vbGlzdFZpZXcudnVlPzQ1MmUiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHM9e3JlbmRlcjpmdW5jdGlvbiAoKXt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtcbiAgcmV0dXJuIF9jKCdkaXYnLCB7XG4gICAgc3RhdGljQ2xhc3M6IFwiYm94XCJcbiAgfSwgW19jKCdkaXYnLCB7XG4gICAgcmVmOiBcImxpc3RWaWV3XCIsXG4gICAgc3RhdGljQ2xhc3M6IFwibGlzdC12aWV3XCJcbiAgfSwgW19jKCd1bCcsIF92bS5fbCgoX3ZtLnNpbmdlcnMpLCBmdW5jdGlvbihncm91cCkge1xuICAgIHJldHVybiBfYygnbGknLCB7XG4gICAgICBrZXk6IGdyb3VwLmlkLFxuICAgICAgcmVmOiBcImxpc3RHcm91cFwiLFxuICAgICAgcmVmSW5Gb3I6IHRydWUsXG4gICAgICBzdGF0aWNDbGFzczogXCJsaXN0LWdyb3VwXCJcbiAgICB9LCBbX2MoJ2gyJywge1xuICAgICAgc3RhdGljQ2xhc3M6IFwibGlzdC1ncm91cC10aXRsZVwiXG4gICAgfSwgW192bS5fdihfdm0uX3MoZ3JvdXAudGl0bGUpKV0pLCBfdm0uX3YoXCIgXCIpLCBfYygndWwnLCBfdm0uX2woKGdyb3VwLml0ZW1zKSwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgcmV0dXJuIF9jKCdsaScsIHtcbiAgICAgICAga2V5OiBpdGVtLmlkLFxuICAgICAgICBzdGF0aWNDbGFzczogXCJsaXN0LWdyb3VwLWl0ZW1cIlxuICAgICAgfSwgW19jKCdpbWcnLCB7XG4gICAgICAgIGRpcmVjdGl2ZXM6IFt7XG4gICAgICAgICAgbmFtZTogXCJsYXp5XCIsXG4gICAgICAgICAgcmF3TmFtZTogXCJ2LWxhenlcIixcbiAgICAgICAgICB2YWx1ZTogKGl0ZW0uYXZhdGFyKSxcbiAgICAgICAgICBleHByZXNzaW9uOiBcIml0ZW0uYXZhdGFyXCJcbiAgICAgICAgfV0sXG4gICAgICAgIHN0YXRpY0NsYXNzOiBcImF2YXRhclwiXG4gICAgICB9KSwgX3ZtLl92KFwiIFwiKSwgX2MoJ3NwYW4nLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiBcIm5hbWVcIlxuICAgICAgfSwgW192bS5fdihfdm0uX3MoaXRlbS5uYW1lKSldKV0pXG4gICAgfSksIDApXSlcbiAgfSksIDApLCBfdm0uX3YoXCIgXCIpLCBfYygnZGl2Jywge1xuICAgIHN0YXRpY0NsYXNzOiBcImxpc3Qtc2hvcnRjdXRcIlxuICB9LCBbX2MoJ3VsJywgX3ZtLl9sKChfdm0uc2hvcnRjdXRMaXN0KSwgZnVuY3Rpb24oaXRlbSwgaW5kZXgpIHtcbiAgICByZXR1cm4gX2MoJ2xpJywge1xuICAgICAga2V5OiBpdGVtLmlkLFxuICAgICAgc3RhdGljQ2xhc3M6IFwiaXRlbVwiLFxuICAgICAgY2xhc3M6IHtcbiAgICAgICAgJ2N1cnJlbnQnOiBfdm0uY3VycmVudEluZGV4ID09PSBpbmRleFxuICAgICAgfSxcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIFwiZGF0YS1pbmRleFwiOiBpbmRleFxuICAgICAgfSxcbiAgICAgIG9uOiB7XG4gICAgICAgIFwidG91Y2hzdGFydFwiOiBfdm0ub25TaG9ydGN1dFN0YXJ0LFxuICAgICAgICBcInRvdWNobW92ZVwiOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgcmV0dXJuIF92bS5vblNob3J0Y3V0TW92ZSgkZXZlbnQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBbX3ZtLl92KFwiXFxuICAgICAgICAgIFwiICsgX3ZtLl9zKGl0ZW0pICsgXCJcXG4gICAgICAgIFwiKV0pXG4gIH0pLCAwKV0pXSldKVxufSxzdGF0aWNSZW5kZXJGbnM6IFtdfVxubW9kdWxlLmV4cG9ydHMucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5pZiAobW9kdWxlLmhvdCkge1xuICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gIGlmIChtb2R1bGUuaG90LmRhdGEpIHtcbiAgICAgcmVxdWlyZShcInZ1ZS1ob3QtcmVsb2FkLWFwaVwiKS5yZXJlbmRlcihcImRhdGEtdi0xYjkxMDc4NFwiLCBtb2R1bGUuZXhwb3J0cylcbiAgfVxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi92dWUtbG9hZGVyL2xpYi90ZW1wbGF0ZS1jb21waWxlcj97XCJpZFwiOlwiZGF0YS12LTFiOTEwNzg0XCIsXCJoYXNTY29wZWRcIjp0cnVlfSEuL34vdnV4LWxvYWRlci9zcmMvYmVmb3JlLXRlbXBsYXRlLWNvbXBpbGVyLWxvYWRlci5qcyEuL34vdnV4LWxvYWRlci9zcmMvdGVtcGxhdGUtbG9hZGVyLmpzIS4vfi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi9zcmMvcGFnZXMvZGVtby9saXN0Vmlldy52dWVcbi8vIG1vZHVsZSBpZCA9IDY0MlxuLy8gbW9kdWxlIGNodW5rcyA9IDEzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///642\n");

/***/ }),

/***/ 681:
/***/ (function(module, exports, __webpack_require__) {

eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(391);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(3)(\"b61c1668\", content, false, {});\n// Hot Module Replacement\nif(true) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(391, function() {\n     var newContent = __webpack_require__(391);\n     if(typeof newContent === 'string') newContent = [[module.i, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjgxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL2RlbW8vbGlzdFZpZXcudnVlP2E3NjEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzP3tcXFwibWluaW1pemVcXFwiOmZhbHNlLFxcXCJzb3VyY2VNYXBcXFwiOnRydWV9IS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zdHlsZS1jb21waWxlci9pbmRleC5qcz97XFxcInZ1ZVxcXCI6dHJ1ZSxcXFwiaWRcXFwiOlxcXCJkYXRhLXYtMWI5MTA3ODRcXFwiLFxcXCJzY29wZWRcXFwiOnRydWUsXFxcImhhc0lubGluZUNvbmZpZ1xcXCI6dHJ1ZX0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1eC1sb2FkZXIvc3JjL2FmdGVyLWxlc3MtbG9hZGVyLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9sZXNzLWxvYWRlci9pbmRleC5qcz97J21vZGlmeVZhcnMnOnsndGhlbWUnOicjMzMzMzMzJywndGhlbWUtYmxhY2snOicjMDAwMDAwJywndGhlbWUtc2Vjb25kYXJ5JzonIzU4NTg1OCcsJ3RoZW1lLXJlZCc6JyNFNDM2NEYnLCd0aGVtZS1iZyc6JyNlZWVlZWUnLCd0aGVtZS1saW5lYXItZ3JhZGllbnQnOidsaW5lYXItZ3JhZGllbnQoLTkwZGVnLCAjZWI0NzZhIDAlLCAjZWI0NzZhIDEwMCUpJywnaGVhZGVyLWhlaWdodCc6JzAuODhyZW0nLCdwYWdlLXNwYWNlJzonMC4yNHJlbScsJ3RoZW1lLXByaW1hcnknOicjMmQ4Y2YwJywndGhlbWUtbGlnaHQtcHJpbWFyeSc6JyM1Y2FkZmYnLCd0aGVtZS1kYXJrLXByaW1hcnknOicjMmI4NWU0JywndGhlbWUtaW5mbyc6JyMyZGI3ZjUnLCd0aGVtZS1zdWNjZXNzJzonIzE5YmU2YicsJ3RoZW1lLXdhcm5pbmcnOicjZmY5OTAwJywndGhlbWUtZXJyb3InOicjZWQ0MDE0JywndGV4dC10aXRsZSc6JyMxNzIzM2QnLCd0ZXh0LWNvbnRlbnQnOicjNTE1YTZlJywnc3ViLWNvbG9yJzonIzgwODY5NScsJ2J0bi1kaXNhYmxlZCc6JyNjNWM4Y2UnLCdib3JkZXItY29sb3InOicjZGNkZWUyJywnZGl2aWRlci1jb2xvcic6JyNlOGVhZWMnLCdiYWNrZ3JvdW5kLWNvbG9yJzonI2Y4ZjhmOScsJ3RoZW1lLWJkJzonI0IzQjNCMycsJ2NvbG9yRGlzYWJsZWQnOicjQjhCOEI4JywndGhlbWVUZXh0JzonIzQxNDE0MScsJ2NvbG9yTm9ybWFsJzonIzQxNDE0MScsJ3RoZW1lLW5vcm1hbCc6JyM2RjZGNkYnLCd0aGVtZUdyZXknOicjOTk5JywnY29sb3JMaWdodCc6JyM5OTknLCd0aGVtZS10aXAnOicjQzJDMkMyJywndGhlbWVXYXJuJzonI0ZGM0IzMCcsJ3N3aXBlci1pbmRpY2F0b3ItYWN0aXZlLWNvbG9yJzonQHRoZW1lJywnZGF0ZXRpbWUtaGVhZGVyLWl0ZW0tY2FuY2VsLWZvbnQtY29sb3InOidAdGhlbWUnLCdkYXRldGltZS1oZWFkZXItaXRlbS1jb25maXJtLWZvbnQtY29sb3InOidAdGhlbWUnLCdwb3B1cC1waWNrZXItaGVhZGVyLXRleHQtY29sb3InOidAdGhlbWUnLCdkaWFsb2ctYnV0dG9uLXRleHQtcHJpbWFyeS1jb2xvcic6J0B0aGVtZScsJ3RhYi10ZXh0LWRpc2FibGVkLWNvbG9yJzonI2RkZCcsJ3RhYi10ZXh0LWRlZmF1bHQtY29sb3InOicjNjY2JywndGFiLXRleHQtYWN0aXZlLWNvbG9yJzonQHRoZW1lJywndGFiLWJhci1hY3RpdmUtY29sb3InOidAdGhlbWUnfSwnc291cmNlTWFwJzp0cnVlfSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnV4LWxvYWRlci9zcmMvc3R5bGUtbG9hZGVyLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvci5qcz90eXBlPXN0eWxlcyZpbmRleD0wIS4vbGlzdFZpZXcudnVlXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanNcIikoXCJiNjFjMTY2OFwiLCBjb250ZW50LCBmYWxzZSwge30pO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuIC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG4gaWYoIWNvbnRlbnQubG9jYWxzKSB7XG4gICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/e1xcXCJtaW5pbWl6ZVxcXCI6ZmFsc2UsXFxcInNvdXJjZU1hcFxcXCI6dHJ1ZX0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLWNvbXBpbGVyL2luZGV4LmpzP3tcXFwidnVlXFxcIjp0cnVlLFxcXCJpZFxcXCI6XFxcImRhdGEtdi0xYjkxMDc4NFxcXCIsXFxcInNjb3BlZFxcXCI6dHJ1ZSxcXFwiaGFzSW5saW5lQ29uZmlnXFxcIjp0cnVlfSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnV4LWxvYWRlci9zcmMvYWZ0ZXItbGVzcy1sb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2xlc3MtbG9hZGVyL2luZGV4LmpzP3snbW9kaWZ5VmFycyc6eyd0aGVtZSc6JyMzMzMzMzMnLCd0aGVtZS1ibGFjayc6JyMwMDAwMDAnLCd0aGVtZS1zZWNvbmRhcnknOicjNTg1ODU4JywndGhlbWUtcmVkJzonI0U0MzY0RicsJ3RoZW1lLWJnJzonI2VlZWVlZScsJ3RoZW1lLWxpbmVhci1ncmFkaWVudCc6J2xpbmVhci1ncmFkaWVudCgtOTBkZWcsICNlYjQ3NmEgMCUsICNlYjQ3NmEgMTAwJSknLCdoZWFkZXItaGVpZ2h0JzonMC44OHJlbScsJ3BhZ2Utc3BhY2UnOicwLjI0cmVtJywndGhlbWUtcHJpbWFyeSc6JyMyZDhjZjAnLCd0aGVtZS1saWdodC1wcmltYXJ5JzonIzVjYWRmZicsJ3RoZW1lLWRhcmstcHJpbWFyeSc6JyMyYjg1ZTQnLCd0aGVtZS1pbmZvJzonIzJkYjdmNScsJ3RoZW1lLXN1Y2Nlc3MnOicjMTliZTZiJywndGhlbWUtd2FybmluZyc6JyNmZjk5MDAnLCd0aGVtZS1lcnJvcic6JyNlZDQwMTQnLCd0ZXh0LXRpdGxlJzonIzE3MjMzZCcsJ3RleHQtY29udGVudCc6JyM1MTVhNmUnLCdzdWItY29sb3InOicjODA4Njk1JywnYnRuLWRpc2FibGVkJzonI2M1YzhjZScsJ2JvcmRlci1jb2xvcic6JyNkY2RlZTInLCdkaXZpZGVyLWNvbG9yJzonI2U4ZWFlYycsJ2JhY2tncm91bmQtY29sb3InOicjZjhmOGY5JywndGhlbWUtYmQnOicjQjNCM0IzJywnY29sb3JEaXNhYmxlZCc6JyNCOEI4QjgnLCd0aGVtZVRleHQnOicjNDE0MTQxJywnY29sb3JOb3JtYWwnOicjNDE0MTQxJywndGhlbWUtbm9ybWFsJzonIzZGNkY2RicsJ3RoZW1lR3JleSc6JyM5OTknLCdjb2xvckxpZ2h0JzonIzk5OScsJ3RoZW1lLXRpcCc6JyNDMkMyQzInLCd0aGVtZVdhcm4nOicjRkYzQjMwJywnc3dpcGVyLWluZGljYXRvci1hY3RpdmUtY29sb3InOidAdGhlbWUnLCdkYXRldGltZS1oZWFkZXItaXRlbS1jYW5jZWwtZm9udC1jb2xvcic6J0B0aGVtZScsJ2RhdGV0aW1lLWhlYWRlci1pdGVtLWNvbmZpcm0tZm9udC1jb2xvcic6J0B0aGVtZScsJ3BvcHVwLXBpY2tlci1oZWFkZXItdGV4dC1jb2xvcic6J0B0aGVtZScsJ2RpYWxvZy1idXR0b24tdGV4dC1wcmltYXJ5LWNvbG9yJzonQHRoZW1lJywndGFiLXRleHQtZGlzYWJsZWQtY29sb3InOicjZGRkJywndGFiLXRleHQtZGVmYXVsdC1jb2xvcic6JyM2NjYnLCd0YWItdGV4dC1hY3RpdmUtY29sb3InOidAdGhlbWUnLCd0YWItYmFyLWFjdGl2ZS1jb2xvcic6J0B0aGVtZSd9LCdzb3VyY2VNYXAnOnRydWV9IS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dXgtbG9hZGVyL3NyYy9zdHlsZS1sb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9saXN0Vmlldy52dWVcIiwgZnVuY3Rpb24oKSB7XG4gICAgIHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/e1xcXCJtaW5pbWl6ZVxcXCI6ZmFsc2UsXFxcInNvdXJjZU1hcFxcXCI6dHJ1ZX0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3N0eWxlLWNvbXBpbGVyL2luZGV4LmpzP3tcXFwidnVlXFxcIjp0cnVlLFxcXCJpZFxcXCI6XFxcImRhdGEtdi0xYjkxMDc4NFxcXCIsXFxcInNjb3BlZFxcXCI6dHJ1ZSxcXFwiaGFzSW5saW5lQ29uZmlnXFxcIjp0cnVlfSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnV4LWxvYWRlci9zcmMvYWZ0ZXItbGVzcy1sb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2xlc3MtbG9hZGVyL2luZGV4LmpzP3snbW9kaWZ5VmFycyc6eyd0aGVtZSc6JyMzMzMzMzMnLCd0aGVtZS1ibGFjayc6JyMwMDAwMDAnLCd0aGVtZS1zZWNvbmRhcnknOicjNTg1ODU4JywndGhlbWUtcmVkJzonI0U0MzY0RicsJ3RoZW1lLWJnJzonI2VlZWVlZScsJ3RoZW1lLWxpbmVhci1ncmFkaWVudCc6J2xpbmVhci1ncmFkaWVudCgtOTBkZWcsICNlYjQ3NmEgMCUsICNlYjQ3NmEgMTAwJSknLCdoZWFkZXItaGVpZ2h0JzonMC44OHJlbScsJ3BhZ2Utc3BhY2UnOicwLjI0cmVtJywndGhlbWUtcHJpbWFyeSc6JyMyZDhjZjAnLCd0aGVtZS1saWdodC1wcmltYXJ5JzonIzVjYWRmZicsJ3RoZW1lLWRhcmstcHJpbWFyeSc6JyMyYjg1ZTQnLCd0aGVtZS1pbmZvJzonIzJkYjdmNScsJ3RoZW1lLXN1Y2Nlc3MnOicjMTliZTZiJywndGhlbWUtd2FybmluZyc6JyNmZjk5MDAnLCd0aGVtZS1lcnJvcic6JyNlZDQwMTQnLCd0ZXh0LXRpdGxlJzonIzE3MjMzZCcsJ3RleHQtY29udGVudCc6JyM1MTVhNmUnLCdzdWItY29sb3InOicjODA4Njk1JywnYnRuLWRpc2FibGVkJzonI2M1YzhjZScsJ2JvcmRlci1jb2xvcic6JyNkY2RlZTInLCdkaXZpZGVyLWNvbG9yJzonI2U4ZWFlYycsJ2JhY2tncm91bmQtY29sb3InOicjZjhmOGY5JywndGhlbWUtYmQnOicjQjNCM0IzJywnY29sb3JEaXNhYmxlZCc6JyNCOEI4QjgnLCd0aGVtZVRleHQnOicjNDE0MTQxJywnY29sb3JOb3JtYWwnOicjNDE0MTQxJywndGhlbWUtbm9ybWFsJzonIzZGNkY2RicsJ3RoZW1lR3JleSc6JyM5OTknLCdjb2xvckxpZ2h0JzonIzk5OScsJ3RoZW1lLXRpcCc6JyNDMkMyQzInLCd0aGVtZVdhcm4nOicjRkYzQjMwJywnc3dpcGVyLWluZGljYXRvci1hY3RpdmUtY29sb3InOidAdGhlbWUnLCdkYXRldGltZS1oZWFkZXItaXRlbS1jYW5jZWwtZm9udC1jb2xvcic6J0B0aGVtZScsJ2RhdGV0aW1lLWhlYWRlci1pdGVtLWNvbmZpcm0tZm9udC1jb2xvcic6J0B0aGVtZScsJ3BvcHVwLXBpY2tlci1oZWFkZXItdGV4dC1jb2xvcic6J0B0aGVtZScsJ2RpYWxvZy1idXR0b24tdGV4dC1wcmltYXJ5LWNvbG9yJzonQHRoZW1lJywndGFiLXRleHQtZGlzYWJsZWQtY29sb3InOicjZGRkJywndGFiLXRleHQtZGVmYXVsdC1jb2xvcic6JyM2NjYnLCd0YWItdGV4dC1hY3RpdmUtY29sb3InOidAdGhlbWUnLCd0YWItYmFyLWFjdGl2ZS1jb2xvcic6J0B0aGVtZSd9LCdzb3VyY2VNYXAnOnRydWV9IS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dXgtbG9hZGVyL3NyYy9zdHlsZS1sb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9saXN0Vmlldy52dWVcIik7XG4gICAgIGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuICAgICB1cGRhdGUobmV3Q29udGVudCk7XG4gICB9KTtcbiB9XG4gLy8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi92dWUtc3R5bGUtbG9hZGVyIS4vfi9jc3MtbG9hZGVyP3tcIm1pbmltaXplXCI6ZmFsc2UsXCJzb3VyY2VNYXBcIjp0cnVlfSEuL34vdnVlLWxvYWRlci9saWIvc3R5bGUtY29tcGlsZXI/e1widnVlXCI6dHJ1ZSxcImlkXCI6XCJkYXRhLXYtMWI5MTA3ODRcIixcInNjb3BlZFwiOnRydWUsXCJoYXNJbmxpbmVDb25maWdcIjp0cnVlfSEuL34vdnV4LWxvYWRlci9zcmMvYWZ0ZXItbGVzcy1sb2FkZXIuanMhLi9+L2xlc3MtbG9hZGVyP3snbW9kaWZ5VmFycyc6eyd0aGVtZSc6JyMzMzMzMzMnLCd0aGVtZS1ibGFjayc6JyMwMDAwMDAnLCd0aGVtZS1zZWNvbmRhcnknOicjNTg1ODU4JywndGhlbWUtcmVkJzonI0U0MzY0RicsJ3RoZW1lLWJnJzonI2VlZWVlZScsJ3RoZW1lLWxpbmVhci1ncmFkaWVudCc6J2xpbmVhci1ncmFkaWVudCgtOTBkZWcsICNlYjQ3NmEgMCUsICNlYjQ3NmEgMTAwJSknLCdoZWFkZXItaGVpZ2h0JzonMC44OHJlbScsJ3BhZ2Utc3BhY2UnOicwLjI0cmVtJywndGhlbWUtcHJpbWFyeSc6JyMyZDhjZjAnLCd0aGVtZS1saWdodC1wcmltYXJ5JzonIzVjYWRmZicsJ3RoZW1lLWRhcmstcHJpbWFyeSc6JyMyYjg1ZTQnLCd0aGVtZS1pbmZvJzonIzJkYjdmNScsJ3RoZW1lLXN1Y2Nlc3MnOicjMTliZTZiJywndGhlbWUtd2FybmluZyc6JyNmZjk5MDAnLCd0aGVtZS1lcnJvcic6JyNlZDQwMTQnLCd0ZXh0LXRpdGxlJzonIzE3MjMzZCcsJ3RleHQtY29udGVudCc6JyM1MTVhNmUnLCdzdWItY29sb3InOicjODA4Njk1JywnYnRuLWRpc2FibGVkJzonI2M1YzhjZScsJ2JvcmRlci1jb2xvcic6JyNkY2RlZTInLCdkaXZpZGVyLWNvbG9yJzonI2U4ZWFlYycsJ2JhY2tncm91bmQtY29sb3InOicjZjhmOGY5JywndGhlbWUtYmQnOicjQjNCM0IzJywnY29sb3JEaXNhYmxlZCc6JyNCOEI4QjgnLCd0aGVtZVRleHQnOicjNDE0MTQxJywnY29sb3JOb3JtYWwnOicjNDE0MTQxJywndGhlbWUtbm9ybWFsJzonIzZGNkY2RicsJ3RoZW1lR3JleSc6JyM5OTknLCdjb2xvckxpZ2h0JzonIzk5OScsJ3RoZW1lLXRpcCc6JyNDMkMyQzInLCd0aGVtZVdhcm4nOicjRkYzQjMwJywnc3dpcGVyLWluZGljYXRvci1hY3RpdmUtY29sb3InOidAdGhlbWUnLCdkYXRldGltZS1oZWFkZXItaXRlbS1jYW5jZWwtZm9udC1jb2xvcic6J0B0aGVtZScsJ2RhdGV0aW1lLWhlYWRlci1pdGVtLWNvbmZpcm0tZm9udC1jb2xvcic6J0B0aGVtZScsJ3BvcHVwLXBpY2tlci1oZWFkZXItdGV4dC1jb2xvcic6J0B0aGVtZScsJ2RpYWxvZy1idXR0b24tdGV4dC1wcmltYXJ5LWNvbG9yJzonQHRoZW1lJywndGFiLXRleHQtZGlzYWJsZWQtY29sb3InOicjZGRkJywndGFiLXRleHQtZGVmYXVsdC1jb2xvcic6JyM2NjYnLCd0YWItdGV4dC1hY3RpdmUtY29sb3InOidAdGhlbWUnLCd0YWItYmFyLWFjdGl2ZS1jb2xvcic6J0B0aGVtZSd9LCdzb3VyY2VNYXAnOnRydWV9IS4vfi92dXgtbG9hZGVyL3NyYy9zdHlsZS1sb2FkZXIuanMhLi9+L3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yLmpzP3R5cGU9c3R5bGVzJmluZGV4PTAhLi9zcmMvcGFnZXMvZGVtby9saXN0Vmlldy52dWVcbi8vIG1vZHVsZSBpZCA9IDY4MVxuLy8gbW9kdWxlIGNodW5rcyA9IDEzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///681\n");

/***/ })

});