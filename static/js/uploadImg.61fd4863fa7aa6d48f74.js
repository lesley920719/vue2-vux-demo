webpackJsonp([17],{363:function(e,a,t){function i(e){t(549)}var r=t(0)(t(471),t(739),i,"data-v-3a03098f",null);e.exports=r.exports},471:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=t(109),r=t.n(i),o=t(108),d=t.n(o);a.default={name:"uploadImg",data:function(){return{applyRefund:{imageurl:[],imageurlFile:[]},imageUrlList:[]}},methods:{preview:function(e){var a=e.target.files||e.dataTransfer.files||this.$refs.uploadImg.files;console.log(a);var t=e.currentTarget.files[0];console.log("uploadFiles",t),a.length&&this.createImage(a,t)},deleteImg:function(e){this.applyRefund.imageurl.splice(e,1),this.applyRefund.imageurlFile.splice(e,1)},createImage:function(e,a){var t=this;return d()(r.a.mark(function i(){var o,d,n,l;return r.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o=t,"undefined"!=typeof FileReader){i.next=4;break}return t.$toast("您的浏览器不支持图片上传，请升级您的浏览器"),i.abrupt("return",!1);case 4:d=e.length,n={},l=new FileReader,l.readAsDataURL(e[0]),l.onload=function(e){n.url=e.target.result,o.applyRefund.imageurl.push(n),o.applyRefund.imageurlFile.push(a)},t.$refs.uploadImg.value="";case 10:case"end":return i.stop()}},i,t)}))()},ImgUpoad:function(){var e=this;return d()(r.a.mark(function a(){var t,i,o,d,n,l;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t=e.applyRefund.imageurlFile,t.length?e.$toast("上传图片中..."):e.$toast("请先选择图片..."),i=0;case 3:if(!(i<t.length)){a.next=15;break}return o=new FormData,o.append("file",t[i]),console.dir(o),a.abrupt("return");case 10:d=a.sent,d&&"100000"===d.data.head.code?(n=d.body,l=n.fullUrl,e.imageUrlList.push(l)):d.data.head instanceof Object?e.$toast(d.data.head.msg):e.$toast("网络错误，请重新提交...");case 12:i++,a.next=3;break;case 15:case"end":return a.stop()}},a,e)}))()}},created:function(){},computed:{uploadLimit:function(){return this.applyRefund.imageurl.length<5}}}},500:function(e,a,t){var i=t(319);a=e.exports=t(99)(!1),a.push([e.i,'.border-1px-b[data-v-3a03098f],.border-1px-l[data-v-3a03098f],.border-1px-r[data-v-3a03098f],.border-1px-t[data-v-3a03098f],.border-1px-tb[data-v-3a03098f],.border-1px[data-v-3a03098f]{position:relative}.upload_img .zone-img[data-v-3a03098f]{width:100%;background:#fff}.upload_img .zone-img .title[data-v-3a03098f]{line-height:.6rem;color:#414141;font-size:.28rem;padding:0 .3rem;font-weight:400}.upload_img .zone-img .img[data-v-3a03098f]{float:left;display:block;width:2rem;height:1.5rem;overflow:hidden;margin:0 0 .18rem .2rem}.upload_img .zone-img .btn-add[data-v-3a03098f]{float:left;display:block;border:1px dashed #999;margin:0 0 .18rem .2rem;width:2rem;height:1.5rem;font-size:.6rem;font-weight:100;color:#999}.upload_img .zone-img .upload_imgs_sec[data-v-3a03098f]{padding-left:.3rem;padding-bottom:.19rem}.upload_img .zone-img .upload_imgs_sec .add_img_dev-border[data-v-3a03098f]{display:inline-block}.upload_img .zone-img .upload_imgs_sec .add_img_dev-border .add_img_dev[data-v-3a03098f]{float:left;position:relative;height:1.5rem;width:2rem;text-align:center;line-height:1.5rem;border:1px dashed #999}.upload_img .zone-img .upload_imgs_sec .add_img_dev-border .add_img_dev[data-v-3a03098f]:before{position:absolute;content:"";width:.3rem;height:.06rem;background:#999;top:50%;margin-top:-.03rem;left:50%;margin-left:-.15rem}.upload_img .zone-img .upload_imgs_sec .add_img_dev-border .add_img_dev[data-v-3a03098f]:after{position:absolute;content:"";height:.3rem;width:.06rem;background:#999;top:50%;margin-top:-.15rem;margin-left:-.03rem}.upload_img .zone-img .upload_imgs_sec .add_img_dev-border input[data-v-3a03098f]{opacity:0;height:1.5rem;width:2rem;position:absolute;left:0;top:0}.upload_img .zone-img .upload_imgs_sec .float_upload_img[data-v-3a03098f]{position:relative;float:left;font-size:0;height:1.5rem;width:2rem;margin-right:.3rem}.upload_img .zone-img .upload_imgs_sec .float_upload_img img[data-v-3a03098f]{height:1.5rem;width:2rem}.upload_img .zone-img .upload_imgs_sec .float_upload_img .btns-add[data-v-3a03098f]{position:absolute;top:-.3rem;right:-.3rem;width:.58rem;height:.58rem;background-image:url('+i(t(323))+");background-position:50%;background-repeat:no-repeat;background-size:100%;z-index:10}@media (-webkit-min-device-pixel-ratio:3),(min-device-pixel-ratio:3){.upload_img .zone-img .upload_imgs_sec .float_upload_img .btns-add[data-v-3a03098f]{background-image:url("+i(t(324))+")}}.upload_img button[data-v-3a03098f]{border:0;background-color:#0f8eeb;display:block;width:100%;height:.8rem;color:#fff;font-size:.28rem;text-align:center}",""])},549:function(e,a,t){var i=t(500);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t(318)("39364098",i,!0,{})},739:function(e,a){e.exports={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"upload_img"},[t("section",{staticClass:"zone-img clearfix"},[t("h2",{staticClass:"title"},[e._v("\n      照片采集\n    ")]),e._v(" "),t("section",{staticClass:"upload_imgs_sec clearfix"},[e._l(e.applyRefund.imageurl,function(a,i){return t("div",{key:i,staticClass:"float_upload_img"},[t("img",{attrs:{src:a.url,alt:""}}),e._v(" "),t("div",{staticClass:"btns-add",on:{click:function(a){return e.deleteImg(i)}}})])}),e._v(" "),t("div",{staticClass:"vux-1px add_img_dev-border"},[e.uploadLimit?t("div",{staticClass:"add_img_dev"},[t("input",{ref:"uploadImg",attrs:{type:"file",accept:"image/*",capture:"camera",name:"image",multiple:""},on:{change:e.preview}})]):e._e()])],2)]),e._v(" "),t("button",{on:{click:function(a){return e.ImgUpoad()}}},[e._v("图片上传")])])},staticRenderFns:[]}}});